*GitHub Repository "Protocol-Pawns/chess-on-chain"*

'''--- .clippy.toml ---
too-many-arguments-threshold = 10
enum-variant-size-threshold=400

'''
'''--- .github/workflows/audit.yml ---
name: Audit dependencies

on:
  push:
    paths:
      - '**/Cargo.toml'
      - '**/Cargo.lock'
  pull_request:
    paths:
      - '**/Cargo.toml'
      - '**/Cargo.lock'

env:
  RUST_TOOLCHAIN: nightly-2024-02-16

jobs:
  ci:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
        name: Checkout

      - uses: actions-rs/toolchain@v1
        name: Install Toolchain
        with:
          profile: minimal
          toolchain: ${{ env.RUST_TOOLCHAIN }}
          override: true

      - uses: actions-rs/cargo@v1
        name: Install Cargo Tools
        with:
          command: install
          args: cargo-audit

      - uses: actions-rs/cargo@v1
        name: Audit
        with:
          command: audit

'''
'''--- .github/workflows/deploy.yml ---
name: Deploy example page

on:
  push:
    branches:
      - master
    paths:
      - '.github/workflows/deploy.yml'
      - 'app/**/*'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install Node
        uses: actions/setup-node@v2
        with:
          node-version: '18'

      - name: Build
        run: |
          yarn install
          yarn app build

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./app/build

'''
'''--- .github/workflows/test.yml ---
name: Test

on:
  push:
    paths:
      - '.github/workflows/test.yml'
      - 'crates/**/*'
      - 'Cargo.toml'
      - 'build.sh'
      - 'rust-toolchain.toml'
  pull_request:
    paths:
      - '.github/workflows/test.yml'
      - 'crates/**/*'
      - 'build.sh'
      - 'Cargo.toml'
      - 'rust-toolchain.toml'

env:
  RUST_TOOLCHAIN: nightly-2024-02-16
  BINARYEN_VERSION: 116

jobs:
  test:
    runs-on: ubuntu-latest

    env:
      RUST_BACKTRACE: full

    steps:
      - uses: actions/checkout@v2
        name: Checkout
        with:
          submodules: recursive

      - uses: actions-rs/toolchain@v1
        name: Install Toolchain
        with:
          profile: minimal
          toolchain: ${{ env.RUST_TOOLCHAIN }}
          target: wasm32-unknown-unknown
          override: true
          components: rustfmt, clippy

      - name: Install Cargo Near
        run: |
          cargo install cargo-near

      - name: Install wasm-opt
        run: |
          echo $PATH
          curl -L https://github.com/WebAssembly/binaryen/releases/download/version_${{ env.BINARYEN_VERSION }}/binaryen-version_${{ env.BINARYEN_VERSION }}-x86_64-linux.tar.gz --output binaryen.tar.gz
          tar -zxvf binaryen.tar.gz binaryen-version_${{ env.BINARYEN_VERSION }}/bin/wasm-opt
          mkdir -p /home/runner/.local/bin
          mv binaryen-version_${{ env.BINARYEN_VERSION }}/bin/wasm-opt /home/runner/.local/bin/wasm-opt

      - uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}

      - uses: actions-rs/cargo@v1
        name: Clippy
        with:
          command: clippy
          args: -- -D warnings

      - uses: actions-rs/cargo@v1
        name: Fmt
        with:
          command: fmt
          args: -- --check

      - name: Build
        run: ./build.sh

      - uses: actions-rs/cargo@v1
        name: Test
        with:
          command: test
          args: -- --nocapture

'''
'''--- .vscode/extensions.json ---
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "rust-lang.rust-analyzer",
    "serayuzgur.crates",
    "svelte.svelte-vscode",
    "tamasfe.even-better-toml"
  ]
}

'''
'''--- .vscode/launch.json ---
{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "runtimeExecutable": "/usr/bin/brave",
      "name": "Brave",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}"
    }
  ]
}

'''
'''--- .vscode/settings.json ---
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.tabSize": 2,
  "eslint.validate": ["javascript", "typescript", "svelte"],
  "rust-analyzer.showUnlinkedFileNotification": false,
  "svelte.enable-ts-plugin": true,
  "svelte.plugin.svelte.defaultScriptLanguage": "ts"
}

'''
'''--- Cargo.toml ---
[workspace]
members = ["crates/*"]
resolver = "2"

[workspace.dependencies]
anyhow = "1"
async-stream = "0.3"
dotenv = "0.15"
either = "1"
futures = "0.3"
futures-core = "0.3"
futures-util = "0.3"
maplit = "1"
near-lake-framework = "0.7"
near-workspaces = { version = "0.10", default-features = false }
once_cell = "1"
owo-colors = "4"
primitive-types = { version = "0.12", default-features = false }
rand = { version = "0.8", default-features = false, features = ["alloc"] }
rand_chacha = "0.3"
rayon = "1"
reqwest = { version = "0.11", features = ["json"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
strum = { version = "0.26", features = ["derive"] }
thiserror = "1"
tokio = { version = "1", features = ["full"] }
tokio-stream = "0.1"
toml = "0.8"
urlencoding = "2"

[workspace.dependencies.near-contract-standards]
version = "5.0.0-alpha.2"

[workspace.dependencies.near-sdk]
version = "5.0.0"
default-features = false
features = ["unstable"]

[profile]
[profile.release]
codegen-units = 1
opt-level = 3
lto = true
debug = false
panic = "abort"
overflow-checks = true
strip = "symbols"

[profile.test.package.'*']
codegen-units = 1
opt-level = 1

'''
'''--- README.md ---
# Protocol Pawns

_Protocol Pawns_ is your very first turn based fully on chain chess game.

Try out the [dapp](https://near.org/chess-game.near/widget/ChessGameLobby)!

Features:

- play against an AI (3 difficulties)
- PvP
- ELO ranking, if [I-Am-Human](https://i-am-human.app/) verified

Upcoming features:

- gaming token backed by treasury
- money matches

## Build, deploy & migrate

```sh
# build
./build.sh

# deploy
near deploy app.chess-game.near ./res/chess.wasm

# migrate
near call app.chess-game.near migrate '' --accountId app.chess-game.near --gas 300000000000000
```

## Irys uploads

Install [Irys CLI](https://docs.irys.network/developer-docs/cli).

```sh
# fund account
bundlr -h http://node1.bundlr.network -w $NEAR_PRIVATE_KEY -t near fund 1000000000000000000000000

# check balance
bundlr -h http://node1.bundlr.network -w $NEAR_PRIVATE_KEY -t near balance chess-game.near

# upload folder
bundlr -h http://node1.bundlr.network -w $NEAR_PRIVATE_KEY -t near upload-dir ./assets/hk/
```

### Uploaded files

- https://6pvogaxcfxogppk7kexyngfi3uzdlay77zowch4gcaoswmrcyooa.arweave.net/8-rjAuIt3Ge9X1Evhpio3TI1gx_-XWEfhhAdKzIiw5w

## Credits

- Adam Mcdaniel for his [chess engine](https://github.com/adam-mcdaniel/chess-engine)
- atomflunder for his [ELO rating algorithm](https://github.com/atomflunder/skillratings/)

'''
'''--- abi-gen.sh ---
#!/bin/bash
set -e
cd "`dirname $0`"

rm -rf abi-gen
mkdir -p abi-gen

readarray -t keys < <(jq -c '.body.root_schema.definitions' res/chess_abi.json | jq 'keys' | jq '.[]')

for key in "${keys[@]}"; do
    key=$(echo $key | sed 's/"//g')
    jq -c '.body.root_schema.definitions.'$key res/chess_abi.json >> abi-gen/$key.json
    sed -E -i 's|"#\/definitions\/([a-zA-Z0-9]*)"|"\1\.json"|g' abi-gen/$key.json
done

for key in "${keys[@]}"; do
    key=$(echo $key | sed 's/"//g')
    if [[ "$key" == "BetView" ]]; then
        continue
    fi
    set +e
    yarn json2ts --cwd=abi-gen abi-gen/$key.json abi-gen/$key.d.ts
    if [ $? -eq 0 ]; then
        echo "export * from './$key';" >> abi-gen/index.ts
    fi
    set -e
done

yarn tsup abi-gen/index.ts --dts-only -d abi
sed -E -i 's|\[k: string\]: unknown;||g' abi/index.d.ts
yarn prettier --write abi
rm -rf abi-gen

'''
'''--- abi/index.d.ts ---
/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

/**
 * NEAR Account Identifier.
 *
 * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
 *
 * [See the crate-level docs for information about validation.](index.html#account-id-rules)
 *
 * Also see [Error kind precedence](AccountId#error-kind-precedence).
 *
 * ## Examples
 *
 * ``` use near_account_id::AccountId;
 *
 * let alice: AccountId = "alice.near".parse().unwrap();
 *
 * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
 */
type AccountId = string;

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface AccountInfo {
  elo?: number | null;
  is_human: boolean;
  near_amount: string;
  points: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type Achievement =
  | 'FirstWinHuman'
  | 'FirstWinAiEasy'
  | 'FirstWinAiMedium'
  | 'FirstWinAiHard';

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface AchievementInfo {
  name: string;
  points: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface BetInfo {
  bets: {
    [k: string]: [string, BetView][];
  };
  is_locked: boolean;
}
interface BetView {
  amount: string;
  /**
   * NEAR Account Identifier.
   *
   * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
   *
   * [See the crate-level docs for information about validation.](index.html#account-id-rules)
   *
   * Also see [Error kind precedence](AccountId#error-kind-precedence).
   *
   * ## Examples
   *
   * ``` use near_account_id::AccountId;
   *
   * let alice: AccountId = "alice.near".parse().unwrap();
   *
   * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
   */
  winner: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface Challenge {
  /**
   * NEAR Account Identifier.
   *
   * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
   *
   * [See the crate-level docs for information about validation.](index.html#account-id-rules)
   *
   * Also see [Error kind precedence](AccountId#error-kind-precedence).
   *
   * ## Examples
   *
   * ``` use near_account_id::AccountId;
   *
   * let alice: AccountId = "alice.near".parse().unwrap();
   *
   * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
   */
  challenged: string;
  /**
   * NEAR Account Identifier.
   *
   * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
   *
   * [See the crate-level docs for information about validation.](index.html#account-id-rules)
   *
   * Also see [Error kind precedence](AccountId#error-kind-precedence).
   *
   * ## Examples
   *
   * ``` use near_account_id::AccountId;
   *
   * let alice: AccountId = "alice.near".parse().unwrap();
   *
   * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
   */
  challenger: string;
  id: string;
  /**
   * @minItems 2
   * @maxItems 2
   */
  wager?: [string, string] | null;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type Color = 'White' | 'Black';

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type Difficulty = 'Easy' | 'Medium' | 'Hard';

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface Fees {
  royalties: [string, number][];
  treasury: number;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface FungibleTokenMetadata {
  decimals: number;
  icon?: string | null;
  name: string;
  reference?: string | null;
  reference_hash?: string | null;
  spec: string;
  symbol: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

/**
 * @minItems 3
 * @maxItems 3
 */
type GameId = [number, string, string | null];

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface GameInfo {
  black:
    | {
        type: 'Human';
        /**
         * NEAR Account Identifier.
         *
         * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
         *
         * [See the crate-level docs for information about validation.](index.html#account-id-rules)
         *
         * Also see [Error kind precedence](AccountId#error-kind-precedence).
         *
         * ## Examples
         *
         * ``` use near_account_id::AccountId;
         *
         * let alice: AccountId = "alice.near".parse().unwrap();
         *
         * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
         */
        value: string;
      }
    | {
        type: 'Ai';
        value: 'Easy' | 'Medium' | 'Hard';
      };
  has_bets: boolean;
  last_block_height: number;
  turn_color: 'White' | 'Black';
  white:
    | {
        type: 'Human';
        /**
         * NEAR Account Identifier.
         *
         * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
         *
         * [See the crate-level docs for information about validation.](index.html#account-id-rules)
         *
         * Also see [Error kind precedence](AccountId#error-kind-precedence).
         *
         * ## Examples
         *
         * ``` use near_account_id::AccountId;
         *
         * let alice: AccountId = "alice.near".parse().unwrap();
         *
         * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
         */
        value: string;
      }
    | {
        type: 'Ai';
        value: 'Easy' | 'Medium' | 'Hard';
      };
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type GameOutcome =
  | {
      color: 'White' | 'Black';
      result: 'Victory';
    }
  | {
      result: 'Stalemate';
    };

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type Player =
  | {
      type: 'Human';
      /**
       * NEAR Account Identifier.
       *
       * This is a unique, syntactically valid, human-readable account identifier on the NEAR network.
       *
       * [See the crate-level docs for information about validation.](index.html#account-id-rules)
       *
       * Also see [Error kind precedence](AccountId#error-kind-precedence).
       *
       * ## Examples
       *
       * ``` use near_account_id::AccountId;
       *
       * let alice: AccountId = "alice.near".parse().unwrap();
       *
       * assert!("ƒelicia.near".parse::<AccountId>().is_err()); // (ƒ is not f) ```
       */
      value: string;
    }
  | {
      type: 'Ai';
      value: 'Easy' | 'Medium' | 'Hard';
    };

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type PromiseOrValueNull = null;

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type PromiseOrValueString = string;

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

type Quest = 'DailyPlayMove' | 'WeeklyWinHuman';

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface QuestInfo {
  cooldown: number;
  name: string;
  points: string;
  points_on_cd: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface StorageBalance {
  available: string;
  total: string;
}

/* eslint-disable */
/**
 * This file was automatically generated by json-schema-to-typescript.
 * DO NOT MODIFY IT BY HAND. Instead, modify the source JSONSchema file,
 * and run json-schema-to-typescript to regenerate this file.
 */

interface StorageBalanceBounds {
  max?: string | null;
  min: string;
}

export type {
  AccountId,
  AccountInfo,
  Achievement,
  AchievementInfo,
  BetInfo,
  BetView,
  Challenge,
  Color,
  Difficulty,
  Fees,
  FungibleTokenMetadata,
  GameId,
  GameInfo,
  GameOutcome,
  Player,
  PromiseOrValueNull,
  PromiseOrValueString,
  Quest,
  QuestInfo,
  StorageBalance,
  StorageBalanceBounds
};

'''
'''--- api/package.json ---
{
  "private": true,
  "name": "api",
  "version": "0.0.0",
  "scripts": {
    "start": "wrangler dev",
    "deploy": "wrangler deploy",
    "test": "vitest",
    "clean": "rm -rf ./.wrangler",
    "build:dts": "tsup src/index.ts --dts-only --dts-resolve && mv dist/index.d.ts dist/api.d.ts"
  },
  "dependencies": {
    "@hono/zod-validator": "^0.1.11",
    "hono": "^4.0.4",
    "ts-pattern": "^5.0.8",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20240208.0",
    "tsup": "^8.0.2"
  }
}

'''
'''--- api/src/acounts.ts ---
import { Hono } from 'hono';

import { Account } from './events';

export const accounts = new Hono().get('/account/:account_id', async c => {
  const accountId = c.req.param('account_id');
  const addr = c.env.GAMES.idFromName('');
  const obj = c.env.GAMES.get(addr);
  const res = await obj.fetch(
    `${new URL(c.req.url).origin}/account/${accountId}`
  );
  const info = await res.json<Account>();
  return c.json(info);
});

'''
'''--- api/src/batch.ts ---
import { zValidator } from '@hono/zod-validator';
import { Hono } from 'hono';
import { bearerAuth } from 'hono/bearer-auth';
import { P, match } from 'ts-pattern';

import { zodBatchEvent } from './events';

export const batch = new Hono();
batch
  .use('*', async (c, next) => {
    const auth = bearerAuth({ token: c.env.INDEXER_SECRET });
    await auth(c, next);
  })
  .post(
    '',
    zValidator('json', zodBatchEvent, result => {
      if (result.success) return;
      console.info(result.error.errors);
    }),
    async c => {
      const batchEvent = c.req.valid('json');

      console.info(
        `[${new Date().toLocaleString()}] block_height ${batchEvent.block_height}`
      );

      const infoAddr = c.env.INFO.idFromName('');
      const infoStub = c.env.INFO.get(infoAddr);
      const gameAddr = c.env.GAMES.idFromName('');
      const gameStub = c.env.GAMES.get(gameAddr);

      const locks: Record<string, Promise<void> | undefined> = {};

      await infoStub.fetch(`${new URL(c.req.url).origin}/last_block_height`, {
        method: 'POST',
        body: String(batchEvent.block_height)
      });

      if (batchEvent.events.length > 0) {
        for (const event of batchEvent.events) {
          try {
            const gameId = JSON.stringify(event.data.game_id);
            if (locks[gameId]) {
              await locks[gameId];
            }
            locks[gameId] = new Promise<void>((resolve, reject) => {
              try {
                match(event)
                  .with(
                    { event: 'create_game', data: P.select() },
                    async createGame => {
                      console.info('create_game', createGame);

                      await awaitResponse(
                        gameStub.fetch(
                          `${new URL(c.req.url).origin}/${encodeURI(JSON.stringify(createGame.game_id))}/create_game`,
                          {
                            method: 'POST',
                            body: JSON.stringify(createGame)
                          }
                        ),
                        reject
                      );
                      resolve();
                    }
                  )
                  .with(
                    { event: 'play_move', data: P.select() },
                    async playMove => {
                      console.info('play_move', playMove);

                      await awaitResponse(
                        gameStub.fetch(
                          `${new URL(c.req.url).origin}/${encodeURI(JSON.stringify(playMove.game_id))}/play_move`,
                          {
                            method: 'POST',
                            body: JSON.stringify(playMove)
                          }
                        ),
                        reject
                      );
                      resolve();
                    }
                  )
                  .with(
                    { event: 'resign_game', data: P.select() },
                    async resignGame => {
                      console.info('resign_game', resignGame);

                      await awaitResponse(
                        gameStub.fetch(
                          `${new URL(c.req.url).origin}/${encodeURI(JSON.stringify(resignGame.game_id))}/resign_game`,
                          {
                            method: 'POST',
                            body: JSON.stringify(resignGame)
                          }
                        ),
                        reject
                      );
                      resolve();
                    }
                  )
                  .with(
                    { event: 'cancel_game', data: P.select() },
                    async cancelGame => {
                      console.info('cancel_game', cancelGame);

                      await awaitResponse(
                        gameStub.fetch(
                          `${new URL(c.req.url).origin}/${encodeURI(JSON.stringify(cancelGame.game_id))}/cancel_game`,
                          {
                            method: 'POST',
                            body: JSON.stringify(cancelGame)
                          }
                        ),
                        reject
                      );
                      resolve();
                    }
                  )
                  .exhaustive();
              } catch (err) {
                reject();
              }
            });
          } catch (err) {
            if (err instanceof Response) {
              return err;
            } else {
              console.error(`Unexpected error: ${err}`);
            }
          }
        }

        await Promise.all(Object.values(locks).filter(promise => !!promise));
      }

      return new Response(null, { status: 204 });
    }
  );

async function awaitResponse(
  promise: Promise<Response>,
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  reject: (reason?: any) => void
) {
  try {
    const res = await promise;
    if (!res.ok) {
      rejectWithError(res, reject);
      return;
    }
  } catch (err) {
    rejectWithError(new Response('', { status: 500 }), reject);
  }
}

async function rejectWithError(
  res: Response,
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  reject: (reason?: any) => void
) {
  console.error(
    `Response from ${res.url} returned error: [${
      res.status
    }] ${await res.text()}`
  );
  reject(new Response(null, { status: 500 }));
}

'''
'''--- api/src/events.ts ---
import { z } from 'zod';

import { Optional } from './types';

const zodGameId = z.tuple([z.number(), z.string(), z.nullable(z.string())]);
export type GameId = z.infer<typeof zodGameId>;

const zodDifficulty = z.enum(['Easy', 'Medium', 'Hard']);
export type Difficulty = z.infer<typeof zodDifficulty>;

const zodColor = z.enum(['White', 'Black']);
export type Color = z.infer<typeof zodColor>;

const zodBoard = z.string().array().length(8);

const zodGameOutcome = z.discriminatedUnion('result', [
  z
    .object({
      result: z.literal('Stalemate')
    })
    .strict(),
  z
    .object({
      result: z.literal('Victory'),
      color: zodColor
    })
    .strict()
]);
export type GameOutcome = z.infer<typeof zodGameOutcome>;

const zodPlayer = z.discriminatedUnion('type', [
  z
    .object({
      type: z.literal('Human'),
      value: z.string()
    })
    .strict(),
  z
    .object({
      type: z.literal('Ai'),
      value: zodDifficulty
    })
    .strict()
]);
export type Player = z.infer<typeof zodPlayer>;

const zodCreateGame = z
  .object({
    game_id: zodGameId,
    white: zodPlayer,
    black: zodPlayer,
    board: zodBoard
  })
  .strict();
export type CreateGame = z.infer<typeof zodCreateGame>;

export type Move = {
  color: Color;
  mv: string;
  board: string[];
};

export type Game = CreateGame & {
  moves: Move[];
  resigner?: Color | null;
  outcome?: GameOutcome | null;
};

export type GameOverview = Optional<Game, 'moves'>;

export type Account = {
  finishedGameIds: GameId[];
};

const zodPlayMove = z
  .object({
    game_id: zodGameId,
    color: zodColor,
    mv: z.string(),
    board: zodBoard,
    outcome: zodGameOutcome.nullish()
  })
  .strict();
export type PlayMove = z.infer<typeof zodPlayMove>;

const zodResignGame = z
  .object({
    game_id: zodGameId,
    resigner: zodColor,
    outcome: zodGameOutcome
  })
  .strict();
export type ResignGame = z.infer<typeof zodResignGame>;

const zodCancelGame = z
  .object({
    game_id: zodGameId,
    cancelled_by: z.string()
  })
  .strict();
export type CancelGame = z.infer<typeof zodCancelGame>;

export const zodBatchEvent = z.object({
  block_height: z.number(),
  timestamp: z.number(),
  events: z
    .discriminatedUnion('event', [
      z
        .object({
          event: z.literal('create_game'),
          data: zodCreateGame
        })
        .strict(),
      z
        .object({
          event: z.literal('play_move'),
          data: zodPlayMove
        })
        .strict(),
      z
        .object({
          event: z.literal('resign_game'),
          data: zodResignGame
        })
        .strict(),
      z
        .object({
          event: z.literal('cancel_game'),
          data: zodCancelGame
        })
        .strict()
    ])
    .array()
});

export type BatchEvent = z.infer<typeof zodBatchEvent>;

'''
'''--- api/src/games.ts ---
import { Hono } from 'hono';

import {
  Account,
  CreateGame,
  Game,
  GameId,
  GameOverview,
  PlayMove,
  ResignGame
} from './events';

const MAX_RECENT_LIMIT = 25;

export const games = new Hono()
  .get('/game/:game_id', async c => {
    const gameIdJson = c.req.param('game_id');
    const addr = c.env.GAMES.idFromName('');
    const obj = c.env.GAMES.get(addr);
    const res = await obj.fetch(
      `${new URL(c.req.url).origin}/game/${encodeURI(gameIdJson)}`
    );
    const game = await res.json<Game>();
    return c.json(game);
  })
  .post('/query', async c => {
    const addr = c.env.GAMES.idFromName('');
    const obj = c.env.GAMES.get(addr);
    const {
      gameIds,
      includeMoves
    }: { gameIds: GameId[]; includeMoves?: boolean } = await c.req.json();
    const res = await obj.fetch(`${new URL(c.req.url).origin}/query`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ gameIds, includeMoves: includeMoves ?? false })
    });
    const info = await res.json<Game[]>();
    return c.json(info);
  })
  .get('/recent/new', async c => {
    const { limit, include_moves } = c.req.query();
    const actualLimit = Math.min(
      limit ? Number(limit) : MAX_RECENT_LIMIT,
      MAX_RECENT_LIMIT
    );
    const includeMoves = Number(include_moves);
    const addr = c.env.GAMES.idFromName('');
    const obj = c.env.GAMES.get(addr);
    const res = await obj.fetch(
      `${new URL(c.req.url).origin}/recent/new?limit=${actualLimit}&include_moves=${includeMoves}`
    );
    const info = await res.json<Game[]>();
    return c.json(info);
  })
  .get('/recent/finished', async c => {
    const { limit, include_moves } = c.req.query();
    const actualLimit = Math.min(
      limit ? Number(limit) : MAX_RECENT_LIMIT,
      MAX_RECENT_LIMIT
    );
    const includeMoves = Number(include_moves);
    const addr = c.env.GAMES.idFromName('');
    const obj = c.env.GAMES.get(addr);
    const res = await obj.fetch(
      `${new URL(c.req.url).origin}/recent/finished?limit=${actualLimit}&include_moves=${includeMoves}`
    );
    const game = await res.json<Game[]>();
    return c.json(game);
  });

export class Games {
  private state: DurableObjectState;
  private app: Hono;
  private newGameIds: string[];
  private finishedGameIds: string[];
  private games: Record<string, Game>;
  private accounts: Record<string, Account>;

  constructor(state: DurableObjectState) {
    this.state = state;
    this.newGameIds = [];
    this.finishedGameIds = [];
    this.games = {};
    this.accounts = {};
    this.state.blockConcurrencyWhile(async () => {
      const newGameIds = await this.state.storage.get<string[]>('newGameIds');
      this.newGameIds = newGameIds ?? [];
      const finishedGameIds =
        await this.state.storage.get<string[]>('finishedGameIds');
      this.finishedGameIds = finishedGameIds ?? [];
    });

    this.app = new Hono();
    this.app
      .get('/game/:game_id', async c => {
        const gameIdJson = c.req.param('game_id');
        const game = await this.loadGame(gameIdJson);
        if (game instanceof Response) {
          return new Response('', { status: 404 });
        }
        return c.json(game);
      })
      .post('/query', async c => {
        const {
          gameIds,
          includeMoves
        }: { gameIds: GameId[]; includeMoves?: boolean } = await c.req.json();

        const games: GameOverview[] = [];
        for (const gameId of gameIds) {
          const gameIdJson = JSON.stringify(gameId);
          const game = await this.loadGame(gameIdJson);
          if (game instanceof Response) {
            continue;
          }
          games.push({
            game_id: game.game_id,
            white: game.white,
            black: game.black,
            board: game.board,
            outcome: game.outcome,
            resigner: game.resigner,
            moves: includeMoves ? game.moves : undefined
          });
        }

        return c.json(games);
      })
      .get('/recent/new', async c => {
        const { limit, include_moves } = c.req.query();
        const end = Number(limit);
        const includeMoves = Number(include_moves);
        let index = 0;
        const games: GameOverview[] = [];
        for (const gameId of this.newGameIds) {
          const game = await this.loadGame(gameId);
          if (game instanceof Response) {
            continue;
          }
          games.push({
            game_id: game.game_id,
            white: game.white,
            black: game.black,
            board: game.board,
            outcome: game.outcome,
            resigner: game.resigner,
            moves: includeMoves ? game.moves : undefined
          });

          index++;
          if (index >= end) {
            break;
          }
        }

        return c.json(games);
      })
      .get('/recent/finished', async c => {
        const { limit, include_moves } = c.req.query();
        const end = Number(limit);
        const includeMoves = Number(include_moves);
        let index = 0;
        const games: GameOverview[] = [];
        for (const gameId of this.finishedGameIds) {
          const game = await this.loadGame(gameId);
          if (game instanceof Response) {
            continue;
          }
          games.push({
            game_id: game.game_id,
            white: game.white,
            black: game.black,
            board: game.board,
            outcome: game.outcome,
            resigner: game.resigner,
            moves: includeMoves ? game.moves : undefined
          });

          index++;
          if (index >= end) {
            break;
          }
        }

        return c.json(games);
      })
      .get('/account/:account_id', async c => {
        const accountId = c.req.param('account_id');
        const account = await this.loadAccount(accountId);

        return c.json(account);
      })
      .post('/:game_id/create_game', async c => {
        const gameIdJson = c.req.param('game_id');
        const createGame = await c.req.json<CreateGame>();

        this.games[gameIdJson] = { moves: [], ...createGame };
        await this.state.storage.put(`game:${gameIdJson}`, createGame, {
          allowUnconfirmed: false
        });

        this.newGameIds.unshift(gameIdJson);
        if (this.newGameIds.length > MAX_RECENT_LIMIT) {
          this.newGameIds.pop();
        }
        await this.state.storage.put('newGameIds', this.newGameIds, {
          allowUnconfirmed: false
        });

        return new Response(null, { status: 204 });
      })
      .post('/:game_id/play_move', async c => {
        const gameIdJson = c.req.param('game_id');
        const game = await this.loadGame(gameIdJson);
        if (game instanceof Response) {
          return game;
        }
        const playMove = await c.req.json<PlayMove>();

        game.moves.push({
          color: playMove.color,
          mv: playMove.mv,
          board: playMove.board
        });
        if (playMove.outcome != null) {
          game.outcome = playMove.outcome;
          this.finishedGameIds.unshift(gameIdJson);
          if (this.finishedGameIds.length > MAX_RECENT_LIMIT) {
            this.finishedGameIds.pop();
          }
          await this.state.storage.put(
            'finishedGameIds',
            this.finishedGameIds,
            {
              allowUnconfirmed: false
            }
          );

          await this.storeFinishedGame(game);
        }
        game.board = playMove.board;
        await this.state.storage.put(`game:${gameIdJson}`, game, {
          allowUnconfirmed: false
        });

        return new Response(null, { status: 204 });
      })
      .post('/:game_id/resign_game', async c => {
        const gameIdJson = c.req.param('game_id');
        const game = await this.loadGame(gameIdJson);
        if (game instanceof Response) {
          return game;
        }
        const resignGame = await c.req.json<ResignGame>();

        game.outcome = resignGame.outcome;
        game.resigner = resignGame.resigner;
        await this.state.storage.put(`game:${gameIdJson}`, game, {
          allowUnconfirmed: false
        });

        this.finishedGameIds.unshift(gameIdJson);
        if (this.finishedGameIds.length > MAX_RECENT_LIMIT) {
          this.finishedGameIds.pop();
        }
        await this.state.storage.put('finishedGameIds', this.finishedGameIds, {
          allowUnconfirmed: false
        });

        await this.storeFinishedGame(game);

        return new Response(null, { status: 204 });
      })
      .post('/:game_id/cancel_game', async c => {
        const gameIdJson = c.req.param('game_id');
        const game = await this.loadGame(gameIdJson);
        if (game instanceof Response) {
          return game;
        }

        delete this.games[gameIdJson];
        await this.state.storage.delete(`game:${gameIdJson}`, {
          allowUnconfirmed: false
        });

        const index = this.newGameIds.findIndex(
          gameId => gameId === gameIdJson
        );
        if (index >= 0) {
          this.newGameIds.splice(index, 1);
          await this.state.storage.put('newGameIds', this.newGameIds, {
            allowUnconfirmed: false
          });
        }

        return new Response(null, { status: 204 });
      });
  }

  async fetch(request: Request): Promise<Response> {
    return this.app.fetch(request);
  }

  private async loadGame(gameId: string): Promise<Game | Response> {
    let game: Game;
    if (!this.games[gameId]) {
      const loadGame = await this.state.storage.get<Game>(`game:${gameId}`);
      if (!loadGame) {
        // returns 204, because it might be from old version of contract
        return new Response(null, { status: 204 });
      }
      game = loadGame;
    } else {
      game = this.games[gameId];
    }
    return game;
  }

  private async loadAccount(accountId: string): Promise<Account> {
    if (!this.accounts[accountId]) {
      const loadedAccount = await this.state.storage.get<Account>(
        `account:${accountId}`
      );
      const account = loadedAccount ?? {
        finishedGameIds: []
      };
      this.accounts[accountId] = account;
      return account;
    } else {
      return this.accounts[accountId];
    }
  }

  private async storeFinishedGame(game: Game) {
    if (game.white.type === 'Human') {
      const account = await this.loadAccount(game.white.value);
      account.finishedGameIds.push(game.game_id);
      await this.state.storage.put(`account:${game.white.value}`, account);
    }
    if (game.black.type === 'Human') {
      const account = await this.loadAccount(game.black.value);
      account.finishedGameIds.push(game.game_id);
      await this.state.storage.put(`account:${game.black.value}`, account);
    }
  }
}

'''
'''--- api/src/index.ts ---
import { Hono } from 'hono';
import { cors } from 'hono/cors';
import { poweredBy } from 'hono/powered-by';
import { match } from 'ts-pattern';

import { accounts } from './acounts';
import { batch } from './batch';
import { games } from './games';
import { info } from './info';

const app = new Hono();

app.use('*', poweredBy());
app.use('*', cors());

const infoRoute = app.route('/info', info);
const gamesRoute = app.route('/games', games);
const accountsRoute = app.route('/accounts', accounts);
app.route('/batch', batch);

const testRoute = app.get('/test', c => {
  return c.json({
    test: '',
    test1: 0
  });
});

app.onError(
  err =>
    new Response(null, {
      status: match(err.message)
        .with('Unauthorized', () => 401 as const)
        .with('Bad Request', () => 400 as const)
        .otherwise(() => {
          throw err;
        })
    })
);

app.notFound(() => {
  return new Response(null, { status: 404 });
});

export default app;

export { Games } from './games';
export { Info } from './info';

export type AppType =
  | typeof infoRoute
  | typeof gamesRoute
  | typeof accountsRoute
  | typeof testRoute;

'''
'''--- api/src/info.ts ---
import { Hono } from 'hono';

export type InfoResult = {
  lastBlockHeight: number;
};

export const info = new Hono().get('/', async c => {
  const addr = c.env.INFO.idFromName('');
  const obj = c.env.INFO.get(addr);
  const res = await obj.fetch(`${new URL(c.req.url).origin}/info`);
  const info = await res.json<InfoResult>();
  return c.json(info);
});

export class Info {
  private state: DurableObjectState;
  private app: Hono;
  private info?: InfoResult;

  constructor(state: DurableObjectState) {
    this.state = state;
    this.state.blockConcurrencyWhile(async () => {
      const info = await this.state.storage.get<InfoResult>('info');
      this.info = info ?? { lastBlockHeight: 0 };
    });

    this.app = new Hono();
    this.app
      .get('*', c => {
        return c.json(this.info);
      })
      .post('/last_block_height', async c => {
        if (!this.info) return c.text('', 500);
        const lastBlockHeight = Number(await c.req.text());
        this.info.lastBlockHeight = lastBlockHeight;
        await this.state.storage.put('info', this.info);
        return new Response(null, { status: 204 });
      });
  }

  async fetch(request: Request): Promise<Response> {
    return this.app.fetch(request);
  }
}

'''
'''--- api/src/type_test.ts ---
import type {
  Color as ColorAbi,
  Difficulty as DifficultyAbi,
  GameId as GameIdAbi,
  GameOutcome as GameOutcomeAbi,
  Player as PlayerAbi
} from '../../abi';

import { Color, Difficulty, GameId, GameOutcome, Player } from './events';

// This is used for some tricky type testing whether the manually
// generated type from Zod is equal to the type exported from ABI
type IfEquals<T, U, Y = unknown, N = never> =
  (<G>() => G extends T ? 1 : 2) extends <G>() => G extends U ? 1 : 2 ? Y : N;
declare const exactType: <T, U>(
  draft: T & IfEquals<T, U>,
  expected: U & IfEquals<T, U>
) => IfEquals<T, U>;

declare let gameId: GameId;
declare let gameIdAbi: GameIdAbi;
exactType(gameId, gameIdAbi);

declare let difficulty: Difficulty;
declare let difficultyAbi: DifficultyAbi;
exactType(difficulty, difficultyAbi);

declare let color: Color;
declare let colorAbi: ColorAbi;
exactType(color, colorAbi);

declare let gameOutcome: GameOutcome;
declare let gameOutcomeAbi: GameOutcomeAbi;
exactType(gameOutcome, gameOutcomeAbi);

declare let player: Player;
declare let playerAbi: PlayerAbi;
exactType(player, playerAbi);

'''
'''--- api/src/types.d.ts ---
declare module 'hono' {
  interface Env {
    Variables: {
      user: User | null;
      session: Session | null;
      db: DB;
    };
    Bindings: {
      // Example binding to KV. Learn more at https://developers.cloudflare.com/workers/runtime-apis/kv/
      // MY_KV_NAMESPACE: KVNamespace;
      //
      // Durable Objects. Learn more at https://developers.cloudflare.com/workers/runtime-apis/durable-objects/
      INFO: DurableObjectNamespace;
      GAMES: DurableObjectNamespace;
      //
      // Example binding to R2. Learn more at https://developers.cloudflare.com/workers/runtime-apis/r2/
      // MY_BUCKET: R2Bucket;
      //
      // Example binding to a Service. Learn more at https://developers.cloudflare.com/workers/runtime-apis/service-bindings/
      // MY_SERVICE: Fetcher;
      //
      // Secret variables
      INDEXER_SECRET: string;
      //
      // Environment variables
      NEAR_RPC_URL: string;
    };
  }
}

export type Optional<T, K extends keyof T> = Omit<T, K> & Partial<T>;

'''
'''--- api/wrangler.toml ---
name = "pp-api"
main = "src/index.ts"
workers_dev = true
compatibility_date = "2024-01-29"

routes = [
	{ pattern = "api.protocol-pawns.com", custom_domain = true }
]

[vars]
# Run `echo <VALUE> | wrangler secret put <NAME>` for each of these

[durable_objects]
bindings = [
  { name = "GAMES", class_name = "Games" },
  { name = "INFO", class_name = "Info" },
]

[[migrations]]
tag = "v1"
new_classes = ["Games", "Info"]

'''
'''--- app/.env ---
VITE_API_BASE_URL=https://api.protocol-pawns.com
# VITE_API_BASE_URL=http://127.0.0.1:8787
VITE_NETWORK_ID=mainnet
# VITE_NODE_URL=https://beta.rpc.mainnet.near.org
VITE_NODE_URL=https://near.lava.build/lava-referer-ccbfe99b-d205-4d9d-9b6e-e919d474e9c0
VITE_EXPLORER_URL=https://explorer.near.org
VITE_CONTRACT_ID=app.chess-game.near

'''
'''--- app/README.md ---
# create-svelte

Everything you need to build a Svelte project, powered by [`create-svelte`](https://github.com/sveltejs/kit/tree/main/packages/create-svelte).

## Creating a project

If you're seeing this, you've probably already done this step. Congrats!

```bash
# create a new project in the current directory
npm create svelte@latest

# create a new project in my-app
npm create svelte@latest my-app
```

## Developing

Once you've created a project and installed dependencies with `npm install` (or `pnpm install` or `yarn`), start a development server:

```bash
npm run dev

# or start the server and open the app in a new browser tab
npm run dev -- --open
```

## Building

To create a production version of your app:

```bash
npm run build
```

You can preview the production build with `npm run preview`.

> To deploy your app, you may need to install an [adapter](https://kit.svelte.dev/docs/adapters) for your target environment.

'''
'''--- app/package.json ---
{
  "name": "app",
  "version": "0.0.1",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite dev",
    "build": "vite build",
    "preview": "vite preview",
    "smui-theme": "smui-theme compile static/smui.css -i src/theme",
    "check": "svelte-kit sync && svelte-check --tsconfig ./tsconfig.json",
    "check:watch": "svelte-kit sync && svelte-check --tsconfig ./tsconfig.json --watch",
    "postinstall": "yarn --cwd ../api build:dts && cp ../api/dist/api.d.ts ./src/lib/models/api.d.ts"
  },
  "dependencies": {
    "@here-wallet/core": "^1.6.6",
    "@near-wallet-selector/core": "^8.9.5",
    "@near-wallet-selector/here-wallet": "^8.9.5",
    "@near-wallet-selector/meteor-wallet": "^8.9.5",
    "@tarnadas/fixed-number": "0.1.0",
    "bs58": "^5.0.0",
    "dayjs": "^1.11.10",
    "near-api-js": "^3.0.3",
    "ts-pattern": "^5.0.8"
  },
  "devDependencies": {
    "@mdi/js": "^7.4.47",
    "@smui-extra/accordion": "^7.0.0-beta.16",
    "@smui/button": "7.0.0-beta.16",
    "@smui/card": "^7.0.0-beta.16",
    "@smui/icon-button": "7.0.0-beta.16",
    "@smui/tab": "7.0.0-beta.16",
    "@smui/tab-bar": "7.0.0-beta.16",
    "@sveltejs/adapter-static": "^3.0.1",
    "@sveltejs/kit": "^2.5.1",
    "@sveltejs/vite-plugin-svelte": "^3.0.2",
    "eslint-plugin-svelte": "^2.35.1",
    "prettier-plugin-svelte": "^3.2.1",
    "sass": "^1.71.1",
    "smui-theme": "7.0.0-beta.16",
    "svelte": "^4.2.12",
    "svelte-check": "^3.6.4",
    "svelte-material-ui": "^7.0.0-beta.16",
    "svelte-simple-modal": "^1.6.2",
    "vite": "^5.1.4",
    "vite-plugin-node-polyfills": "^0.21.0"
  }
}

'''
'''--- app/src/app.d.ts ---
// See https://kit.svelte.dev/docs/types#app
// for information about these interfaces
declare global {
  namespace App {
    // interface Error {}
    // interface Locals {}
    // interface PageData {}
    // interface PageState {}
    // interface Platform {}
  }
}

export {};

'''
'''--- app/src/app.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Protocol Pawns</title>
    %sveltekit.head%
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>

'''
'''--- app/src/lib/api.ts ---
import { hc, type InferResponseType } from "hono/client";

import type { AppType } from "$lib/models";

export const apiClient = hc<AppType>(import.meta.env.VITE_API_BASE_URL);

const getGameById = apiClient.games.game[":game_id"].$get;
export type GameApi = InferResponseType<typeof getGameById>;

'''
'''--- app/src/lib/assets/index.ts ---
import BuiltOnNear from "./BuiltOnNear.svelte";
import Near from "./Near.svelte";
import Telegram from "./Telegram.svelte";

export { BuiltOnNear, Near, Telegram };

'''
'''--- app/src/lib/auth/index.ts ---
import Login, { showWalletSelector } from "./Login.svelte";
import WalletSelector from "./WalletSelector.svelte";

export { showWalletSelector, Login, WalletSelector };

'''
'''--- app/src/lib/components/index.ts ---
import ChessBoard from "./ChessBoard.svelte";
import Game from "./Game.svelte";
import GameCard from "./GameCard.svelte";
import MessageBox from "./MessageBox.svelte";
import Player from "./Player.svelte";
import ProgressSpinner from "./ProgressSpinner.svelte";
import TokenInput from "./TokenInput.svelte";
import TxSnackbar from "./TxSnackbar.svelte";
import Wallet from "./Wallet.svelte";

export {
  ChessBoard,
  Game,
  GameCard,
  MessageBox,
  Player,
  ProgressSpinner,
  TokenInput,
  TxSnackbar,
  Wallet,
};

'''
'''--- app/src/lib/game.ts ---
import { get, writable } from "svelte/store";

import { contract$ } from "./near";

import type { AccountId, GameId } from "$abi";
import { navigating } from "$app/stores";

export const gameId$ = writable<GameId | undefined>();

export const eloRatings$ = writable<Record<AccountId, number | undefined>>({});

export const defaultBoard = [
  "RNBQKBNR",
  "PPPPPPPP",
  "        ",
  "        ",
  "        ",
  "        ",
  "pppppppp",
  "rnbqkbnr",
];

export async function updateEloRatings(accountIds: AccountId[]) {
  const contract = await get(contract$);
  const updatedRatings = Object.fromEntries(
    await contract.get_elo_ratings_by_ids({
      account_ids: Array.from(accountIds),
    }),
  );
  eloRatings$.update((oldRatings) => ({ ...oldRatings, ...updatedRatings }));
}

navigating.subscribe(() => {
  gameId$.set(undefined);
});

window.addEventListener("popstate", () => {
  const loadedUrl = new URL(window.location.href);
  const loadedGameId = loadedUrl.searchParams.get("game_id");
  gameId$.set(loadedGameId ? JSON.parse(decodeURI(loadedGameId)) : undefined);
});

'''
'''--- app/src/lib/layout/index.ts ---
import Body from "./Body.svelte";
import Footer from "./Footer.svelte";
import Header from "./Header.svelte";
import ModalContent from "./ModalContent.svelte";
import Section from "./Section.svelte";

export { Body, Footer, Header, ModalContent, Section };

export * from "./modal";

'''
'''--- app/src/lib/layout/modal.ts ---
import type { SvelteComponent } from "svelte";
import { get, writable } from "svelte/store";

import { ScreenSize, type ModalDimension } from "../models";
import { screenSize$ } from "../screen-size";

import { browser } from "$app/environment";

export enum ModalSize {
  Small,
  Medium,
  Large,
}

export const MODAL_DIMENSIONS = {
  [ModalSize.Small]: () => {
    switch (get(screenSize$)) {
      case ScreenSize.Phone:
        return {
          width: `${400 / 16}rem`,
          maxHeight: "100vh",
        };
      case ScreenSize.Mobile:
        return {
          width: `${400 / 16}rem`,
          maxHeight: "80vh",
        };
      default:
        return {
          width: `${400 / 16}rem`,
          maxHeight: "60vh",
        };
    }
  },
  [ModalSize.Medium]: () => {
    switch (get(screenSize$)) {
      case ScreenSize.Phone:
        return {
          width: `${600 / 16}rem`,
          maxHeight: "100vh",
        };
      case ScreenSize.Mobile:
        return {
          width: `${600 / 16}rem`,
          maxHeight: "85vh",
        };
      default:
        return {
          width: `${600 / 16}rem`,
          maxHeight: "70vh",
        };
    }
  },
  [ModalSize.Large]: () => {
    switch (get(screenSize$)) {
      case ScreenSize.Phone:
        return {
          width: `${800 / 16}rem`,
          maxHeight: "100vh",
        };
      case ScreenSize.Mobile:
        return {
          width: `${800 / 16}rem`,
          maxHeight: "90vh",
        };
      default:
        return {
          width: `${800 / 16}rem`,
          maxHeight: "80vh",
        };
    }
  },
} satisfies Record<ModalSize, () => ModalDimension>;

export const modal$ = writable<typeof SvelteComponent | null>(null);
export const modalCanClose$ = writable<boolean>(true);
export const modalSize$ = writable<ModalSize>(ModalSize.Medium);

modalSize$.subscribe((modalSize) => {
  if (!browser) return;
  setModalDimension(modalSize);
});

screenSize$.subscribe(() => {
  if (!browser) return;
  setModalDimension(get(modalSize$));
});

function setModalDimension(modalSize: ModalSize) {
  const root = document.querySelector(":root") as HTMLElement;
  root.style.setProperty("--modal-width", MODAL_DIMENSIONS[modalSize]().width);
  root.style.setProperty(
    "--modal-max-height",
    MODAL_DIMENSIONS[modalSize]().maxHeight,
  );
}

'''
'''--- app/src/lib/models/form.ts ---
export type HtmlInputEvent = Event & {
  currentTarget: EventTarget & HTMLInputElement;
};

'''
'''--- app/src/lib/models/index.ts ---
export * from "./api.d";
export * from "./form";
export * from "./modal";
export * from "./near";
export * from "./screen-size";
export * from "./wallet";

export type Condition = "ok" | "warn" | "err" | "loading";

'''
'''--- app/src/lib/models/modal.ts ---
export interface ModalDimension {
  width: string;
  maxHeight: string;
}

'''
'''--- app/src/lib/models/near.ts ---
export type ContractViewCall<T, R> = (params: T) => Promise<R>;

'''
'''--- app/src/lib/models/screen-size.ts ---
export enum ScreenSize {
  Phone = 480,
  Mobile = 768,
  Laptop = 1240,
  DesktopLg = 1800,
  DesktopXl = 100_000,
}

'''
'''--- app/src/lib/models/wallet.ts ---
import type {
  Account,
  BrowserWalletMetadata,
  InjectedWalletMetadata,
} from "@near-wallet-selector/core";

export type WalletAccount =
  | {
      type: "wallet-selector";
      account: Account;
    }
  | {
      type: "here";
      account: string;
    }
  | undefined;

// needed to fix types into discriminated union for Svelte template
interface BaseWallet {
  id: string;
}
interface BrowserWallet extends BaseWallet {
  type: "browser";
  metadata: BrowserWalletMetadata;
}
interface InjectedWallet extends BaseWallet {
  type: "injected";
  metadata: InjectedWalletMetadata;
}

export type UnionModuleState = BrowserWallet | InjectedWallet;

'''
'''--- app/src/lib/near/index.ts ---
import type { ConnectConfig, Contract } from "near-api-js";
import type { ContractMethods } from "near-api-js/lib/contract";
import { derived, readable } from "svelte/store";

import type {
  GameInfo,
  GameId,
  Quest,
  Achievement,
  Challenge,
  AccountInfo,
  AccountId,
  QuestInfo,
  AchievementInfo,
} from "$abi";
import type { ContractViewCall } from "$lib/models";

const nearConfig = {
  networkId: import.meta.env.VITE_NETWORK_ID,
  nodeUrl: import.meta.env.VITE_NODE_URL,
  walletUrl: import.meta.env.VITE_WALLET_URL,
  helperUrl: import.meta.env.VITE_HELPER_URL,
} as const satisfies ConnectConfig;

export const near$ = readable(
  import("near-api-js").then(({ connect, Account, Contract }) =>
    connect(nearConfig).then((near) => [near, Account, Contract] as const),
  ),
);

export const contract$ = derived(near$, async (n) => {
  const [near, Account, Contract] = await n;
  const account = new Account(
    near.connection,
    import.meta.env.VITE_CONTRACT_ID,
  );
  return new Contract(account, import.meta.env.VITE_CONTRACT_ID, {
    viewMethods: [
      "get_board",
      "game_info",
      "get_game_ids",
      "get_account",
      "get_elo_ratings",
      "get_elo_ratings_by_ids",
      "get_quest_list",
      "get_quest_cooldowns",
      "get_achievement_list",
      "get_achievements",
      "get_challenge",
      "get_challenges",
      "storage_balance_of",
      "ft_balance_of",
      "ft_metadata",
    ],
    changeMethods: [],
    useLocalViewExecution: false,
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
  } satisfies ContractMethods as any) as ProtocolPawnsContract;
});

export interface ProtocolPawnsContract extends Contract {
  get_board: ContractViewCall<
    {
      game_id: GameId;
    },
    string[]
  >;
  game_info: ContractViewCall<
    {
      game_id: GameId;
    },
    GameInfo
  >;
  get_game_ids: ContractViewCall<
    {
      account_id: AccountId;
    },
    GameId[]
  >;
  get_account: ContractViewCall<
    {
      account_id: AccountId;
    },
    AccountInfo
  >;
  get_elo_ratings: ContractViewCall<
    {
      skip?: number;
      limit?: number;
    },
    [AccountId, number][]
  >;
  get_elo_ratings_by_ids: ContractViewCall<
    {
      account_ids: AccountId[];
    },
    [AccountId, number][]
  >;
  get_quest_list: ContractViewCall<
    {
      account_id: AccountId;
    },
    QuestInfo[]
  >;
  get_quest_cooldowns: ContractViewCall<
    {
      account_id: AccountId;
    },
    [number, Quest][]
  >;
  get_achievement_list: ContractViewCall<
    {
      account_id: AccountId;
    },
    AchievementInfo[]
  >;
  get_achievements: ContractViewCall<
    {
      account_id: AccountId;
    },
    [number, Achievement][]
  >;
  get_challenge: ContractViewCall<
    {
      challenge_id: string;
    },
    Challenge
  >;
  get_challenges: ContractViewCall<
    {
      account_id: AccountId;
      is_challenger: boolean;
    },
    string[]
  >;

  storage_balance_of: ContractViewCall<
    {
      account_id: string;
    },
    string | null
  >;

  ft_balance_of: ContractViewCall<
    {
      account_id: string;
    },
    string
  >;
  ft_metadata: ContractViewCall<undefined, FtMetadata>;
}

export interface FtMetadata {
  name: string;
  symbol: string;
  icon: string;
  decimals: number;
}

export * from "./wallet";

'''
'''--- app/src/lib/near/wallet.ts ---
import {
  HereWallet,
  type SignAndSendTransactionOptions,
} from "@here-wallet/core";
import type {
  BrowserWalletMetadata,
  InjectedWalletMetadata,
  ModuleState,
  Wallet as NearWallet,
} from "@near-wallet-selector/core";
import { derived, get, readable, writable } from "svelte/store";
import { P, match } from "ts-pattern";

import { browser } from "$app/environment";
import type { UnionModuleState, WalletAccount } from "$lib/models";
import { showSnackbar, showTxSnackbar } from "$lib/snackbar";

export class Wallet {
  private hereWallet = new HereWallet();

  private selector$ = readable(
    browser
      ? Promise.all([
          import("@near-wallet-selector/core"),
          import("@near-wallet-selector/here-wallet"),
          import("@near-wallet-selector/meteor-wallet"),
        ]).then(
          ([
            { setupWalletSelector },
            { setupHereWallet },
            { setupMeteorWallet },
          ]) =>
            setupWalletSelector({
              network: import.meta.env.VITE_NETWORK_ID,
              modules: [setupHereWallet(), setupMeteorWallet()],
            }),
        )
      : // eslint-disable-next-line @typescript-eslint/no-empty-function
        new Promise<never>(() => {}),
  );

  private _account$ = writable<WalletAccount>();
  public account$ = derived(this._account$, (a) => a);

  public accountId$ = derived(this.account$, (account) => {
    return match(account)
      .with(undefined, () => undefined)
      .with(
        {
          type: "wallet-selector",
          account: P.select(),
        },
        (account) => account.accountId,
      )
      .with(
        {
          type: "here",
          account: P.select(),
        },
        (account) => account,
      )
      .exhaustive();
  });

  public iconUrl$ = derived(this._account$, (account) => {
    return match(account)
      .with(undefined, () => undefined)
      .with(
        {
          type: "wallet-selector",
          account: P.any,
        },
        async () => {
          const selector = await get(this.selector$);
          const wallet = await selector.wallet();
          return wallet.metadata.iconUrl;
        },
      )
      .with(
        {
          type: "here",
          account: P.any,
        },
        async () => {
          return "https://tgapp-dev.herewallet.app/hot-icon.85a5171e.webp";
        },
      )
      .exhaustive();
  });

  public modules$ = derived(this.selector$, async (s) => {
    const selector = await s;
    return selector.store.getState().modules.map((mod): UnionModuleState => {
      switch (mod.type) {
        case "injected":
          return {
            ...mod,
            type: "injected",
            metadata: mod.metadata as InjectedWalletMetadata,
          };
        case "browser":
          return {
            ...mod,
            type: "browser",
            metadata: mod.metadata as BrowserWalletMetadata,
          };
        default:
          throw new Error("unimplemented");
      }
    });
  });

  constructor() {
    this.selector$.subscribe(async (s) => {
      const selector = await s;
      const isSignedInWithNear = selector.isSignedIn();
      if (isSignedInWithNear) {
        const account = selector.store
          .getState()
          .accounts.find(({ active }) => active);
        if (!account) return;
        this._account$.set({
          type: "wallet-selector",
          account,
        });
        return;
      }
    });

    if (import.meta.env.DEV) {
      this._account$.subscribe((account) => {
        console.info("assign new account:", account);
      });
    }

    this.loginViaWalletSelector = this.loginViaWalletSelector.bind(this);
    this.loginViaHere = this.loginViaHere.bind(this);
    this.signOut = this.signOut.bind(this);
  }

  public async loginViaWalletSelector(unionMod: UnionModuleState) {
    const mod = unionMod as ModuleState<NearWallet>;
    const wallet = await mod.wallet();

    return match(wallet)
      .with({ type: P.union("browser", "injected") }, async (wallet) => {
        const accounts = await wallet.signIn({
          contractId: import.meta.env.VITE_CONTRACT_ID,
        });
        const account = accounts.pop();
        if (!account) return;
        this._account$.set({
          type: "wallet-selector",
          account,
        });
        showSnackbar(
          `Connected Near account ${account.accountId} via ${wallet.metadata.name}`,
        );
      })
      .otherwise(() => {
        throw new Error("unimplemented");
      });
  }

  public async loginViaHere() {
    const account = await this.hereWallet.signIn({
      contractId: import.meta.env.VITE_CONTRACT_ID,
    });
    this._account$.set({
      type: "here",
      account,
    });
  }

  public async signOut() {
    return match(get(this._account$))
      .with(undefined, () => undefined)
      .with(
        {
          type: "wallet-selector",
          account: P.select(),
        },
        async (account) => {
          const selector = await get(this.selector$);
          const wallet = await selector.wallet();
          await wallet.signOut();
          showSnackbar(`Disconnected Near account ${account.accountId}`);
          this._account$.set(undefined);
        },
      )
      .with(
        {
          type: "here",
          account: P.select(),
        },
        async (account) => {
          await this.hereWallet.signOut();
          showSnackbar(`Disconnected Near account ${account}`);
          this._account$.set(undefined);
        },
      )
      .exhaustive();
  }

  public async signAndSendTransaction(
    params: SignAndSendTransactionOptions,
    {
      onSuccess,
      onError,
      onFinally,
    }: {
      onSuccess?: () => Promise<void> | void;
      onError?: () => Promise<void> | void;
      onFinally?: () => Promise<void> | void;
    },
  ) {
    const txPromise = match(get(this._account$))
      .with(undefined, () => undefined)
      .with(
        {
          type: "wallet-selector",
          account: P.any,
        },
        async () => {
          const selector = await get(this.selector$);
          const wallet = await selector.wallet();
          // eslint-disable-next-line @typescript-eslint/no-explicit-any
          return wallet.signAndSendTransaction(params as any);
        },
      )
      .with(
        {
          type: "here",
          account: P.any,
        },
        async () => {
          return this.hereWallet.signAndSendTransaction(params);
        },
      )
      .exhaustive();
    if (!txPromise) return;
    showTxSnackbar(txPromise);
    return txPromise.then(onSuccess).catch(onError).finally(onFinally);
  }
}

export const wallet = new Wallet();

export interface WalletMetadata {
  url: string;
  extensionUrl?: string;
  twitter?: string;
  telegram?: string;
  discord?: string;
}

export const NEAR_WALLETS: Record<string, WalletMetadata> = {
  "here-wallet": {
    url: "https://herewallet.app/",
    twitter: "https://twitter.com/here_wallet",
  },
  "meteor-wallet": {
    url: "https://meteorwallet.app/",
    extensionUrl:
      "https://chrome.google.com/webstore/detail/meteor-wallet/pcndjhkinnkaohffealmlmhaepkpmgkb",
    twitter: "https://twitter.com/MeteorWallet",
  },
};

'''
'''--- app/src/lib/screen-size.ts ---
import { derived, writable } from "svelte/store";

import { ScreenSize } from "./models";

export const screenSize$ = writable<ScreenSize>(ScreenSize.Laptop);

export const widthAtMost$ = (width: ScreenSize) =>
  derived(screenSize$, (screenSize) => {
    return width >= screenSize;
  });

export const widthAtLeast$ = (width: ScreenSize) =>
  derived(screenSize$, (screenSize) => {
    return width <= screenSize;
  });

'''
'''--- app/src/lib/snackbar.ts ---
import type { FinalExecutionOutcome } from "@near-wallet-selector/core";
import type Snackbar from "@smui/snackbar";
import { derived, get, writable, type Writable } from "svelte/store";

import { TxSnackbar } from "$lib/components";

export type SnackbarComponent = (
  | { type: "text"; text: string }
  | {
      type: "component";
      component: ConstructorOfATypedSvelteComponent;
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      props: Record<string, any> & {
        setClass?: (className: string) => void;
      };
      destroyed$: Writable<boolean>;
    }
) & { class$: Writable<string>; canClose$: Writable<boolean>; timeout: number };

const snackbarComponents$ = writable<SnackbarComponent[]>([]);
const waiting$ = writable(false);
const triggerUpdate$ = writable(0);
let waitingTimer: number | null = null;
let destroyTimer: number | undefined;

export const snackbar$ = writable<Snackbar>();
const _snackbarComponent$ = derived(
  [snackbarComponents$, waiting$, triggerUpdate$],
  ([components, waiting]) => {
    if (components.length === 0) {
      return;
    }
    if (waiting) {
      if (!waitingTimer) {
        waitingTimer = setTimeout(() => {
          waiting$.set(false);
          waitingTimer = null;
        }, 100) as unknown as number;
      }
      return;
    }
    let component = components[0] as SnackbarComponent | undefined;
    let shouldUpdate = false;
    while (
      component &&
      component.type === "component" &&
      get(component.destroyed$)
    ) {
      components.shift();
      component = components[0] as SnackbarComponent | undefined;
      shouldUpdate = true;
    }
    if (shouldUpdate) {
      snackbarComponents$.set([...components]);
    }
    return component;
  },
);
export const snackbarComponent$ = derived(
  [snackbar$, _snackbarComponent$],
  ([snackbar, component]) => {
    if (component) {
      if (!snackbar.isOpen()) {
        snackbar.open();
      }
    } else {
      try {
        if (snackbar.isOpen()) {
          snackbar.close();
          waiting$.set(true);
        }
      } catch {
        // ignore
      }
    }
    return component;
  },
);

export function showSnackbar(text: string) {
  pushComponent({
    type: "text",
    text,
    class$: writable(""),
    canClose$: writable(true),
    timeout: 7_000,
  });
}

export function showTxSnackbar(
  txPromise: Promise<void | FinalExecutionOutcome | FinalExecutionOutcome[]>,
) {
  const class$ = writable("");
  const canClose$ = writable(false);
  const destroyed$ = writable(false);
  txPromise.finally(() => {
    canClose$.set(true);
    if (!destroyTimer) {
      destroyTimer = setTimeout(() => {
        destroyed$.set(true);
        waiting$.set(true);
        triggerUpdate$.update((val) => val + 1);
        destroyTimer = undefined;
      }, 10_000) as unknown as number;
    }
  });
  pushComponent({
    type: "component",
    component: TxSnackbar,
    props: {
      txPromise,
      setClass: (c) => {
        class$.set(c);
      },
    },
    class$,
    canClose$,
    timeout: -1,
    destroyed$,
  });
}

function pushComponent(component: SnackbarComponent) {
  snackbarComponents$.update((components) => [...components, component]);
}

export function handleCloseSnackbar() {
  const components = get(snackbarComponents$);
  components.shift();
  snackbarComponents$.set([...components]);
  waiting$.set(true);
  if (destroyTimer) {
    clearTimeout(destroyTimer);
  }
  destroyTimer = undefined;
}

'''
'''--- app/src/lib/util.ts ---
import type { HtmlInputEvent } from "./models";

export function filterAllowedCharacters(value: string): string {
  const commaPos = value.indexOf(".");
  if (commaPos >= 0) {
    return (
      value.substring(0, commaPos) +
      "." +
      value.substring(commaPos + 1).replace(/[^\d]/g, "")
    );
  } else {
    return value.replace(/[^\d.,]/g, "");
  }
}

// TODO format via `FixedNumber#format`
export function formatWithMaxDecimals(
  event: HtmlInputEvent,
  decimals?: number,
) {
  const input = event.target as HTMLInputElement;
  if (input.value == null || decimals == null) return;
  input.value = getFormattedNumber(input.value, decimals) ?? "";
}

export function getFormattedNumber(value: string, decimals: number): string {
  let commaPos: number;
  [value, commaPos] = getNumberAsUInt128(value, decimals);
  value = value.slice(0, commaPos) + "." + value.slice(commaPos);
  value = value.replace(/0+$/, "").replace(/^0+/, "");
  if (value === ".") {
    value = "0";
  } else if (value.startsWith(".")) {
    value = "0" + value;
  } else if (value.endsWith(".")) {
    value = value.slice(0, -1);
  }
  return value;
}

export function getNumberAsUInt128(
  value: string,
  decimals: number,
): [string, number] {
  value = value.replaceAll(",", "");
  let commaPos = value.indexOf(".");
  if (commaPos === -1) {
    commaPos = value.length;
  }
  return [
    value
      .replace(".", "")
      .slice(0, commaPos + decimals)
      .padEnd(commaPos + decimals, "0"),
    commaPos,
  ];
}

export function isMobile() {
  let check = false;
  (function (a) {
    if (
      /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(
        a,
      ) ||
      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(
        a.substr(0, 4),
      )
    )
      check = true;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
  })(navigator.userAgent || navigator.vendor || (window as any).opera);
  return check;
}

'''
'''--- app/src/routes/+layout.server.ts ---
export const ssr = false;
export const prerender = true;

'''
'''--- app/src/routes/+layout.ts ---
export async function load() {
  const url = new URL(window.location.href);
  const isTG = !!url.searchParams.get("tg");

  return {
    isTG,
  };
}

'''
'''--- app/src/routes/+page.ts ---
export async function load() {
  const url = new URL(window.location.href);
  const loadedGameId = url.searchParams.get("game_id");
  const loadedTab = url.searchParams.get("tab") as "watch" | "play" | undefined;
  if (loadedTab == null && url.pathname === "/") {
    url.searchParams.set("tab", "play");
    location.href = url.toString();
  }

  return {
    loadedGameId: loadedGameId
      ? JSON.parse(decodeURI(loadedGameId))
      : undefined,
    loadedTab,
  };
}

'''
'''--- app/src/routes/_index/index.ts ---
import Play from "./Play.svelte";
import Watch from "./Watch.svelte";

export { Play, Watch };

'''
'''--- app/static/smui.css ---
﻿a,a:visited{color:#b2ff59}.mdc-banner__graphic{color:#fff;color:var(--mdc-theme-surface, #fff)}.mdc-banner__graphic{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-banner__content,.mdc-banner__fixed{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-banner__content,.mdc-banner__fixed{min-width:100%}}.mdc-banner__content{max-width:720px}.mdc-banner{z-index:1;border-bottom-style:solid;box-sizing:border-box;display:none;flex-shrink:0;height:0;position:relative;width:100%}@media(max-width: 480px){.mdc-banner .mdc-banner__fixed{left:0;right:0}.mdc-banner .mdc-banner__text{margin-left:16px;margin-right:36px}[dir=rtl] .mdc-banner .mdc-banner__text,.mdc-banner .mdc-banner__text[dir=rtl]{margin-left:36px;margin-right:16px}}@media(max-width: 480px){.mdc-banner.mdc-banner--mobile-stacked .mdc-banner__content{flex-wrap:wrap}.mdc-banner.mdc-banner--mobile-stacked .mdc-banner__graphic{margin-bottom:12px}.mdc-banner.mdc-banner--mobile-stacked .mdc-banner__text{margin-left:16px;margin-right:8px;padding-bottom:4px}[dir=rtl] .mdc-banner.mdc-banner--mobile-stacked .mdc-banner__text,.mdc-banner.mdc-banner--mobile-stacked .mdc-banner__text[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-banner.mdc-banner--mobile-stacked .mdc-banner__actions{margin-left:auto}}.mdc-banner--opening,.mdc-banner--open,.mdc-banner--closing{display:flex}.mdc-banner--open{transition:height 300ms ease}.mdc-banner--open .mdc-banner__content{transition:transform 300ms ease;transform:translateY(0)}.mdc-banner--closing{transition:height 250ms ease}.mdc-banner--closing .mdc-banner__content{transition:transform 250ms ease}.mdc-banner--centered .mdc-banner__content{left:0;margin-left:auto;margin-right:auto;right:0}.mdc-banner__fixed{border-bottom-style:solid;box-sizing:border-box;height:inherit;position:fixed;width:100%}.mdc-banner__content{display:flex;min-height:52px;position:absolute;transform:translateY(-100%);width:100%}.mdc-banner__graphic-text-wrapper{display:flex;width:100%}.mdc-banner__graphic{margin-left:16px;margin-right:0;flex-shrink:0;margin-top:16px;margin-bottom:16px;text-align:center}[dir=rtl] .mdc-banner__graphic,.mdc-banner__graphic[dir=rtl]{margin-left:0;margin-right:16px}.mdc-banner__icon{position:relative;top:50%;transform:translateY(-50%)}.mdc-banner__text{margin-left:24px;margin-right:90px;align-self:center;flex-grow:1;padding-top:16px;padding-bottom:16px}[dir=rtl] .mdc-banner__text,.mdc-banner__text[dir=rtl]{margin-left:90px;margin-right:24px}.mdc-banner__actions{padding-left:0;padding-right:8px;align-self:flex-end;display:flex;flex-shrink:0;padding-bottom:8px;padding-top:8px}[dir=rtl] .mdc-banner__actions,.mdc-banner__actions[dir=rtl]{padding-left:8px;padding-right:0}.mdc-banner__secondary-action{margin-left:0;margin-right:8px}[dir=rtl] .mdc-banner__secondary-action,.mdc-banner__secondary-action[dir=rtl]{margin-left:8px;margin-right:0}.mdc-banner{background-color:#fff;border-bottom-color:rgba(0, 0, 0, 0.12);border-bottom-width:1px;border-radius:0}.mdc-banner .mdc-banner__text{color:#000}.mdc-banner .mdc-banner__text{letter-spacing:0.0178571429em;font-size:0.875rem;font-family:Roboto, sans-serif;font-weight:400;line-height:1.25rem}.mdc-banner .mdc-banner__graphic{border-radius:50%}.mdc-banner .mdc-banner__graphic{height:40px;width:40px}.mdc-banner .mdc-banner__fixed{background-color:#fff}.mdc-banner .mdc-banner__fixed{border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-banner .mdc-banner__fixed{border-bottom-width:1px}.mdc-banner .mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-text-button-label-text-color, #6200ee)}.mdc-banner .mdc-button .mdc-button__ripple::before,.mdc-banner .mdc-button .mdc-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-text-button-hover-state-layer-color, #6200ee)}.mdc-banner .mdc-button:hover .mdc-button__ripple::before,.mdc-banner .mdc-button.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.04;opacity:var(--mdc-text-button-hover-state-layer-opacity, 0.04)}.mdc-banner .mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-banner .mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-text-button-focus-state-layer-opacity, 0.12)}.mdc-banner .mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-banner .mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.1;opacity:var(--mdc-text-button-pressed-state-layer-opacity, 0.1)}.mdc-banner .mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-text-button-pressed-state-layer-opacity, 0.1)}.mdc-banner__secondary-action{margin-left:0;margin-right:8px}[dir=rtl] .mdc-banner__secondary-action,.mdc-banner__secondary-action[dir=rtl]{margin-left:8px;margin-right:0}.smui-banner--force-show{display:block !important}.mdc-banner--closing,.mdc-banner--opening{overflow-y:hidden}.mdc-banner__actions{align-self:center}.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{display:none}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:block}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring::after,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring::after,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring::after{border-color:CanvasText}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none)}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-button{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-button .mdc-button__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-button .mdc-button__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-button.mdc-ripple-upgraded--unbounded .mdc-button__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-button.mdc-ripple-upgraded--foreground-activation .mdc-button__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-button.mdc-ripple-upgraded--foreground-deactivation .mdc-button__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-button__ripple{position:absolute;box-sizing:content-box;overflow:hidden;z-index:0;top:0;left:0;bottom:0;right:0}.mdc-button{font-family:Roboto, sans-serif;font-family:var(--mdc-text-button-label-text-font, var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif)));font-size:0.875rem;font-size:var(--mdc-text-button-label-text-size, var(--mdc-typography-button-font-size, 0.875rem));letter-spacing:0.0892857143em;letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mdc-typography-button-letter-spacing, 0.0892857143em));font-weight:500;font-weight:var(--mdc-text-button-label-text-weight, var(--mdc-typography-button-font-weight, 500));text-transform:uppercase;text-transform:var(--mdc-text-button-label-text-transform, var(--mdc-typography-button-text-transform, uppercase));height:36px;height:var(--mdc-text-button-container-height, 36px);border-radius:4px;border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-text-button-label-text-color, var(--mdc-theme-primary, #6200ee))}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mdc-button .mdc-button__icon{font-size:1.125rem;font-size:var(--mdc-text-button-with-icon-icon-size, 1.125rem);width:1.125rem;width:var(--mdc-text-button-with-icon-icon-size, 1.125rem);height:1.125rem;height:var(--mdc-text-button-with-icon-icon-size, 1.125rem)}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-text-button-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mdc-button:hover .mdc-button__ripple::before,.mdc-button.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.04;opacity:var(--mdc-text-button-hover-state-layer-opacity, 0.04)}.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-text-button-focus-state-layer-opacity, 0.12)}.mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-text-button-pressed-state-layer-opacity, 0.12)}.mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-text-button-pressed-state-layer-opacity, 0.12)}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button--unelevated{font-family:Roboto, sans-serif;font-family:var(--mdc-filled-button-label-text-font, var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif)));font-size:0.875rem;font-size:var(--mdc-filled-button-label-text-size, var(--mdc-typography-button-font-size, 0.875rem));letter-spacing:0.0892857143em;letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mdc-typography-button-letter-spacing, 0.0892857143em));font-weight:500;font-weight:var(--mdc-filled-button-label-text-weight, var(--mdc-typography-button-font-weight, 500));text-transform:uppercase;text-transform:var(--mdc-filled-button-label-text-transform, var(--mdc-typography-button-text-transform, uppercase));height:36px;height:var(--mdc-filled-button-container-height, 36px);border-radius:4px;border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-filled-button-container-color, var(--mdc-theme-primary, #6200ee))}.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-filled-button-label-text-color, var(--mdc-theme-on-primary, #fff))}.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mdc-button--unelevated .mdc-button__icon{font-size:1.125rem;font-size:var(--mdc-filled-button-with-icon-icon-size, 1.125rem);width:1.125rem;width:var(--mdc-filled-button-with-icon-icon-size, 1.125rem);height:1.125rem;height:var(--mdc-filled-button-with-icon-icon-size, 1.125rem)}.mdc-button--unelevated .mdc-button__ripple::before,.mdc-button--unelevated .mdc-button__ripple::after{background-color:#fff;background-color:var(--mdc-filled-button-hover-state-layer-color, var(--mdc-theme-on-primary, #fff))}.mdc-button--unelevated:hover .mdc-button__ripple::before,.mdc-button--unelevated.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.08;opacity:var(--mdc-filled-button-hover-state-layer-opacity, 0.08)}.mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-filled-button-focus-state-layer-opacity, 0.24)}.mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-filled-button-pressed-state-layer-opacity, 0.24)}.mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-filled-button-pressed-state-layer-opacity, 0.24)}.mdc-button--unelevated .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button--raised{font-family:Roboto, sans-serif;font-family:var(--mdc-protected-button-label-text-font, var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif)));font-size:0.875rem;font-size:var(--mdc-protected-button-label-text-size, var(--mdc-typography-button-font-size, 0.875rem));letter-spacing:0.0892857143em;letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mdc-typography-button-letter-spacing, 0.0892857143em));font-weight:500;font-weight:var(--mdc-protected-button-label-text-weight, var(--mdc-typography-button-font-weight, 500));text-transform:uppercase;text-transform:var(--mdc-protected-button-label-text-transform, var(--mdc-typography-button-text-transform, uppercase));height:36px;height:var(--mdc-protected-button-container-height, 36px);border-radius:4px;border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));--mdc-elevation-box-shadow-for-gss:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-protected-button-container-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-button--raised:not(:disabled){background-color:#6200ee;background-color:var(--mdc-protected-button-container-color, var(--mdc-theme-primary, #6200ee))}.mdc-button--raised:disabled{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mdc-button--raised:not(:disabled){color:#fff;color:var(--mdc-protected-button-label-text-color, var(--mdc-theme-on-primary, #fff))}.mdc-button--raised:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mdc-button--raised .mdc-button__icon{font-size:1.125rem;font-size:var(--mdc-protected-button-with-icon-icon-size, 1.125rem);width:1.125rem;width:var(--mdc-protected-button-with-icon-icon-size, 1.125rem);height:1.125rem;height:var(--mdc-protected-button-with-icon-icon-size, 1.125rem)}.mdc-button--raised .mdc-button__ripple::before,.mdc-button--raised .mdc-button__ripple::after{background-color:#fff;background-color:var(--mdc-protected-button-hover-state-layer-color, var(--mdc-theme-on-primary, #fff))}.mdc-button--raised:hover .mdc-button__ripple::before,.mdc-button--raised.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.08;opacity:var(--mdc-protected-button-hover-state-layer-opacity, 0.08)}.mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-protected-button-focus-state-layer-opacity, 0.24)}.mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-protected-button-pressed-state-layer-opacity, 0.24)}.mdc-button--raised.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-protected-button-pressed-state-layer-opacity, 0.24)}.mdc-button--raised .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button--raised.mdc-ripple-upgraded--background-focused,.mdc-button--raised:not(.mdc-ripple-upgraded):focus{--mdc-elevation-box-shadow-for-gss:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-protected-button-focus-container-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-button--raised:hover{--mdc-elevation-box-shadow-for-gss:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-protected-button-hover-container-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-button--raised:not(:disabled):active{--mdc-elevation-box-shadow-for-gss:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-protected-button-pressed-container-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-button--raised:disabled{--mdc-elevation-box-shadow-for-gss:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-protected-button-disabled-container-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-button--outlined{font-family:Roboto, sans-serif;font-family:var(--mdc-outlined-button-label-text-font, var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif)));font-size:0.875rem;font-size:var(--mdc-outlined-button-label-text-size, var(--mdc-typography-button-font-size, 0.875rem));letter-spacing:0.0892857143em;letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mdc-typography-button-letter-spacing, 0.0892857143em));font-weight:500;font-weight:var(--mdc-outlined-button-label-text-weight, var(--mdc-typography-button-font-weight, 500));text-transform:uppercase;text-transform:var(--mdc-outlined-button-label-text-transform, var(--mdc-typography-button-text-transform, uppercase));height:36px;height:var(--mdc-outlined-button-container-height, 36px);border-radius:4px;border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mdc-button--outlined:not(:disabled){color:#6200ee;color:var(--mdc-outlined-button-label-text-color, var(--mdc-theme-primary, #6200ee))}.mdc-button--outlined:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mdc-button--outlined .mdc-button__icon{font-size:1.125rem;font-size:var(--mdc-outlined-button-with-icon-icon-size, 1.125rem);width:1.125rem;width:var(--mdc-outlined-button-with-icon-icon-size, 1.125rem);height:1.125rem;height:var(--mdc-outlined-button-with-icon-icon-size, 1.125rem)}.mdc-button--outlined .mdc-button__ripple::before,.mdc-button--outlined .mdc-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-outlined-button-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mdc-button--outlined:hover .mdc-button__ripple::before,.mdc-button--outlined.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.04;opacity:var(--mdc-outlined-button-hover-state-layer-opacity, 0.04)}.mdc-button--outlined.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button--outlined:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-outlined-button-focus-state-layer-opacity, 0.12)}.mdc-button--outlined:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button--outlined:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-outlined-button-pressed-state-layer-opacity, 0.12)}.mdc-button--outlined.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-outlined-button-pressed-state-layer-opacity, 0.12)}.mdc-button--outlined .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined.mdc-button--icon-trailing{padding:0 11px 0 15px}.mdc-button--outlined.mdc-button--icon-leading{padding:0 15px 0 11px}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mdc-button--outlined .mdc-button__touch{left:calc(-1 * 1px);left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * 1px);width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__icon,[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__icon[dir=rtl],.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-ripple-surface--primary::before,.smui-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.smui-ripple-surface--primary:hover::before,.smui-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.smui-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-ripple-surface--secondary::before,.smui-ripple-surface--secondary::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.smui-ripple-surface--secondary:hover::before,.smui-ripple-surface--secondary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.smui-ripple-surface--secondary.mdc-ripple-upgraded--background-focused::before,.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-ripple-surface--secondary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-button--color-secondary:not(:disabled){color:#018786}.smui-button--color-secondary:not(:disabled) .mdc-button__icon{color:#018786}.smui-button--color-secondary.mdc-button--raised:not(:disabled),.smui-button--color-secondary.mdc-button--unelevated:not(:disabled){background-color:#018786}.smui-button--color-secondary.mdc-button--raised:not(:disabled),.smui-button--color-secondary.mdc-button--unelevated:not(:disabled){color:white;color:var(--mdc-theme-text-primary-on-dark, white)}.smui-button--color-secondary.mdc-button--raised .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--raised .mdc-button__ripple::after,.smui-button--color-secondary.mdc-button--unelevated .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--unelevated .mdc-button__ripple::after{background-color:white;background-color:var(--mdc-ripple-color, var(--mdc-theme-text-primary-on-dark, white))}.smui-button--color-secondary.mdc-button--raised:hover .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--raised.mdc-ripple-surface--hover .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--unelevated:hover .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--unelevated.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.smui-button--color-secondary.mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.smui-button--color-secondary.mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.smui-button--color-secondary.mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after,.smui-button--color-secondary.mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.smui-button--color-secondary.mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after,.smui-button--color-secondary.mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-button--color-secondary.mdc-button--raised.mdc-ripple-upgraded,.smui-button--color-secondary.mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-button--color-secondary.mdc-button--raised:not(:disabled),.smui-button--color-secondary.mdc-button--unelevated:not(:disabled){color:#fff}.smui-button--color-secondary.mdc-button--raised:not(:disabled) .mdc-button__icon,.smui-button--color-secondary.mdc-button--unelevated:not(:disabled) .mdc-button__icon{color:#fff}.smui-button--color-secondary.mdc-button--outlined:not(:disabled){border-color:#018786}.smui-button--color-secondary .mdc-button__ripple::before,.smui-button--color-secondary .mdc-button__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, #018786)}.smui-button--color-secondary:hover .mdc-button__ripple::before,.smui-button--color-secondary.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.smui-button--color-secondary.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.smui-button--color-secondary:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.smui-button--color-secondary:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.smui-button--color-secondary:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-button--color-secondary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.smui-button__group{display:inline-flex}.smui-button__group>.mdc-button,.smui-button__group>.smui-button__group-item>.mdc-button{margin-left:0;margin-right:0}.smui-button__group>.mdc-button:not(:last-child),.smui-button__group>.mdc-button:not(:last-child)>.mdc-button__ripple,.smui-button__group>.smui-button__group-item:not(:last-child)>.mdc-button,.smui-button__group>.smui-button__group-item:not(:last-child)>.mdc-button>.mdc-button__ripple{border-top-right-radius:0;border-bottom-right-radius:0}.smui-button__group>.mdc-button:not(:first-child),.smui-button__group>.mdc-button:not(:first-child)>.mdc-button__ripple,.smui-button__group>.smui-button__group-item:not(:first-child)>.mdc-button,.smui-button__group>.smui-button__group-item:not(:first-child)>.mdc-button>.mdc-button__ripple{border-top-left-radius:0;border-bottom-left-radius:0}.smui-button__group.smui-button__group--raised{border-radius:4px;border-radius:var(--mdc-shape-small, 4px);box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12)}.smui-button__group>.mdc-button--raised,.smui-button__group>.smui-button__group-item>.mdc-button--raised{border-radius:4px;border-radius:var(--mdc-shape-small, 4px);box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-button__group>.mdc-button--raised .mdc-button__ripple,.smui-button__group>.smui-button__group-item>.mdc-button--raised .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.smui-button__group>.mdc-button--raised:hover,.smui-button__group>.mdc-button--raised:focus,.smui-button__group>.smui-button__group-item>.mdc-button--raised:hover,.smui-button__group>.smui-button__group-item>.mdc-button--raised:focus{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-button__group>.mdc-button--raised:active,.smui-button__group>.smui-button__group-item>.mdc-button--raised:active{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-button__group>.mdc-button--raised:disabled,.smui-button__group>.smui-button__group-item>.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-button__group>.mdc-button--outlined:not(:last-child),.smui-button__group>.smui-button__group-item:not(:last-child)>.mdc-button--outlined{border-right-width:0}.mdc-card{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);position:relative;box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 1px 3px 0px rgba(0,0,0,.12);display:flex;flex-direction:column;box-sizing:border-box}.mdc-card .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-card::after{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12);border-width:1px;border-style:solid;border-color:#e0e0e0}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mdc-card__primary-action{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-card__primary-action .mdc-card__ripple::before,.mdc-card__primary-action .mdc-card__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-card__primary-action .mdc-card__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-card__primary-action .mdc-card__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-card__primary-action.mdc-ripple-upgraded .mdc-card__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-card__primary-action.mdc-ripple-upgraded .mdc-card__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-card__primary-action.mdc-ripple-upgraded--unbounded .mdc-card__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-card__primary-action.mdc-ripple-upgraded--foreground-activation .mdc-card__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-card__primary-action.mdc-ripple-upgraded--foreground-deactivation .mdc-card__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-card__primary-action .mdc-card__ripple::before,.mdc-card__primary-action .mdc-card__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-card__primary-action.mdc-ripple-upgraded .mdc-card__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-card__primary-action .mdc-card__ripple::before,.mdc-card__primary-action .mdc-card__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-card__primary-action:hover .mdc-card__ripple::before,.mdc-card__primary-action.mdc-ripple-surface--hover .mdc-card__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-card__primary-action.mdc-ripple-upgraded--background-focused .mdc-card__ripple::before,.mdc-card__primary-action:not(.mdc-ripple-upgraded):focus .mdc-card__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-card__primary-action:not(.mdc-ripple-upgraded) .mdc-card__ripple::after{transition:opacity 150ms linear}.mdc-card__primary-action:not(.mdc-ripple-upgraded):active .mdc-card__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-card__primary-action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-card__primary-action .mdc-card__ripple{box-sizing:content-box;height:100%;overflow:hidden;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-card__primary-action.mdc-ripple-upgraded--background-focused::after,.mdc-card__primary-action:not(.mdc-ripple-upgraded):focus::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:5px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-card__primary-action.mdc-ripple-upgraded--background-focused::after,.mdc-card__primary-action:not(.mdc-ripple-upgraded):focus::after{border-color:CanvasText}}.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{display:none}.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:48px;max-width:48px}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mdc-icon-button{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-icon-button .mdc-icon-button__ripple::before,.mdc-icon-button .mdc-icon-button__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-icon-button .mdc-icon-button__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-icon-button .mdc-icon-button__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-icon-button.mdc-ripple-upgraded .mdc-icon-button__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-icon-button.mdc-ripple-upgraded .mdc-icon-button__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-icon-button.mdc-ripple-upgraded--unbounded .mdc-icon-button__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-icon-button.mdc-ripple-upgraded--foreground-activation .mdc-icon-button__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-icon-button.mdc-ripple-upgraded--foreground-deactivation .mdc-icon-button__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-icon-button .mdc-icon-button__ripple::before,.mdc-icon-button .mdc-icon-button__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-icon-button.mdc-ripple-upgraded .mdc-icon-button__ripple::before,.mdc-icon-button.mdc-ripple-upgraded .mdc-icon-button__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-icon-button.mdc-ripple-upgraded .mdc-icon-button__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-icon-button .mdc-icon-button__ripple::before,.mdc-icon-button .mdc-icon-button__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-icon-button:hover .mdc-icon-button__ripple::before,.mdc-icon-button.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-icon-button:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-icon-button:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-icon-button .mdc-icon-button__ripple{height:100%;left:0px;pointer-events:none;position:absolute;top:0px;width:100%;z-index:-1}.mdc-icon-button.smui-icon-button--size-mini{width:48px;height:48px;padding:12px;font-size:24px;width:40px;height:40px;padding:8px}.mdc-icon-button.smui-icon-button--size-mini svg,.mdc-icon-button.smui-icon-button--size-mini img{width:24px;height:24px}.mdc-icon-button.smui-icon-button--size-mini .mdc-icon-button__focus-ring{display:none}.mdc-icon-button.smui-icon-button--size-mini.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-mini:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:40px;max-width:40px}@media screen and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-mini.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-mini:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-mini.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-mini:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-mini.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button.smui-icon-button--size-mini:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-mini.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button.smui-icon-button--size-mini:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button.smui-icon-button--size-mini.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-icon-button.smui-icon-button--size-mini.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-mini.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button.smui-icon-button--size-mini .mdc-icon-button__touch{position:absolute;top:50%;height:40px;left:50%;width:40px;transform:translate(-50%, -50%)}.mdc-icon-button.smui-icon-button--size-button{width:36px;height:36px;padding:9px;font-size:18px;width:36px;height:36px;padding:6px}.mdc-icon-button.smui-icon-button--size-button svg,.mdc-icon-button.smui-icon-button--size-button img{width:18px;height:18px}.mdc-icon-button.smui-icon-button--size-button .mdc-icon-button__focus-ring{display:none}.mdc-icon-button.smui-icon-button--size-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:36px;max-width:36px}@media screen and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button.smui-icon-button--size-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-icon-button.smui-icon-button--size-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button.smui-icon-button--size-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button.smui-icon-button--size-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:36px;height:36px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-icon-button.smui-icon-button--size-button.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.smui-icon-button--size-button.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:36px;max-width:36px}.mdc-icon-button.smui-icon-button--size-button .mdc-icon-button__touch{position:absolute;top:50%;height:36px;left:50%;width:36px;transform:translate(-50%, -50%)}.mdc-icon-button svg{pointer-events:none}.smui-card--padded,.smui-card__content,.smui-card__primary-action--padded{padding:16px}.mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-touch-target-size, 40px) - 40px) / 2)}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-checkbox:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-ripple-size, 40px) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((40px - var(--mdc-checkbox-touch-target-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-touch-target-size, 40px);height:40px;height:var(--mdc-checkbox-touch-target-size, 40px)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38))}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((48px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((40px - 48px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((40px - 48px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((40px - 48px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:48px;width:var(--mdc-checkbox-state-layer-size, 48px);height:48px;height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-checkbox .mdc-checkbox__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-checkbox .mdc-checkbox__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-checkbox.mdc-ripple-upgraded--unbounded .mdc-checkbox__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-checkbox.mdc-ripple-upgraded--foreground-activation .mdc-checkbox__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-checkbox.mdc-ripple-upgraded--foreground-deactivation .mdc-checkbox__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-checkbox{z-index:0}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{z-index:-1;z-index:var(--mdc-ripple-z-index, -1)}.mdc-checkbox__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:GrayText;border-color:var(--mdc-checkbox-disabled-unselected-icon-color, GrayText);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:GrayText;background-color:GrayText;background-color:var(--mdc-checkbox-disabled-selected-icon-color, GrayText)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:ButtonText;color:var(--mdc-checkbox-selected-checkmark-color, ButtonText)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:ButtonText;border-color:var(--mdc-checkbox-selected-checkmark-color, ButtonText)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:ButtonFace;color:var(--mdc-checkbox-disabled-selected-checkmark-color, ButtonFace)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:ButtonFace;border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, ButtonFace)}}.mdc-deprecated-chip-trailing-action__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-deprecated-chip-trailing-action{border:none;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;padding:0;outline:none;cursor:pointer;-webkit-appearance:none;background:none}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__icon{height:18px;width:18px;font-size:18px}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__touch{width:26px}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__icon{fill:currentColor;color:inherit}.mdc-deprecated-chip-trailing-action{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded .mdc-deprecated-chip-trailing-action__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded .mdc-deprecated-chip-trailing-action__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded--unbounded .mdc-deprecated-chip-trailing-action__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-chip-trailing-action__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-chip-trailing-action__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded .mdc-deprecated-chip-trailing-action__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded .mdc-deprecated-chip-trailing-action__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-deprecated-chip-trailing-action:hover .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action.mdc-ripple-surface--hover .mdc-deprecated-chip-trailing-action__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded--background-focused .mdc-deprecated-chip-trailing-action__ripple::before,.mdc-deprecated-chip-trailing-action:not(.mdc-ripple-upgraded):focus .mdc-deprecated-chip-trailing-action__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-deprecated-chip-trailing-action:not(.mdc-ripple-upgraded) .mdc-deprecated-chip-trailing-action__ripple::after{transition:opacity 150ms linear}.mdc-deprecated-chip-trailing-action:not(.mdc-ripple-upgraded):active .mdc-deprecated-chip-trailing-action__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-deprecated-chip-trailing-action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-deprecated-chip-trailing-action .mdc-deprecated-chip-trailing-action__ripple{position:absolute;box-sizing:content-box;width:100%;height:100%;overflow:hidden}.mdc-chip__icon--leading{color:rgba(0,0,0,.54)}.mdc-deprecated-chip-trailing-action{color:#000}.mdc-chip__icon--trailing{color:rgba(0,0,0,.54)}.mdc-chip__icon--trailing:hover{color:rgba(0,0,0,.62)}.mdc-chip__icon--trailing:focus{color:rgba(0,0,0,.87)}.mdc-chip__icon.mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden){width:20px;height:20px;font-size:20px}.mdc-deprecated-chip-trailing-action__icon{height:18px;width:18px;font-size:18px}.mdc-chip__icon.mdc-chip__icon--trailing{width:18px;height:18px;font-size:18px}.mdc-deprecated-chip-trailing-action{margin-left:4px;margin-right:-4px}[dir=rtl] .mdc-deprecated-chip-trailing-action,.mdc-deprecated-chip-trailing-action[dir=rtl]{margin-left:-4px;margin-right:4px}.mdc-chip__icon--trailing{margin-left:4px;margin-right:-4px}[dir=rtl] .mdc-chip__icon--trailing,.mdc-chip__icon--trailing[dir=rtl]{margin-left:-4px;margin-right:4px}.mdc-chip{border-radius:16px;background-color:#e0e0e0;color:rgba(0, 0, 0, 0.87);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);height:32px;position:relative;display:inline-flex;align-items:center;box-sizing:border-box;padding:0 12px;border-width:0;outline:none;cursor:pointer;-webkit-appearance:none}.mdc-chip .mdc-chip__ripple{border-radius:16px}.mdc-chip:hover{color:rgba(0, 0, 0, 0.87)}.mdc-chip.mdc-chip--selected .mdc-chip__checkmark,.mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden){margin-left:-4px;margin-right:4px}[dir=rtl] .mdc-chip.mdc-chip--selected .mdc-chip__checkmark,[dir=rtl] .mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden),.mdc-chip.mdc-chip--selected .mdc-chip__checkmark[dir=rtl],.mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden)[dir=rtl]{margin-left:4px;margin-right:-4px}.mdc-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-chip::-moz-focus-inner{padding:0;border:0}.mdc-chip:hover{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-chip .mdc-chip__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-chip--exit{transition:opacity 75ms cubic-bezier(0.4, 0, 0.2, 1),width 150ms cubic-bezier(0, 0, 0.2, 1),padding 100ms linear,margin 100ms linear;opacity:0}.mdc-chip__overflow{text-overflow:ellipsis;overflow:hidden}.mdc-chip__text{white-space:nowrap}.mdc-chip__icon{border-radius:50%;outline:none;vertical-align:middle}.mdc-chip__checkmark{height:20px}.mdc-chip__checkmark-path{transition:stroke-dashoffset 150ms 50ms cubic-bezier(0.4, 0, 0.6, 1);stroke-width:2px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-chip__primary-action:focus{outline:none}.mdc-chip--selected .mdc-chip__checkmark-path{stroke-dashoffset:0}.mdc-chip__icon--leading,.mdc-chip__icon--trailing{position:relative}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__icon--leading{color:rgba(98,0,238,.54)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:hover{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-chip-set--choice .mdc-chip .mdc-chip__checkmark-path{stroke:#6200ee;stroke:var(--mdc-theme-primary, #6200ee)}.mdc-chip-set--choice .mdc-chip--selected{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-chip__checkmark-svg{width:0;height:20px;transition:width 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-chip--selected .mdc-chip__checkmark-svg{width:20px}.mdc-chip-set--filter .mdc-chip__icon--leading{transition:opacity 75ms linear;transition-delay:-50ms;opacity:1}.mdc-chip-set--filter .mdc-chip__icon--leading+.mdc-chip__checkmark{transition:opacity 75ms linear;transition-delay:80ms;opacity:0}.mdc-chip-set--filter .mdc-chip__icon--leading+.mdc-chip__checkmark .mdc-chip__checkmark-svg{transition:width 0ms}.mdc-chip-set--filter .mdc-chip--selected .mdc-chip__icon--leading{opacity:0}.mdc-chip-set--filter .mdc-chip--selected .mdc-chip__icon--leading+.mdc-chip__checkmark{width:0;opacity:1}.mdc-chip-set--filter .mdc-chip__icon--leading-hidden.mdc-chip__icon--leading{width:0;opacity:0}.mdc-chip-set--filter .mdc-chip__icon--leading-hidden.mdc-chip__icon--leading+.mdc-chip__checkmark{width:20px}.mdc-chip{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-chip .mdc-chip__ripple::before,.mdc-chip .mdc-chip__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-chip .mdc-chip__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-chip .mdc-chip__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-chip.mdc-ripple-upgraded--unbounded .mdc-chip__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-chip.mdc-ripple-upgraded--foreground-activation .mdc-chip__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-chip.mdc-ripple-upgraded--foreground-deactivation .mdc-chip__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-chip .mdc-chip__ripple::before,.mdc-chip .mdc-chip__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-chip.mdc-ripple-upgraded .mdc-chip__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-chip .mdc-chip__ripple::before,.mdc-chip .mdc-chip__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-chip:hover .mdc-chip__ripple::before,.mdc-chip.mdc-ripple-surface--hover .mdc-chip__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-chip.mdc-ripple-upgraded--background-focused .mdc-chip__ripple::before,.mdc-chip.mdc-ripple-upgraded:focus-within .mdc-chip__ripple::before,.mdc-chip:not(.mdc-ripple-upgraded):focus .mdc-chip__ripple::before,.mdc-chip:not(.mdc-ripple-upgraded):focus-within .mdc-chip__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-chip:not(.mdc-ripple-upgraded) .mdc-chip__ripple::after{transition:opacity 150ms linear}.mdc-chip:not(.mdc-ripple-upgraded):active .mdc-chip__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-chip.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-chip .mdc-chip__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple::before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected .mdc-chip__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:hover .mdc-chip__ripple::before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-surface--hover .mdc-chip__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded--background-focused .mdc-chip__ripple::before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded:focus-within .mdc-chip__ripple::before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):focus .mdc-chip__ripple::before,.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):focus-within .mdc-chip__ripple::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded) .mdc-chip__ripple::after{transition:opacity 150ms linear}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected:not(.mdc-ripple-upgraded):active .mdc-chip__ripple::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-chip-set--choice .mdc-chip.mdc-chip--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}@keyframes mdc-chip-entry{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-chip-set{padding:4px;display:flex;flex-wrap:wrap;box-sizing:border-box}.mdc-chip-set .mdc-chip{margin:4px}.mdc-chip-set .mdc-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-chip-set--input .mdc-chip{animation:mdc-chip-entry 100ms cubic-bezier(0, 0, 0.2, 1)}.smui-chip-set--non-interactive .mdc-chip{cursor:initial;color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-circular-progress__determinate-circle,.mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-theme-primary, #6200ee)}.mdc-circular-progress__determinate-track{stroke:transparent}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0px - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px*2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-select{display:inline-flex;position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.87)}.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-select.mdc-select--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.54)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#6200ee;fill:var(--mdc-theme-primary, #6200ee)}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled)+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:rgba(0, 0, 0, 0.54)}.mdc-select.mdc-select--disabled .mdc-select__icon{color:rgba(0, 0, 0, 0.38)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:red}.mdc-select.mdc-select--disabled .mdc-floating-label{color:GrayText}.mdc-select.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}.mdc-select.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select.mdc-select--disabled .mdc-notched-outline__trailing{border-color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__icon{color:GrayText}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:GrayText}}.mdc-select .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-select .mdc-select__anchor{padding-left:16px;padding-right:0}[dir=rtl] .mdc-select .mdc-select__anchor,.mdc-select .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:16px}.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor{padding-left:0;padding-right:0}[dir=rtl] .mdc-select.mdc-select--with-leading-icon .mdc-select__anchor,.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:0}.mdc-select .mdc-select__icon{width:24px;height:24px;font-size:24px}.mdc-select .mdc-select__dropdown-icon{width:24px;height:24px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item,.mdc-select .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:12px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic,.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:12px;margin-right:0}.mdc-select__dropdown-icon{margin-left:12px;margin-right:12px;display:inline-flex;position:relative;align-self:center;align-items:center;justify-content:center;flex-shrink:0;pointer-events:none}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active,.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{position:absolute;top:0;left:0}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-graphic{width:41.6666666667%;height:20.8333333333%}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:1;transition:opacity 75ms linear 75ms}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:0;transition:opacity 75ms linear}[dir=rtl] .mdc-select__dropdown-icon,.mdc-select__dropdown-icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:0;transition:opacity 49.5ms linear}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:1;transition:opacity 100.5ms linear 49.5ms}.mdc-select__anchor{width:200px;min-width:0;flex:1 1 auto;position:relative;box-sizing:border-box;overflow:hidden;outline:none;cursor:pointer}.mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-select__selected-text-container{display:flex;appearance:none;pointer-events:none;box-sizing:border-box;width:auto;min-width:0;flex-grow:1;height:28px;border:none;outline:none;padding:0;background-color:rgba(0,0,0,0);color:inherit}.mdc-select__selected-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;width:100%;text-align:left}[dir=rtl] .mdc-select__selected-text,.mdc-select__selected-text[dir=rtl]{text-align:right}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--invalid+.mdc-select-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--disabled{cursor:default;pointer-events:none}.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item{padding-left:12px;padding-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item,.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:12px;padding-right:12px}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-select__menu::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}}@media screen and (forced-colors: active)and (forced-colors: active),screen and (-ms-high-contrast: active)and (forced-colors: active){.mdc-select__menu::before{border-color:CanvasText}}.mdc-select__menu .mdc-deprecated-list .mdc-select__icon,.mdc-select__menu .mdc-list .mdc-select__icon{margin-left:0;margin-right:0}[dir=rtl] .mdc-select__menu .mdc-deprecated-list .mdc-select__icon,[dir=rtl] .mdc-select__menu .mdc-list .mdc-select__icon,.mdc-select__menu .mdc-deprecated-list .mdc-select__icon[dir=rtl],.mdc-select__menu .mdc-list .mdc-select__icon[dir=rtl]{margin-left:0;margin-right:0}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated,.mdc-select__menu .mdc-list .mdc-deprecated-list-item--selected,.mdc-select__menu .mdc-list .mdc-deprecated-list-item--activated{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic,.mdc-select__menu .mdc-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic,.mdc-select__menu .mdc-list .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select__menu .mdc-list-item__start{display:inline-flex;align-items:center}.mdc-select__option{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-select__option,.mdc-select__option[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-select__one-line-option.mdc-list-item--with-one-line{height:48px}.mdc-select__two-line-option.mdc-list-item--with-two-lines{height:64px}.mdc-select__two-line-option.mdc-list-item--with-two-lines .mdc-list-item__start{margin-top:20px}.mdc-select__two-line-option.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-select__two-line-option.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-select__two-line-option.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-select__two-line-option.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-select__two-line-option.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-select__option-with-leading-content{padding-left:0;padding-right:12px}.mdc-select__option-with-leading-content.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-select__option-with-leading-content.mdc-list-item,.mdc-select__option-with-leading-content.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-select__option-with-leading-content .mdc-list-item__start{margin-left:12px;margin-right:0}[dir=rtl] .mdc-select__option-with-leading-content .mdc-list-item__start,.mdc-select__option-with-leading-content .mdc-list-item__start[dir=rtl]{margin-left:0;margin-right:12px}.mdc-select__option-with-leading-content .mdc-list-item__start{width:36px;height:24px}[dir=rtl] .mdc-select__option-with-leading-content,.mdc-select__option-with-leading-content[dir=rtl]{padding-left:12px;padding-right:0}.mdc-select__option-with-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-select__option-with-meta.mdc-list-item,.mdc-select__option-with-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-select__option-with-meta .mdc-list-item__end{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-select__option-with-meta .mdc-list-item__end,.mdc-select__option-with-meta .mdc-list-item__end[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select--filled .mdc-select__anchor{height:56px;display:flex;align-items:baseline}.mdc-select--filled .mdc-select__anchor::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text::before{content:"​"}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor::before{display:none}.mdc-select--filled .mdc-select__anchor{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-select--filled:not(.mdc-select--disabled) .mdc-select__anchor{background-color:whitesmoke}.mdc-select--filled.mdc-select--disabled .mdc-select__anchor{background-color:#fafafa}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-select--filled:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--filled.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-select--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-select--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-select--filled .mdc-menu-surface--is-open-below{border-top-left-radius:0px;border-top-right-radius:0px}.mdc-select--filled.mdc-select--focused.mdc-line-ripple::after{transform:scale(1, 2);opacity:1}.mdc-select--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-select--filled .mdc-floating-label,.mdc-select--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{left:48px;right:initial}[dir=rtl] .mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined{border:none}.mdc-select--outlined .mdc-select__anchor{height:56px}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-56px{0%{transform:translateX(calc(0px - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-select--outlined .mdc-select__anchor{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-select--outlined+.mdc-select-helper-text{margin-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-select__anchor{background-color:transparent}.mdc-select--outlined.mdc-select--disabled .mdc-select__anchor{background-color:transparent}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-select--outlined .mdc-select__anchor{display:flex;align-items:baseline;overflow:visible}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined 250ms 1}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text::before{content:"​"}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--outlined .mdc-select__anchor::before{display:none}.mdc-select--outlined .mdc-select__selected-text-container{display:flex;border:none;z-index:1;background-color:rgba(0,0,0,0)}.mdc-select--outlined .mdc-select__icon{z-index:2}.mdc-select--outlined .mdc-floating-label{line-height:1.15rem;left:4px;right:initial}[dir=rtl] .mdc-select--outlined .mdc-floating-label,.mdc-select--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-select--outlined.mdc-select--focused .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px{0%{transform:translateX(calc(0px - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake,.mdc-select--outlined.mdc-select--with-leading-icon[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px-rtl{0%{transform:translateX(calc(0px - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 96px)}.mdc-select--outlined .mdc-menu-surface{margin-bottom:8px}.mdc-select--outlined.mdc-select--no-label .mdc-menu-surface,.mdc-select--outlined .mdc-menu-surface--is-open-below{margin-bottom:0}.mdc-select__anchor{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-select__anchor .mdc-select__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-select__anchor .mdc-select__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-select__anchor.mdc-ripple-upgraded--unbounded .mdc-select__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-select__anchor.mdc-ripple-upgraded--foreground-activation .mdc-select__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-select__anchor.mdc-ripple-upgraded--foreground-deactivation .mdc-select__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-select__anchor:hover .mdc-select__ripple::before,.mdc-select__anchor.mdc-ripple-surface--hover .mdc-select__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__anchor.mdc-ripple-upgraded--background-focused .mdc-select__ripple::before,.mdc-select__anchor:not(.mdc-ripple-upgraded):focus .mdc-select__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__anchor .mdc-select__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select-helper-text{margin:0;margin-left:16px;margin-right:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal}[dir=rtl] .mdc-select-helper-text,.mdc-select-helper-text[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-select-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-select-helper-text--validation-msg{opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-select--invalid+.mdc-select-helper-text--validation-msg,.mdc-select-helper-text--validation-msg-persistent{opacity:1}.mdc-select--with-leading-icon .mdc-select__icon{display:inline-block;box-sizing:border-box;border:none;text-decoration:none;cursor:pointer;user-select:none;flex-shrink:0;align-self:center;background-color:rgba(0,0,0,0);fill:currentColor}.mdc-select--with-leading-icon .mdc-select__icon{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__icon,.mdc-select--with-leading-icon .mdc-select__icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select__icon:not([tabindex]),.mdc-select__icon[tabindex="-1"]{cursor:default;pointer-events:none}.smui-floating-label--remove-transition{transition:unset !important}.smui-floating-label--force-size{position:absolute !important;transform:unset !important}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item{height:48px}.mdc-deprecated-list-item__secondary-text{color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-deprecated-list-item__graphic{background-color:transparent}.mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-item__meta{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{opacity:.38}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__secondary-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-list-item--selected,.mdc-deprecated-list-item--activated{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic,.mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-deprecated-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-deprecated-list-item__wrapper{display:block}.mdc-deprecated-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;height:48px}.mdc-deprecated-list-item:focus{outline:none}.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus::before,.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus::before,.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-deprecated-list-item.mdc-deprecated-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-deprecated-list-item.mdc-deprecated-list-item--selected::before{border-color:CanvasText}}[dir=rtl] .mdc-deprecated-list-item,.mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px;height:72px}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item,.mdc-deprecated-list--image-list .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item{padding-left:0px;padding-right:16px;height:72px}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item,.mdc-deprecated-list--video-list .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:0px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:20px;height:20px}[dir=rtl] .mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-deprecated-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;object-fit:cover;margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-deprecated-list-item__graphic,.mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px;border-radius:50%}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:56px;height:56px}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:100px;height:56px}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-deprecated-list .mdc-deprecated-list-item__graphic{display:inline-flex}.mdc-deprecated-list-item__meta{margin-left:auto;margin-right:0}.mdc-deprecated-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}.mdc-deprecated-list-item[dir=rtl] .mdc-deprecated-list-item__meta,[dir=rtl] .mdc-deprecated-list-item .mdc-deprecated-list-item__meta{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text::before,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text::before,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text::before,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text::before,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text::after,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text::after,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text::after,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text::after,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-deprecated-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:40px}.mdc-deprecated-list--two-line .mdc-deprecated-list-item__text{align-self:flex-start}.mdc-deprecated-list--two-line .mdc-deprecated-list-item{height:64px}.mdc-deprecated-list--two-line.mdc-deprecated-list--video-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--image-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item{height:72px}.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-deprecated-list--two-line.mdc-deprecated-list--dense .mdc-deprecated-list-item,.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:16px;width:36px;height:36px}[dir=rtl] .mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic,.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{cursor:pointer}a.mdc-deprecated-list-item{color:inherit;text-decoration:none}.mdc-deprecated-list-divider{height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid}.mdc-deprecated-list-divider{border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-deprecated-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list-divider--padded,.mdc-deprecated-list-divider--padded[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-deprecated-list-divider--inset,.mdc-deprecated-list-divider--inset[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded,.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading,.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing,.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0px;margin-right:0;width:calc(100% - 0px)}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding,.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding,.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-deprecated-list-group .mdc-deprecated-list{padding:0}.mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-item__primary-text{color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-list-item__secondary-text{color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__overline-text{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-trailing-icon .mdc-list-item__end{background-color:transparent}.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__end{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:.38}.mdc-list-item--disabled .mdc-list-item__primary-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--disabled .mdc-list-item__secondary-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--disabled .mdc-list-item__overline-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--disabled.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--selected .mdc-list-item__primary-text,.mdc-list-item--activated .mdc-list-item__primary-text{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list-item--selected.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--activated.mdc-list-item--with-leading-icon .mdc-list-item__start{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:white}}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-overline-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-overline-font-size, 0.75rem);line-height:2rem;line-height:var(--mdc-typography-overline-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-overline-font-weight, 500);letter-spacing:0.1666666667em;letter-spacing:var(--mdc-typography-overline-letter-spacing, 0.1666666667em);text-decoration:none;text-decoration:var(--mdc-typography-overline-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-overline-text-transform, uppercase);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:24px;height:24px}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image .mdc-list-item__start{width:56px;height:56px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{width:100px;height:56px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch .mdc-list-item__start{width:36px;height:20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:24px;height:24px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{width:36px;height:20px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{background-color:rgba(0, 0, 0, 0.12)}.mdc-list-divider{height:1px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-deprecated-list-item--disabled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.2)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-list-item--disabled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-list-item--disabled .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-list-item--disabled .mdc-list-item__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-list-item--disabled .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.smui-list--three-line .mdc-deprecated-list-item__text{align-self:flex-start}.smui-list--three-line .mdc-deprecated-list-item{height:88px}.smui-list--three-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:76px}.mdc-deprecated-list-item.smui-menu-item--non-interactive{cursor:auto}.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.smui-menu-surface--static{position:static;z-index:0;display:inline-block;transform:scale(1);opacity:1}.mdc-menu{min-width:112px;min-width:var(--mdc-menu-min-width, 112px)}.mdc-menu .mdc-deprecated-list-item__meta{color:rgba(0, 0, 0, 0.87)}.mdc-menu .mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.87)}.mdc-menu .mdc-menu-item--submenu-open .mdc-deprecated-list-item__ripple::before{opacity:.04}.mdc-menu .mdc-menu-item--submenu-open .mdc-list-item__ripple::before{opacity:.04}.mdc-menu .mdc-deprecated-list{color:rgba(0, 0, 0, 0.87)}.mdc-menu .mdc-deprecated-list,.mdc-menu .mdc-list{position:relative}.mdc-menu .mdc-deprecated-list .mdc-elevation-overlay,.mdc-menu .mdc-list .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-menu .mdc-deprecated-list-divider{margin:8px 0}.mdc-menu .mdc-deprecated-list-item{user-select:none}.mdc-menu .mdc-deprecated-list-item--disabled{cursor:auto}.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__text,.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__graphic{pointer-events:none}.mdc-menu__selection-group{padding:0;fill:currentColor}.mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:56px;padding-right:16px}[dir=rtl] .mdc-menu__selection-group .mdc-deprecated-list-item,.mdc-menu__selection-group .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{left:16px;right:initial;display:none;position:absolute;top:50%;transform:translateY(-50%)}[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon,.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl]{left:initial;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-menu__selection-group .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:none}.mdc-menu-item--selected .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:inline}.mdc-select--activated{z-index:8}.smui-select--standard .mdc-select__dropdown-icon{margin-left:26px;margin-right:0}[dir=rtl] .smui-select--standard .mdc-select__dropdown-icon,.smui-select--standard .mdc-select__dropdown-icon[dir=rtl]{margin-left:0;margin-right:26px}.smui-select--standard.mdc-select--with-leading-icon .mdc-select__icon{position:relative;margin:0;margin-left:0;margin-right:-24px;left:-36px;right:initial}[dir=rtl] .smui-select--standard.mdc-select--with-leading-icon .mdc-select__icon,.smui-select--standard.mdc-select--with-leading-icon .mdc-select__icon[dir=rtl]{margin-left:-24px;margin-right:0}[dir=rtl] .smui-select--standard.mdc-select--with-leading-icon .mdc-select__icon,.smui-select--standard.mdc-select--with-leading-icon .mdc-select__icon[dir=rtl]{left:initial;right:-36px}.smui-select--standard .mdc-select__anchor{padding-left:0;padding-right:0}[dir=rtl] .smui-select--standard .mdc-select__anchor,.smui-select--standard .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:0}.smui-select--standard.mdc-select--with-leading-icon .mdc-select__anchor{padding-left:36px;padding-right:0}[dir=rtl] .smui-select--standard.mdc-select--with-leading-icon .mdc-select__anchor,.smui-select--standard.mdc-select--with-leading-icon .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:36px}.smui-select--standard .mdc-select__anchor .mdc-select__ripple::before,.smui-select--standard .mdc-select__anchor .mdc-select__ripple::after{background-color:transparent;background-color:var(--mdc-ripple-color, transparent)}.smui-select--standard .mdc-select__anchor:hover .mdc-select__ripple::before,.smui-select--standard .mdc-select__anchor.mdc-ripple-surface--hover .mdc-select__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.smui-select--standard .mdc-select__anchor.mdc-ripple-upgraded--background-focused .mdc-select__ripple::before,.smui-select--standard .mdc-select__anchor:not(.mdc-ripple-upgraded):focus .mdc-select__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.smui-select--standard .mdc-select__anchor{height:56px;display:flex;align-items:baseline}.smui-select--standard .mdc-select__anchor::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.smui-select--standard.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text::before{content:"​"}.smui-select--standard.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.smui-select--standard.mdc-select--no-label .mdc-select__anchor::before{display:none}.smui-select--standard:not(.mdc-select--disabled) .mdc-select__anchor{background-color:transparent}.smui-select--standard.mdc-select--disabled .mdc-select__anchor{background-color:transparent}.smui-select--standard:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.smui-select--standard:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.smui-select--standard:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.smui-select--standard.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.smui-select--standard .mdc-floating-label{max-width:calc(100% - 52px)}.smui-select--standard .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 52px/0.75)}.smui-select--standard .mdc-menu-surface--is-open-below{border-top-left-radius:0px;border-top-right-radius:0px}.smui-select--standard.mdc-select--focused.mdc-line-ripple::after{transform:scale(1, 2);opacity:1}.smui-select--standard .mdc-floating-label{left:0;right:initial}[dir=rtl] .smui-select--standard .mdc-floating-label,.smui-select--standard .mdc-floating-label[dir=rtl]{left:initial;right:0}.smui-select--standard.mdc-select--with-leading-icon .mdc-floating-label{left:36px;right:initial}[dir=rtl] .smui-select--standard.mdc-select--with-leading-icon .mdc-floating-label,.smui-select--standard.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:36px}.smui-select--standard.mdc-select--with-leading-icon .mdc-floating-label{max-width:calc(100% - 72px)}.smui-select--standard.mdc-select--with-leading-icon .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 72px/0.75)}.smui-select--standard+.mdc-select-helper-text{margin-left:0;margin-right:0}.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit)}.mdc-data-table{background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid;border-color:rgba(0,0,0,.12);-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__row{background-color:inherit}.mdc-data-table__header-cell{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-data-table__row--selected{background-color:rgba(98, 0, 238, 0.04)}.mdc-data-table__pagination-rows-per-page-select:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-data-table__pagination-rows-per-page-select:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-data-table__pagination-rows-per-page-select:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.12)}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-color:rgba(0,0,0,.12)}.mdc-data-table__pagination{border-top-color:rgba(0,0,0,.12)}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row:not(.mdc-data-table__row--selected):hover{background-color:rgba(0, 0, 0, 0.04)}.mdc-data-table__header-cell{color:rgba(0, 0, 0, 0.87)}.mdc-data-table__pagination-total,.mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__cell{color:rgba(0, 0, 0, 0.87)}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{display:none}.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:28px;max-width:28px}@media screen and (forced-colors: active){.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table__sort-icon-button{color:rgba(0, 0, 0, 0.6)}.mdc-data-table__sort-icon-button .mdc-icon-button__ripple::before,.mdc-data-table__sort-icon-button .mdc-icon-button__ripple::after{background-color:rgba(0, 0, 0, 0.6);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.6))}.mdc-data-table__sort-icon-button:hover .mdc-icon-button__ripple::before,.mdc-data-table__sort-icon-button.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__sort-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{color:rgba(0, 0, 0, 0.87)}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button .mdc-icon-button__ripple::before,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button .mdc-icon-button__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button:hover .mdc-icon-button__ripple::before,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:#fff;background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}.mdc-data-table__pagination{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:80px;min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-36px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-36px{0%{transform:translateX(calc(0px - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-data-table__header-row-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after,.mdc-data-table__row-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mdc-data-table__header-row-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-data-table__header-row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after,.mdc-data-table__row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after,.mdc-data-table__row-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__header-row-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded,.mdc-data-table__row-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-data-table__header-row-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-data-table__header-row-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after,.mdc-data-table__row-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-data-table__row-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-data-table__header-row-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mdc-data-table__row-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mdc-data-table__header-row-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-data-table__header-row-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-data-table__header-row-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mdc-data-table__row-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-data-table__row-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-data-table__row-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#6200ee;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee));background-color:#6200ee;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee))}@keyframes mdc-checkbox-fade-in-background-8A000000FF6200EE00000000FF6200EE{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#6200ee;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee));background-color:#6200ee;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF6200EE00000000FF6200EE{0%,80%{border-color:#6200ee;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee));background-color:#6200ee;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #6200ee))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mdc-data-table__header-row-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__header-row-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__row-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__row-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF6200EE00000000FF6200EE}.mdc-data-table__header-row-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__header-row-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__row-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-data-table__row-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF6200EE00000000FF6200EE}.mdc-data-table--sticky-header>.mdc-data-table__table-container{overflow-x:unset}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__surface-scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog .mdc-dialog__close{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-dialog .mdc-dialog__close .mdc-icon-button__ripple::before,.mdc-dialog .mdc-dialog__close .mdc-icon-button__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-dialog .mdc-dialog__close:hover .mdc-icon-button__ripple::before,.mdc-dialog .mdc-dialog__close.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-dialog .mdc-dialog__close.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-dialog .mdc-dialog__close:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-dialog .mdc-dialog__close:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-dialog .mdc-dialog__close:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-dialog .mdc-dialog__close.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions,.mdc-dialog.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:1px solid rgba(0,0,0,.12);margin-bottom:0}.mdc-dialog.mdc-dialog-scroll-divider-header.mdc-dialog--fullscreen .mdc-dialog__header{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__surface{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-dialog__surface{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12)}.mdc-dialog__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit)}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(max-width: 600px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1;z-index:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog.smui-dialog--selection .mdc-dialog__content{padding:0}.mdc-dialog--stacked .mdc-dialog__actions.smui-dialog__actions--reversed{flex-direction:column-reverse}.mdc-dialog--stacked .mdc-dialog__actions.smui-dialog__actions--reversed .mdc-dialog__button:not(:last-child){margin-top:12px}.mdc-dialog--stacked .mdc-dialog__actions.smui-dialog__actions--reversed .mdc-dialog__button:last-child{margin-top:0}.mdc-drawer{border-color:rgba(0, 0, 0, 0.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-top-left-radius:0;border-top-right-radius:0;border-top-right-radius:var(--mdc-shape-large, 0);border-bottom-right-radius:0;border-bottom-right-radius:var(--mdc-shape-large, 0);border-bottom-left-radius:0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-deprecated-list-item--activated{color:rgba(98, 0, 238, 0.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-top-left-radius:0;border-top-left-radius:var(--mdc-shape-large, 0);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-left-radius:var(--mdc-shape-large, 0)}.mdc-drawer .mdc-deprecated-list-item{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-deprecated-list-item{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);height:calc(48px - 2*4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-deprecated-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-deprecated-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-deprecated-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-deprecated-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-deprecated-list-item__text,.mdc-drawer .mdc-deprecated-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0, 0, 0, 0.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer.smui-drawer__absolute,.mdc-drawer-scrim.smui-drawer-scrim__absolute{position:absolute}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0,0,0,.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab,.mdc-fab:not(:disabled) .mdc-fab__icon,.mdc-fab:not(:disabled) .mdc-fab__label,.mdc-fab:disabled .mdc-fab__icon,.mdc-fab:disabled .mdc-fab__label{color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mdc-fab{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-fab .mdc-fab__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-fab .mdc-fab__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-fab.mdc-ripple-upgraded--unbounded .mdc-fab__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-fab.mdc-ripple-upgraded--foreground-activation .mdc-fab__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-fab.mdc-ripple-upgraded--foreground-deactivation .mdc-fab__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-fab.mdc-ripple-upgraded .mdc-fab__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-secondary, #fff))}.mdc-fab:hover .mdc-fab__ripple::before,.mdc-fab.mdc-ripple-surface--hover .mdc-fab__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__ripple::before,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-fab:not(.mdc-ripple-upgraded) .mdc-fab__ripple::after{transition:opacity 150ms linear}.mdc-fab:not(.mdc-ripple-upgraded):active .mdc-fab__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-fab.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-fab .mdc-fab__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.mdc-fab{z-index:0}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{z-index:-1;z-index:var(--mdc-ripple-z-index, -1)}.smui-fab--color-primary{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.smui-fab--color-primary,.smui-fab--color-primary:not(:disabled) .mdc-fab__icon,.smui-fab--color-primary:not(:disabled) .mdc-fab__label,.smui-fab--color-primary:disabled .mdc-fab__icon,.smui-fab--color-primary:disabled .mdc-fab__label{color:#fff;color:var(--mdc-theme-on-primary, #fff)}a.mdc-fab,a.mdc-fab:not(:disabled) .mdc-fab__icon,a.mdc-fab:not(:disabled) .mdc-fab__label,a.mdc-fab:disabled .mdc-fab__icon,a.mdc-fab:disabled .mdc-fab__label,a.mdc-fab:visited,a.mdc-fab:visited:not(:disabled) .mdc-fab__icon,a.mdc-fab:visited:not(:disabled) .mdc-fab__label,a.mdc-fab:visited:disabled .mdc-fab__icon,a.mdc-fab:visited:disabled .mdc-fab__label{color:#fff;color:var(--mdc-theme-on-secondary, #fff)}a.smui-fab--color-primary,a.smui-fab--color-primary:not(:disabled) .mdc-fab__icon,a.smui-fab--color-primary:not(:disabled) .mdc-fab__label,a.smui-fab--color-primary:disabled .mdc-fab__icon,a.smui-fab--color-primary:disabled .mdc-fab__label,a.smui-fab--color-primary:visited,a.smui-fab--color-primary:visited:not(:disabled) .mdc-fab__icon,a.smui-fab--color-primary:visited:not(:disabled) .mdc-fab__label,a.smui-fab--color-primary:visited:disabled .mdc-fab__icon,a.smui-fab--color-primary:visited:disabled .mdc-fab__label{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-fab .mdc-fab__ripple::before,.mdc-fab .mdc-fab__ripple::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-secondary, #fff))}.mdc-fab:hover .mdc-fab__ripple::before,.mdc-fab.mdc-ripple-surface--hover .mdc-fab__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__ripple::before,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-fab:not(.mdc-ripple-upgraded) .mdc-fab__ripple::after{transition:opacity 150ms linear}.mdc-fab:not(.mdc-ripple-upgraded):active .mdc-fab__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-fab.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-fab--color-primary .mdc-fab__ripple::before,.smui-fab--color-primary .mdc-fab__ripple::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.smui-fab--color-primary:hover .mdc-fab__ripple::before,.smui-fab--color-primary.mdc-ripple-surface--hover .mdc-fab__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.smui-fab--color-primary.mdc-ripple-upgraded--background-focused .mdc-fab__ripple::before,.smui-fab--color-primary:not(.mdc-ripple-upgraded):focus .mdc-fab__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.smui-fab--color-primary:not(.mdc-ripple-upgraded) .mdc-fab__ripple::after{transition:opacity 150ms linear}.smui-fab--color-primary:not(.mdc-ripple-upgraded):active .mdc-fab__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-fab--color-primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-image-list{display:flex;flex-wrap:wrap;margin:0 auto;padding:0}.mdc-image-list__item,.mdc-image-list__image-aspect-container{position:relative;box-sizing:border-box}.mdc-image-list__item{list-style-type:none}.mdc-image-list__image{width:100%}.mdc-image-list__image-aspect-container .mdc-image-list__image{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-image-list__image-aspect-container{padding-bottom:calc(100%/1)}.mdc-image-list__image{border-radius:0}.mdc-image-list--with-text-protection .mdc-image-list__supporting{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-image-list__supporting{color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;padding:8px 0;line-height:24px}.mdc-image-list__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-image-list--with-text-protection .mdc-image-list__supporting{position:absolute;bottom:0;width:100%;height:48px;padding:0 16px;background:rgba(0,0,0,.6);color:#fff}.mdc-image-list--masonry{display:block}.mdc-image-list--masonry .mdc-image-list__item{break-inside:avoid-column}.mdc-image-list--masonry .mdc-image-list__image{display:block;height:auto}:root{--mdc-layout-grid-margin-desktop: 24px;--mdc-layout-grid-gutter-desktop: 24px;--mdc-layout-grid-column-width-desktop: 72px;--mdc-layout-grid-margin-tablet: 16px;--mdc-layout-grid-gutter-tablet: 16px;--mdc-layout-grid-column-width-tablet: 72px;--mdc-layout-grid-margin-phone: 16px;--mdc-layout-grid-gutter-phone: 16px;--mdc-layout-grid-column-width-phone: 72px}@media(min-width: 840px){.mdc-layout-grid{box-sizing:border-box;margin:0 auto;padding:24px;padding:var(--mdc-layout-grid-margin-desktop, 24px)}}@media(min-width: 600px)and (max-width: 839px){.mdc-layout-grid{box-sizing:border-box;margin:0 auto;padding:16px;padding:var(--mdc-layout-grid-margin-tablet, 16px)}}@media(max-width: 599px){.mdc-layout-grid{box-sizing:border-box;margin:0 auto;padding:16px;padding:var(--mdc-layout-grid-margin-phone, 16px)}}@media(min-width: 840px){.mdc-layout-grid__inner{display:flex;flex-flow:row wrap;align-items:stretch;margin:-12px;margin:calc(var(--mdc-layout-grid-gutter-desktop, 24px)/2*-1)}@supports(display: grid){.mdc-layout-grid__inner{display:grid;margin:0;grid-gap:24px;grid-gap:var(--mdc-layout-grid-gutter-desktop, 24px);grid-template-columns:repeat(12, minmax(0, 1fr))}}}@media(min-width: 600px)and (max-width: 839px){.mdc-layout-grid__inner{display:flex;flex-flow:row wrap;align-items:stretch;margin:-8px;margin:calc(var(--mdc-layout-grid-gutter-tablet, 16px)/2*-1)}@supports(display: grid){.mdc-layout-grid__inner{display:grid;margin:0;grid-gap:16px;grid-gap:var(--mdc-layout-grid-gutter-tablet, 16px);grid-template-columns:repeat(8, minmax(0, 1fr))}}}@media(max-width: 599px){.mdc-layout-grid__inner{display:flex;flex-flow:row wrap;align-items:stretch;margin:-8px;margin:calc(var(--mdc-layout-grid-gutter-phone, 16px)/2*-1)}@supports(display: grid){.mdc-layout-grid__inner{display:grid;margin:0;grid-gap:16px;grid-gap:var(--mdc-layout-grid-gutter-phone, 16px);grid-template-columns:repeat(4, minmax(0, 1fr))}}}@media(min-width: 840px){.mdc-layout-grid__cell{width:calc(33.3333333333% - 24px);width:calc(33.3333333333% - var(--mdc-layout-grid-gutter-desktop, 24px));box-sizing:border-box;margin:12px;margin:calc(var(--mdc-layout-grid-gutter-desktop, 24px)/2)}@supports(display: grid){.mdc-layout-grid__cell{width:auto;grid-column-end:span 4}}@supports(display: grid){.mdc-layout-grid__cell{margin:0}}.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-desktop{width:calc(8.3333333333% - 24px);width:calc(8.3333333333% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-desktop{width:auto;grid-column-end:span 1}}.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-desktop{width:calc(16.6666666667% - 24px);width:calc(16.6666666667% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-desktop{width:auto;grid-column-end:span 2}}.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-desktop{width:calc(25% - 24px);width:calc(25% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-desktop{width:auto;grid-column-end:span 3}}.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-desktop{width:calc(33.3333333333% - 24px);width:calc(33.3333333333% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-desktop{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-desktop{width:calc(41.6666666667% - 24px);width:calc(41.6666666667% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-desktop{width:auto;grid-column-end:span 5}}.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-desktop{width:calc(50% - 24px);width:calc(50% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-desktop{width:auto;grid-column-end:span 6}}.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-desktop{width:calc(58.3333333333% - 24px);width:calc(58.3333333333% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-desktop{width:auto;grid-column-end:span 7}}.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-desktop{width:calc(66.6666666667% - 24px);width:calc(66.6666666667% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-desktop{width:auto;grid-column-end:span 8}}.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-desktop{width:calc(75% - 24px);width:calc(75% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-desktop{width:auto;grid-column-end:span 9}}.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-desktop{width:calc(83.3333333333% - 24px);width:calc(83.3333333333% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-desktop{width:auto;grid-column-end:span 10}}.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-desktop{width:calc(91.6666666667% - 24px);width:calc(91.6666666667% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-desktop{width:auto;grid-column-end:span 11}}.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-desktop{width:calc(100% - 24px);width:calc(100% - var(--mdc-layout-grid-gutter-desktop, 24px))}@supports(display: grid){.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-desktop{width:auto;grid-column-end:span 12}}}@media(min-width: 600px)and (max-width: 839px){.mdc-layout-grid__cell{width:calc(50% - 16px);width:calc(50% - var(--mdc-layout-grid-gutter-tablet, 16px));box-sizing:border-box;margin:8px;margin:calc(var(--mdc-layout-grid-gutter-tablet, 16px)/2)}@supports(display: grid){.mdc-layout-grid__cell{width:auto;grid-column-end:span 4}}@supports(display: grid){.mdc-layout-grid__cell{margin:0}}.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-tablet{width:calc(12.5% - 16px);width:calc(12.5% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-tablet{width:auto;grid-column-end:span 1}}.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-tablet{width:calc(25% - 16px);width:calc(25% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-tablet{width:auto;grid-column-end:span 2}}.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-tablet{width:calc(37.5% - 16px);width:calc(37.5% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-tablet{width:auto;grid-column-end:span 3}}.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-tablet{width:calc(50% - 16px);width:calc(50% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-tablet{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-tablet{width:calc(62.5% - 16px);width:calc(62.5% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-tablet{width:auto;grid-column-end:span 5}}.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-tablet{width:calc(75% - 16px);width:calc(75% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-tablet{width:auto;grid-column-end:span 6}}.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-tablet{width:calc(87.5% - 16px);width:calc(87.5% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-tablet{width:auto;grid-column-end:span 7}}.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-tablet{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-tablet{width:auto;grid-column-end:span 8}}.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-tablet{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-tablet{width:auto;grid-column-end:span 8}}.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-tablet{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-tablet{width:auto;grid-column-end:span 8}}.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-tablet{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-tablet{width:auto;grid-column-end:span 8}}.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-tablet{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-tablet, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-tablet{width:auto;grid-column-end:span 8}}}@media(max-width: 599px){.mdc-layout-grid__cell{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px));box-sizing:border-box;margin:8px;margin:calc(var(--mdc-layout-grid-gutter-phone, 16px)/2)}@supports(display: grid){.mdc-layout-grid__cell{width:auto;grid-column-end:span 4}}@supports(display: grid){.mdc-layout-grid__cell{margin:0}}.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-phone{width:calc(25% - 16px);width:calc(25% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-1,.mdc-layout-grid__cell--span-1-phone{width:auto;grid-column-end:span 1}}.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-phone{width:calc(50% - 16px);width:calc(50% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-2,.mdc-layout-grid__cell--span-2-phone{width:auto;grid-column-end:span 2}}.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-phone{width:calc(75% - 16px);width:calc(75% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-3,.mdc-layout-grid__cell--span-3-phone{width:auto;grid-column-end:span 3}}.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-4,.mdc-layout-grid__cell--span-4-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-5,.mdc-layout-grid__cell--span-5-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-6,.mdc-layout-grid__cell--span-6-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-7,.mdc-layout-grid__cell--span-7-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-8,.mdc-layout-grid__cell--span-8-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-9,.mdc-layout-grid__cell--span-9-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-10,.mdc-layout-grid__cell--span-10-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-11,.mdc-layout-grid__cell--span-11-phone{width:auto;grid-column-end:span 4}}.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-phone{width:calc(100% - 16px);width:calc(100% - var(--mdc-layout-grid-gutter-phone, 16px))}@supports(display: grid){.mdc-layout-grid__cell--span-12,.mdc-layout-grid__cell--span-12-phone{width:auto;grid-column-end:span 4}}}.mdc-layout-grid__cell--order-1{order:1}.mdc-layout-grid__cell--order-2{order:2}.mdc-layout-grid__cell--order-3{order:3}.mdc-layout-grid__cell--order-4{order:4}.mdc-layout-grid__cell--order-5{order:5}.mdc-layout-grid__cell--order-6{order:6}.mdc-layout-grid__cell--order-7{order:7}.mdc-layout-grid__cell--order-8{order:8}.mdc-layout-grid__cell--order-9{order:9}.mdc-layout-grid__cell--order-10{order:10}.mdc-layout-grid__cell--order-11{order:11}.mdc-layout-grid__cell--order-12{order:12}.mdc-layout-grid__cell--align-top{align-self:flex-start}@supports(display: grid){.mdc-layout-grid__cell--align-top{align-self:start}}.mdc-layout-grid__cell--align-middle{align-self:center}.mdc-layout-grid__cell--align-bottom{align-self:flex-end}@supports(display: grid){.mdc-layout-grid__cell--align-bottom{align-self:end}}@media(min-width: 840px){.mdc-layout-grid--fixed-column-width{width:1176px;width:calc(var(--mdc-layout-grid-column-width-desktop, 72px)*12 + var(--mdc-layout-grid-gutter-desktop, 24px)*11 + var(--mdc-layout-grid-margin-desktop, 24px)*2)}}@media(min-width: 600px)and (max-width: 839px){.mdc-layout-grid--fixed-column-width{width:720px;width:calc(var(--mdc-layout-grid-column-width-tablet, 72px)*8 + var(--mdc-layout-grid-gutter-tablet, 16px)*7 + var(--mdc-layout-grid-margin-tablet, 16px)*2)}}@media(max-width: 599px){.mdc-layout-grid--fixed-column-width{width:368px;width:calc(var(--mdc-layout-grid-column-width-phone, 72px)*4 + var(--mdc-layout-grid-gutter-phone, 16px)*3 + var(--mdc-layout-grid-margin-phone, 16px)*2)}}.mdc-layout-grid--align-left{margin-right:auto;margin-left:0}.mdc-layout-grid--align-right{margin-right:0;margin-left:auto}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(-200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(-160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:4px}.mdc-linear-progress__bar-inner{border-top-width:4px}.mdc-linear-progress__buffer-dots{background-size:10px 4px}.smui-paper{padding:24px 16px}.smui-paper.smui-paper--raised,.smui-paper.smui-paper--unelevated{background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000)}.smui-paper.smui-paper--raised.smui-paper--elevation-z0{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z1{box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 1px 3px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z2{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z3{box-shadow:0px 3px 3px -2px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 1px 8px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z4{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z5{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z6{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z7{box-shadow:0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z8{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z9{box-shadow:0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z10{box-shadow:0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z11{box-shadow:0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z12{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z13{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z14{box-shadow:0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z15{box-shadow:0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z16{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z17{box-shadow:0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z18{box-shadow:0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z19{box-shadow:0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z20{box-shadow:0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z21{box-shadow:0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z22{box-shadow:0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z23{box-shadow:0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0,0,0,.12)}.smui-paper.smui-paper--raised.smui-paper--elevation-z24{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12)}.smui-paper.smui-paper--outlined{border-width:1px;border-style:solid;border-color:#000;border-color:var(--mdc-theme-on-surface, #000)}.smui-paper.smui-paper--rounded{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.smui-paper.smui-paper-transition{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);will-change:box-shadow}.smui-paper .smui-paper__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline5-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.5rem;font-size:var(--mdc-typography-headline5-font-size, 1.5rem);line-height:2rem;line-height:var(--mdc-typography-headline5-line-height, 2rem);font-weight:400;font-weight:var(--mdc-typography-headline5-font-weight, 400);letter-spacing:normal;letter-spacing:var(--mdc-typography-headline5-letter-spacing, normal);text-decoration:inherit;text-decoration:var(--mdc-typography-headline5-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline5-text-transform, inherit);margin-top:0;margin-bottom:.4rem}.smui-paper .smui-paper__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);margin-top:-0.2rem;margin-bottom:.4rem}.smui-paper .smui-paper__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit)}.smui-paper.smui-paper--color-primary.smui-paper--raised,.smui-paper.smui-paper--color-primary.smui-paper--unelevated{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:#fff;color:var(--mdc-theme-on-primary, #fff)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z0{box-shadow:0px 0px 0px 0px rgba(98, 0, 238, 0.2),0px 0px 0px 0px rgba(98, 0, 238, 0.14),0px 0px 0px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z1{box-shadow:0px 2px 1px -1px rgba(98, 0, 238, 0.2),0px 1px 1px 0px rgba(98, 0, 238, 0.14),0px 1px 3px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z2{box-shadow:0px 3px 1px -2px rgba(98, 0, 238, 0.2),0px 2px 2px 0px rgba(98, 0, 238, 0.14),0px 1px 5px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z3{box-shadow:0px 3px 3px -2px rgba(98, 0, 238, 0.2),0px 3px 4px 0px rgba(98, 0, 238, 0.14),0px 1px 8px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z4{box-shadow:0px 2px 4px -1px rgba(98, 0, 238, 0.2),0px 4px 5px 0px rgba(98, 0, 238, 0.14),0px 1px 10px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z5{box-shadow:0px 3px 5px -1px rgba(98, 0, 238, 0.2),0px 5px 8px 0px rgba(98, 0, 238, 0.14),0px 1px 14px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z6{box-shadow:0px 3px 5px -1px rgba(98, 0, 238, 0.2),0px 6px 10px 0px rgba(98, 0, 238, 0.14),0px 1px 18px 0px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z7{box-shadow:0px 4px 5px -2px rgba(98, 0, 238, 0.2),0px 7px 10px 1px rgba(98, 0, 238, 0.14),0px 2px 16px 1px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z8{box-shadow:0px 5px 5px -3px rgba(98, 0, 238, 0.2),0px 8px 10px 1px rgba(98, 0, 238, 0.14),0px 3px 14px 2px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z9{box-shadow:0px 5px 6px -3px rgba(98, 0, 238, 0.2),0px 9px 12px 1px rgba(98, 0, 238, 0.14),0px 3px 16px 2px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z10{box-shadow:0px 6px 6px -3px rgba(98, 0, 238, 0.2),0px 10px 14px 1px rgba(98, 0, 238, 0.14),0px 4px 18px 3px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z11{box-shadow:0px 6px 7px -4px rgba(98, 0, 238, 0.2),0px 11px 15px 1px rgba(98, 0, 238, 0.14),0px 4px 20px 3px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z12{box-shadow:0px 7px 8px -4px rgba(98, 0, 238, 0.2),0px 12px 17px 2px rgba(98, 0, 238, 0.14),0px 5px 22px 4px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z13{box-shadow:0px 7px 8px -4px rgba(98, 0, 238, 0.2),0px 13px 19px 2px rgba(98, 0, 238, 0.14),0px 5px 24px 4px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z14{box-shadow:0px 7px 9px -4px rgba(98, 0, 238, 0.2),0px 14px 21px 2px rgba(98, 0, 238, 0.14),0px 5px 26px 4px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z15{box-shadow:0px 8px 9px -5px rgba(98, 0, 238, 0.2),0px 15px 22px 2px rgba(98, 0, 238, 0.14),0px 6px 28px 5px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z16{box-shadow:0px 8px 10px -5px rgba(98, 0, 238, 0.2),0px 16px 24px 2px rgba(98, 0, 238, 0.14),0px 6px 30px 5px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z17{box-shadow:0px 8px 11px -5px rgba(98, 0, 238, 0.2),0px 17px 26px 2px rgba(98, 0, 238, 0.14),0px 6px 32px 5px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z18{box-shadow:0px 9px 11px -5px rgba(98, 0, 238, 0.2),0px 18px 28px 2px rgba(98, 0, 238, 0.14),0px 7px 34px 6px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z19{box-shadow:0px 9px 12px -6px rgba(98, 0, 238, 0.2),0px 19px 29px 2px rgba(98, 0, 238, 0.14),0px 7px 36px 6px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z20{box-shadow:0px 10px 13px -6px rgba(98, 0, 238, 0.2),0px 20px 31px 3px rgba(98, 0, 238, 0.14),0px 8px 38px 7px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z21{box-shadow:0px 10px 13px -6px rgba(98, 0, 238, 0.2),0px 21px 33px 3px rgba(98, 0, 238, 0.14),0px 8px 40px 7px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z22{box-shadow:0px 10px 14px -6px rgba(98, 0, 238, 0.2),0px 22px 35px 3px rgba(98, 0, 238, 0.14),0px 8px 42px 7px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z23{box-shadow:0px 11px 14px -7px rgba(98, 0, 238, 0.2),0px 23px 36px 3px rgba(98, 0, 238, 0.14),0px 9px 44px 8px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--raised.smui-paper--elevation-z24{box-shadow:0px 11px 15px -7px rgba(98, 0, 238, 0.2),0px 24px 38px 3px rgba(98, 0, 238, 0.14),0px 9px 46px 8px rgba(98,0,238,.12)}.smui-paper.smui-paper--color-primary.smui-paper--outlined{border-width:1px;border-style:solid;border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.smui-paper.smui-paper--color-secondary.smui-paper--raised,.smui-paper.smui-paper--color-secondary.smui-paper--unelevated{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z0{box-shadow:0px 0px 0px 0px rgba(1, 135, 134, 0.2),0px 0px 0px 0px rgba(1, 135, 134, 0.14),0px 0px 0px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z1{box-shadow:0px 2px 1px -1px rgba(1, 135, 134, 0.2),0px 1px 1px 0px rgba(1, 135, 134, 0.14),0px 1px 3px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z2{box-shadow:0px 3px 1px -2px rgba(1, 135, 134, 0.2),0px 2px 2px 0px rgba(1, 135, 134, 0.14),0px 1px 5px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z3{box-shadow:0px 3px 3px -2px rgba(1, 135, 134, 0.2),0px 3px 4px 0px rgba(1, 135, 134, 0.14),0px 1px 8px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z4{box-shadow:0px 2px 4px -1px rgba(1, 135, 134, 0.2),0px 4px 5px 0px rgba(1, 135, 134, 0.14),0px 1px 10px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z5{box-shadow:0px 3px 5px -1px rgba(1, 135, 134, 0.2),0px 5px 8px 0px rgba(1, 135, 134, 0.14),0px 1px 14px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z6{box-shadow:0px 3px 5px -1px rgba(1, 135, 134, 0.2),0px 6px 10px 0px rgba(1, 135, 134, 0.14),0px 1px 18px 0px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z7{box-shadow:0px 4px 5px -2px rgba(1, 135, 134, 0.2),0px 7px 10px 1px rgba(1, 135, 134, 0.14),0px 2px 16px 1px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z8{box-shadow:0px 5px 5px -3px rgba(1, 135, 134, 0.2),0px 8px 10px 1px rgba(1, 135, 134, 0.14),0px 3px 14px 2px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z9{box-shadow:0px 5px 6px -3px rgba(1, 135, 134, 0.2),0px 9px 12px 1px rgba(1, 135, 134, 0.14),0px 3px 16px 2px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z10{box-shadow:0px 6px 6px -3px rgba(1, 135, 134, 0.2),0px 10px 14px 1px rgba(1, 135, 134, 0.14),0px 4px 18px 3px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z11{box-shadow:0px 6px 7px -4px rgba(1, 135, 134, 0.2),0px 11px 15px 1px rgba(1, 135, 134, 0.14),0px 4px 20px 3px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z12{box-shadow:0px 7px 8px -4px rgba(1, 135, 134, 0.2),0px 12px 17px 2px rgba(1, 135, 134, 0.14),0px 5px 22px 4px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z13{box-shadow:0px 7px 8px -4px rgba(1, 135, 134, 0.2),0px 13px 19px 2px rgba(1, 135, 134, 0.14),0px 5px 24px 4px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z14{box-shadow:0px 7px 9px -4px rgba(1, 135, 134, 0.2),0px 14px 21px 2px rgba(1, 135, 134, 0.14),0px 5px 26px 4px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z15{box-shadow:0px 8px 9px -5px rgba(1, 135, 134, 0.2),0px 15px 22px 2px rgba(1, 135, 134, 0.14),0px 6px 28px 5px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z16{box-shadow:0px 8px 10px -5px rgba(1, 135, 134, 0.2),0px 16px 24px 2px rgba(1, 135, 134, 0.14),0px 6px 30px 5px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z17{box-shadow:0px 8px 11px -5px rgba(1, 135, 134, 0.2),0px 17px 26px 2px rgba(1, 135, 134, 0.14),0px 6px 32px 5px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z18{box-shadow:0px 9px 11px -5px rgba(1, 135, 134, 0.2),0px 18px 28px 2px rgba(1, 135, 134, 0.14),0px 7px 34px 6px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z19{box-shadow:0px 9px 12px -6px rgba(1, 135, 134, 0.2),0px 19px 29px 2px rgba(1, 135, 134, 0.14),0px 7px 36px 6px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z20{box-shadow:0px 10px 13px -6px rgba(1, 135, 134, 0.2),0px 20px 31px 3px rgba(1, 135, 134, 0.14),0px 8px 38px 7px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z21{box-shadow:0px 10px 13px -6px rgba(1, 135, 134, 0.2),0px 21px 33px 3px rgba(1, 135, 134, 0.14),0px 8px 40px 7px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z22{box-shadow:0px 10px 14px -6px rgba(1, 135, 134, 0.2),0px 22px 35px 3px rgba(1, 135, 134, 0.14),0px 8px 42px 7px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z23{box-shadow:0px 11px 14px -7px rgba(1, 135, 134, 0.2),0px 23px 36px 3px rgba(1, 135, 134, 0.14),0px 9px 44px 8px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--raised.smui-paper--elevation-z24{box-shadow:0px 11px 15px -7px rgba(1, 135, 134, 0.2),0px 24px 38px 3px rgba(1, 135, 134, 0.14),0px 9px 46px 8px rgba(1,135,134,.12)}.smui-paper.smui-paper--color-secondary.smui-paper--outlined{border-width:1px;border-style:solid;border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio{padding:calc((40px - 20px) / 2)}.mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.54)}.mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.38)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.38)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:rgba(0, 0, 0, 0.38)}.mdc-radio .mdc-radio__background::before{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__background::before{top:calc(-1 * (40px - 20px) / 2);left:calc(-1 * (40px - 20px) / 2);width:40px;height:40px}.mdc-radio .mdc-radio__native-control{top:calc((40px - 40px) / 2);right:calc((40px - 40px) / 2);left:calc((40px - 40px) / 2);width:40px;height:40px}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-radio.mdc-radio--disabled [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio.mdc-radio--disabled .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:GrayText}.mdc-radio.mdc-radio--disabled [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio.mdc-radio--disabled .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:GrayText}.mdc-radio.mdc-radio--disabled [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio.mdc-radio--disabled .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:GrayText}}.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-radio .mdc-radio__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-radio .mdc-radio__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-radio.mdc-ripple-upgraded--unbounded .mdc-radio__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-radio.mdc-ripple-upgraded--foreground-activation .mdc-radio__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-radio.mdc-ripple-upgraded--foreground-deactivation .mdc-radio__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::before,.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-radio:hover .mdc-radio__ripple::before,.mdc-radio.mdc-ripple-surface--hover .mdc-radio__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__ripple::before,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-radio:not(.mdc-ripple-upgraded) .mdc-radio__ripple::after{transition:opacity 150ms linear}.mdc-radio:not(.mdc-ripple-upgraded):active .mdc-radio__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-radio.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-radio.mdc-ripple-upgraded .mdc-radio__background::before,.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__background::before{content:none}.mdc-radio__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-segmented-button{display:inline-block;font-size:0}.mdc-segmented-button__segment{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-segmented-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-segmented-button__segment{color:rgba(0, 0, 0, 0.6);color:var(--mdc-segmented-button-unselected-ink-color, rgba(0, 0, 0, 0.6))}.mdc-segmented-button__segment{background-color:white;background-color:var(--mdc-segmented-button-unselected-container-fill-color, white)}.mdc-segmented-button__segment--selected{color:#6200ee;color:var(--mdc-segmented-button-selected-ink-color, #6200ee)}.mdc-segmented-button__segment--selected{background-color:rgba(98, 0, 238, 0.08);background-color:var(--mdc-segmented-button-selected-container-fill-color, rgba(98, 0, 238, 0.08))}.mdc-segmented-button__segment{position:relative;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);display:inline-flex;vertical-align:top;align-items:center;height:36px;min-width:48px;padding:0 12px;border-width:1px 0 1px 1px}.mdc-segmented-button__segment .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-segmented-button__segment:hover{cursor:pointer}.mdc-segmented-button__segment:focus{outline-width:0}.mdc-segmented-button__segment:first-child{border-radius:4px 0 0 4px}.mdc-segmented-button__segment:last-child{border-right-width:1px;border-radius:0 4px 4px 0}.mdc-segmented-button__segment .mdc-segmented-button__segment__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-segmented-button__segment .mdc-segmented-button__segment--touch{margin-top:0px;margin-bottom:0px}.mdc-touch-target-wrapper .mdc-segmented-button__segment{border-radius:0;border-right-width:0}.mdc-touch-target-wrapper:first-child .mdc-segmented-button__segment{border-radius:4px 0 0 4px}.mdc-touch-target-wrapper:last-child .mdc-segmented-button__segment{border-right-width:1px;border-radius:0 4px 4px 0}.mdc-segmented-button__icon{width:24px;font-size:18px}.mdc-segmented-button__icon+.mdc-segmented-button__label{padding-left:6px}.mdc-segmented-button__segment{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;overflow:hidden}.mdc-segmented-button__segment .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment .mdc-segmented-button__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-segmented-button__segment .mdc-segmented-button__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-segmented-button__segment .mdc-segmented-button__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-segmented-button__segment.mdc-ripple-upgraded .mdc-segmented-button__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-segmented-button__segment.mdc-ripple-upgraded .mdc-segmented-button__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-segmented-button__segment.mdc-ripple-upgraded--unbounded .mdc-segmented-button__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-segmented-button__segment.mdc-ripple-upgraded--foreground-activation .mdc-segmented-button__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-segmented-button__segment.mdc-ripple-upgraded--foreground-deactivation .mdc-segmented-button__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-segmented-button__segment .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment .mdc-segmented-button__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-segmented-button__segment.mdc-ripple-upgraded .mdc-segmented-button__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-segmented-button__segment .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment .mdc-segmented-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, #6200ee)}.mdc-segmented-button__segment:hover .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment.mdc-ripple-surface--hover .mdc-segmented-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-segmented-button__segment.mdc-ripple-upgraded--background-focused .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment.mdc-ripple-upgraded:focus-within .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment:not(.mdc-ripple-upgraded):focus .mdc-segmented-button__ripple::before,.mdc-segmented-button__segment:not(.mdc-ripple-upgraded):focus-within .mdc-segmented-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-segmented-button__segment:not(.mdc-ripple-upgraded) .mdc-segmented-button__ripple::after{transition:opacity 150ms linear}.mdc-segmented-button__segment:not(.mdc-ripple-upgraded):active .mdc-segmented-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-segmented-button__segment.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-segmented-button__segment .mdc-segmented-button__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-slider__thumb{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-slider__thumb::before,.mdc-slider__thumb::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-slider__thumb::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-slider__thumb::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-slider__thumb.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-slider__thumb.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-slider__thumb.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-slider__thumb.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-slider__thumb.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-slider__thumb::before,.mdc-slider__thumb::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-slider__thumb.mdc-ripple-upgraded::before,.mdc-slider__thumb.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-slider__thumb.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-slider__thumb::before,.mdc-slider__thumb::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-slider__thumb:hover::before,.mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{height:4px;position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{border-radius:3px;height:6px;overflow:hidden;top:-1px}.mdc-slider .mdc-slider__track--active_fill{border-top:6px solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{border-radius:2px;height:4px;left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__track--active_fill{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:#000;border-color:var(--mdc-theme-on-surface, #000)}.mdc-slider .mdc-slider__track--inactive{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);opacity:.24}.mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:#000;background-color:var(--mdc-theme-on-surface, #000);opacity:.24}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__value-indicator-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit)}.mdc-slider .mdc-slider__value-indicator{background-color:#000;opacity:.6}.mdc-slider .mdc-slider__value-indicator::before{border-top-color:#000}.mdc-slider .mdc-slider__value-indicator{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-slider .mdc-slider__thumb{display:flex;height:48px;left:-24px;outline:none;position:absolute;user-select:none;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 1px 3px 0px rgba(0,0,0,.12);border:10px solid;border-radius:50%;box-sizing:border-box;height:20px;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);width:20px}.mdc-slider .mdc-slider__thumb-knob{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:#000;background-color:var(--mdc-theme-on-surface, #000);border-color:#000;border-color:var(--mdc-theme-on-surface, #000)}.mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mdc-slider .mdc-slider__thumb::before,.mdc-slider .mdc-slider__thumb::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-slider .mdc-slider__thumb:hover::before,.mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider .mdc-slider__tick-mark--active,.mdc-slider .mdc-slider__tick-mark--inactive{border-radius:50%;height:2px;width:2px}.mdc-slider .mdc-slider__tick-mark--active{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff);opacity:.6}.mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff);opacity:.6}.mdc-slider .mdc-slider__tick-mark--inactive{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);opacity:.6}.mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:#000;background-color:var(--mdc-theme-on-surface, #000);opacity:.6}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{opacity:.38;cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-slider{-webkit-tap-highlight-color:rgba(255,255,255,0)}.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333333}.mdc-snackbar__label{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:8px;padding-bottom:12px}[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label,.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action:not(:disabled){color:#6200ee}.mdc-snackbar__action .mdc-button__ripple::before,.mdc-snackbar__action .mdc-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, #6200ee)}.mdc-snackbar__action:hover .mdc-button__ripple::before,.mdc-snackbar__action.mdc-ripple-surface--hover .mdc-button__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-snackbar__action:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-snackbar__dismiss{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__dismiss .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss .mdc-icon-button__ripple::after{background-color:rgba(255, 255, 255, 0.87);background-color:var(--mdc-ripple-color, rgba(255, 255, 255, 0.87))}.mdc-snackbar__dismiss:hover .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss.mdc-ripple-surface--hover .mdc-icon-button__ripple::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__ripple::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__ripple::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded) .mdc-icon-button__ripple::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active .mdc-icon-button__ripple::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:6px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__focus-ring{display:none}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:36px;max-width:36px}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors: active)and (forced-colors: active){.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-snackbar__dismiss.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:36px;height:36px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-snackbar__dismiss.mdc-snackbar__dismiss.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:36px;max-width:36px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss .mdc-icon-button__touch{position:absolute;top:50%;height:36px;left:50%;width:36px;transform:translate(-50%, -50%)}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-switch .mdc-switch__ripple::before,.mdc-switch .mdc-switch__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-switch .mdc-switch__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-switch .mdc-switch__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-switch.mdc-ripple-upgraded .mdc-switch__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-switch.mdc-ripple-upgraded .mdc-switch__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-switch.mdc-ripple-upgraded--unbounded .mdc-switch__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-switch.mdc-ripple-upgraded--foreground-activation .mdc-switch__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-switch.mdc-ripple-upgraded--foreground-deactivation .mdc-switch__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-switch .mdc-switch__ripple::before,.mdc-switch .mdc-switch__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-switch.mdc-ripple-upgraded .mdc-switch__ripple::before,.mdc-switch.mdc-ripple-upgraded .mdc-switch__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-switch.mdc-ripple-upgraded .mdc-switch__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-switch .mdc-switch__focus-ring-wrapper{width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mdc-switch.mdc-ripple-upgraded--background-focused .mdc-switch__focus-ring,.mdc-switch:not(.mdc-ripple-upgraded):focus .mdc-switch__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-switch.mdc-ripple-upgraded--background-focused .mdc-switch__focus-ring,.mdc-switch:not(.mdc-ripple-upgraded):focus .mdc-switch__focus-ring{border-color:CanvasText}}.mdc-switch.mdc-ripple-upgraded--background-focused .mdc-switch__focus-ring::after,.mdc-switch:not(.mdc-ripple-upgraded):focus .mdc-switch__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-switch.mdc-ripple-upgraded--background-focused .mdc-switch__focus-ring::after,.mdc-switch:not(.mdc-ripple-upgraded):focus .mdc-switch__focus-ring::after{border-color:CanvasText}}.mdc-switch{width:36px;width:var(--mdc-switch-track-width, 36px)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:#6200ee;background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:#310077;background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:#310077;background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:#310077;background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:#424242;background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:#616161;background:var(--mdc-switch-unselected-handle-color, #616161)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:#212121;background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:#212121;background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:#212121;background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:#424242;background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mdc-switch .mdc-switch__handle::before{background:#fff;background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mdc-switch:enabled .mdc-switch__shadow{--mdc-elevation-box-shadow-for-gss:0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-switch-handle-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-switch:disabled .mdc-switch__shadow{--mdc-elevation-box-shadow-for-gss:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-switch-disabled-handle-elevation, var(--mdc-elevation-box-shadow-for-gss))}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:20px;height:var(--mdc-switch-handle-height, 20px)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:0.38;opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mdc-switch .mdc-switch__handle{border-radius:10px;border-radius:var(--mdc-switch-handle-shape, 10px)}.mdc-switch .mdc-switch__handle{width:20px;width:var(--mdc-switch-handle-width, 20px)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - 20px);width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:#fff;fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:#fff;fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:#fff;fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:#fff;fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:0.38;opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:0.38;opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:18px;width:var(--mdc-switch-selected-icon-size, 18px);height:18px;height:var(--mdc-switch-selected-icon-size, 18px)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:18px;width:var(--mdc-switch-unselected-icon-size, 18px);height:18px;height:var(--mdc-switch-unselected-icon-size, 18px)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:#6200ee;background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:#6200ee;background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:#6200ee;background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:#424242;background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:#424242;background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:#424242;background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:0.04;opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:0.1;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:0.04;opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:0.1;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mdc-switch .mdc-switch__ripple{height:48px;height:var(--mdc-switch-state-layer-size, 48px);width:48px;width:var(--mdc-switch-state-layer-size, 48px)}.mdc-switch .mdc-switch__track{height:14px;height:var(--mdc-switch-track-height, 14px)}.mdc-switch:disabled .mdc-switch__track{opacity:0.12;opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch:enabled .mdc-switch__track::after{background:#d7bbff;background:var(--mdc-switch-selected-track-color, #d7bbff)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:#d7bbff;background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:#d7bbff;background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mdc-switch:enabled:active .mdc-switch__track::after{background:#d7bbff;background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mdc-switch:disabled .mdc-switch__track::after{background:#424242;background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mdc-switch:enabled .mdc-switch__track::before{background:#e0e0e0;background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:#e0e0e0;background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:#e0e0e0;background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mdc-switch:enabled:active .mdc-switch__track::before{background:#e0e0e0;background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mdc-switch:disabled .mdc-switch__track::before{background:#424242;background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mdc-switch .mdc-switch__track{border-radius:7px;border-radius:var(--mdc-switch-track-shape, 7px)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-switch:disabled .mdc-switch__handle::after{opacity:1;opacity:var(--mdc-switch-disabled-handle-opacity, 1)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:ButtonText;fill:var(--mdc-switch-selected-icon-color, ButtonText)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:GrayText;fill:var(--mdc-switch-disabled-selected-icon-color, GrayText)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:ButtonText;fill:var(--mdc-switch-unselected-icon-color, ButtonText)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:GrayText;fill:var(--mdc-switch-disabled-unselected-icon-color, GrayText)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:1;opacity:var(--mdc-switch-disabled-selected-icon-opacity, 1)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:1;opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 1)}.mdc-switch:disabled .mdc-switch__track{opacity:1;opacity:var(--mdc-switch-disabled-track-opacity, 1)}}.mdc-switch{margin:14px}.mdc-switch.smui-switch--color-secondary{--mdc-switch-disabled-selected-icon-color:var(--mdc-theme-on-secondary, #fff);--mdc-switch-disabled-unselected-icon-color:var(--mdc-theme-on-secondary, #fff);--mdc-switch-selected-focus-handle-color:#014443;--mdc-switch-selected-focus-state-layer-color:var(--mdc-theme-secondary, #018786);--mdc-switch-selected-focus-track-color:#a2fefe;--mdc-switch-selected-handle-color:var(--mdc-theme-secondary, #018786);--mdc-switch-selected-hover-handle-color:#014443;--mdc-switch-selected-hover-state-layer-color:var(--mdc-theme-secondary, #018786);--mdc-switch-selected-hover-track-color:#a2fefe;--mdc-switch-selected-icon-color:var(--mdc-theme-on-secondary, #fff);--mdc-switch-selected-pressed-handle-color:#014443;--mdc-switch-selected-pressed-state-layer-color:var(--mdc-theme-secondary, #018786);--mdc-switch-selected-pressed-track-color:#a2fefe;--mdc-switch-selected-track-color:#a2fefe;--mdc-switch-unselected-icon-color:var(--mdc-theme-on-secondary, #fff)}.mdc-tab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);position:relative}.mdc-tab .mdc-tab__text-label{color:rgba(0, 0, 0, 0.6)}.mdc-tab .mdc-tab__icon{color:rgba(0, 0, 0, 0.54);fill:currentColor}.mdc-tab.mdc-ripple-upgraded--background-focused.mdc-tab--active .mdc-tab__focus-ring,.mdc-tab:not(.mdc-ripple-upgraded):focus.mdc-tab--active .mdc-tab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:8px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + -12px);width:calc(100% + -8px);margin-top:-2px;z-index:2}@media screen and (forced-colors: active){.mdc-tab.mdc-ripple-upgraded--background-focused.mdc-tab--active .mdc-tab__focus-ring,.mdc-tab:not(.mdc-ripple-upgraded):focus.mdc-tab--active .mdc-tab__focus-ring{border-color:CanvasText}}.mdc-tab.mdc-ripple-upgraded--background-focused.mdc-tab--active .mdc-tab__focus-ring::after,.mdc-tab:not(.mdc-ripple-upgraded):focus.mdc-tab--active .mdc-tab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:10px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-tab.mdc-ripple-upgraded--background-focused.mdc-tab--active .mdc-tab__focus-ring::after,.mdc-tab:not(.mdc-ripple-upgraded):focus.mdc-tab--active .mdc-tab__focus-ring::after{border-color:CanvasText}}.mdc-tab.mdc-ripple-upgraded--background-focused .mdc-tab__focus-ring,.mdc-tab:not(.mdc-ripple-upgraded):focus .mdc-tab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:8px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + -8px);width:calc(100% + -8px);z-index:2}@media screen and (forced-colors: active){.mdc-tab.mdc-ripple-upgraded--background-focused .mdc-tab__focus-ring,.mdc-tab:not(.mdc-ripple-upgraded):focus .mdc-tab__focus-ring{border-color:CanvasText}}.mdc-tab.mdc-ripple-upgraded--background-focused .mdc-tab__focus-ring::after,.mdc-tab:not(.mdc-ripple-upgraded):focus .mdc-tab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:10px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-tab.mdc-ripple-upgraded--background-focused .mdc-tab__focus-ring::after,.mdc-tab:not(.mdc-ripple-upgraded):focus .mdc-tab__focus-ring::after{border-color:CanvasText}}.mdc-tab__content{position:relative}.mdc-tab__icon{width:24px;height:24px;font-size:24px}.mdc-tab--active .mdc-tab__text-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-tab--active .mdc-tab__icon{color:#6200ee;color:var(--mdc-theme-primary, #6200ee);fill:currentColor}.mdc-tab{background:none}.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-tab .mdc-tab__ripple::before,.mdc-tab .mdc-tab__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-tab .mdc-tab__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-tab .mdc-tab__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-tab.mdc-ripple-upgraded .mdc-tab__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab.mdc-ripple-upgraded .mdc-tab__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-tab.mdc-ripple-upgraded--unbounded .mdc-tab__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-tab.mdc-ripple-upgraded--foreground-activation .mdc-tab__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-tab.mdc-ripple-upgraded--foreground-deactivation .mdc-tab__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab .mdc-tab__ripple::before,.mdc-tab .mdc-tab__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-tab.mdc-ripple-upgraded .mdc-tab__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-tab .mdc-tab__ripple::before,.mdc-tab .mdc-tab__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-tab:hover .mdc-tab__ripple::before,.mdc-tab.mdc-ripple-surface--hover .mdc-tab__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-tab.mdc-ripple-upgraded--background-focused .mdc-tab__ripple::before,.mdc-tab:not(.mdc-ripple-upgraded):focus .mdc-tab__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-tab:not(.mdc-ripple-upgraded) .mdc-tab__ripple::after{transition:opacity 150ms linear}.mdc-tab:not(.mdc-ripple-upgraded):active .mdc-tab__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-tab.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-tab__ripple{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;will-change:transform,opacity}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-tab-indicator .mdc-tab-indicator__content--icon{color:#018786;color:var(--mdc-theme-secondary, #018786)}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mdc-tab-bar{width:100%}.mdc-tab{height:48px}.mdc-tab--stacked{height:72px}.mdc-tab-scroller{overflow-y:hidden}.mdc-tab-scroller.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-scroller__test{position:absolute;top:-9999px;width:100px;height:100px;overflow-x:scroll}.mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:touch;display:flex;overflow-x:hidden}.mdc-tab-scroller__scroll-area::-webkit-scrollbar,.mdc-tab-scroller__test::-webkit-scrollbar{display:none}.mdc-tab-scroller__scroll-area--scroll{overflow-x:scroll}.mdc-tab-scroller__scroll-content{position:relative;display:flex;flex:1 0 auto;transform:none;will-change:transform}.mdc-tab-scroller--align-start .mdc-tab-scroller__scroll-content{justify-content:flex-start}.mdc-tab-scroller--align-end .mdc-tab-scroller__scroll-content{justify-content:flex-end}.mdc-tab-scroller--align-center .mdc-tab-scroller__scroll-content{justify-content:center}.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:auto}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-text-field--filled .mdc-text-field__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0, 0, 0, 0.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-text-field--filled:hover .mdc-text-field__ripple::before,.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:whitesmoke}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0px - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{background-color:transparent;background-color:var(--mdc-ripple-color, transparent)}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0px - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0px - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0px - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0px - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0px - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0px - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0, 0, 0, 0.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}.mdc-text-field--disabled .mdc-floating-label{color:GrayText}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.smui-text-field--standard{height:56px;padding:0}.smui-text-field--standard::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.smui-text-field--standard:not(.mdc-text-field--disabled){background-color:transparent}.smui-text-field--standard:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.smui-text-field--standard:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.smui-text-field--standard .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.smui-text-field--standard .mdc-floating-label{left:0;right:initial}[dir=rtl] .smui-text-field--standard .mdc-floating-label,.smui-text-field--standard .mdc-floating-label[dir=rtl]{left:initial;right:0}.smui-text-field--standard .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__input{height:100%}.smui-text-field--standard.mdc-text-field--no-label .mdc-floating-label{display:none}.smui-text-field--standard.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 32px);left:32px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label,.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label[dir=rtl]{left:initial;right:32px}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 48px/0.75)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 36px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 36px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 68px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 68px/0.75)}.mdc-text-field+.mdc-text-field-helper-line{padding-left:0;padding-right:0}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.smui-text-field--standard .mdc-text-field__icon--leading{margin-left:0;margin-right:8px}[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--leading,.smui-text-field--standard .mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--trailing{padding-top:12px;padding-bottom:12px;padding-left:12px;padding-right:0;margin-left:0px;margin-right:0}[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--trailing,.smui-text-field--standard .mdc-text-field__icon--trailing[dir=rtl]{padding-left:0;padding-right:12px}[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--trailing,.smui-text-field--standard .mdc-text-field__icon--trailing[dir=rtl]{margin-left:0;margin-right:0px}.mdc-tooltip__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-tooltip__surface{color:white;color:var(--mdc-theme-text-primary-on-dark, white)}.mdc-tooltip__surface{background-color:rgba(0, 0, 0, 0.6)}.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{z-index:9}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip__title{color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-light, rgba(0, 0, 0, 0.87))}.mdc-tooltip__content{color:rgba(0, 0, 0, 0.6)}.mdc-tooltip__content-link{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-tooltip{position:fixed;display:none}.mdc-tooltip.mdc-tooltip--rich .mdc-tooltip__surface{background-color:#fff}.mdc-tooltip.mdc-tooltip--rich .mdc-tooltip__caret-surface-top,.mdc-tooltip.mdc-tooltip--rich .mdc-tooltip__caret-surface-bottom{background-color:#fff}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);align-items:flex-start;border-radius:4px;display:flex;flex-direction:column;line-height:20px;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{display:block;margin-top:0;line-height:20px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__title::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-tooltip__surface .mdc-tooltip__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__title{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-tooltip--rich .mdc-tooltip__content{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-tooltip--rich .mdc-tooltip__content-link{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.smui-tooltip--force-show{display:inline-flex !important}.smui-tooltip--force-show.mdc-tooltip--rich{display:inline-block !important}.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}.smui-top-app-bar--static{position:static}.smui-top-app-bar--color-secondary{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item::after,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-secondary, #fff))}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item:hover::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon:hover::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-top-app-bar--color-secondary .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.smui-top-app-bar--color-secondary .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.24)}.smui-accordion{display:block;position:relative;z-index:0}.smui-accordion.smui-accordion--with-open-dialog{z-index:auto}.smui-accordion .smui-accordion__panel{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;padding:0;margin-top:0;margin-bottom:0;transition:margin-top .2s 0ms cubic-bezier(0.4, 0, 0.2, 1),margin-bottom .2s 0ms cubic-bezier(0.4, 0, 0.2, 1)}.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::before,.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded .smui-accordion__header__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded .smui-accordion__header__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded--unbounded .smui-accordion__header__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded--foreground-activation .smui-accordion__header__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded--foreground-deactivation .smui-accordion__header__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::before,.smui-accordion .smui-accordion__panel .smui-accordion__header__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.smui-accordion .smui-accordion__panel.mdc-ripple-upgraded .smui-accordion__header__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--extend{transition:width .2s 0ms cubic-bezier(0.4, 0, 0.2, 1),left .2s 0ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow .2s 0ms cubic-bezier(0.4, 0, 0.2, 1),margin-top .2s 0ms cubic-bezier(0.4, 0, 0.2, 1),margin-bottom .2s 0ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;left:0}.smui-accordion .smui-accordion__panel.smui-accordion__panel--extend.smui-accordion__panel--open{width:calc(100% + 10px);left:-5px}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised,.smui-accordion .smui-accordion__panel.smui-paper--unelevated{border-top-width:1px;border-top-style:solid;border-top-color:rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-paper.smui-accordion__panel--raised{z-index:auto;will-change:auto}.smui-accordion .smui-accordion__panel.smui-paper.smui-accordion__panel--raised::before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z0::before{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z1::before{box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 1px 3px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z2::before{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z3::before{box-shadow:0px 3px 3px -2px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 1px 8px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z4::before{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z5::before{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z6::before{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z7::before{box-shadow:0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z8::before{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z9::before{box-shadow:0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z10::before{box-shadow:0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z11::before{box-shadow:0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z12::before{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z13::before{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z14::before{box-shadow:0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z15::before{box-shadow:0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z16::before{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z17::before{box-shadow:0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z18::before{box-shadow:0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z19::before{box-shadow:0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z20::before{box-shadow:0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z21::before{box-shadow:0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z22::before{box-shadow:0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z23::before{box-shadow:0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--elevation-z24::before{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z0::before{box-shadow:0px 0px 0px 0px rgba(98, 0, 238, 0.2),0px 0px 0px 0px rgba(98, 0, 238, 0.14),0px 0px 0px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z1::before{box-shadow:0px 2px 1px -1px rgba(98, 0, 238, 0.2),0px 1px 1px 0px rgba(98, 0, 238, 0.14),0px 1px 3px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z2::before{box-shadow:0px 3px 1px -2px rgba(98, 0, 238, 0.2),0px 2px 2px 0px rgba(98, 0, 238, 0.14),0px 1px 5px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z3::before{box-shadow:0px 3px 3px -2px rgba(98, 0, 238, 0.2),0px 3px 4px 0px rgba(98, 0, 238, 0.14),0px 1px 8px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z4::before{box-shadow:0px 2px 4px -1px rgba(98, 0, 238, 0.2),0px 4px 5px 0px rgba(98, 0, 238, 0.14),0px 1px 10px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z5::before{box-shadow:0px 3px 5px -1px rgba(98, 0, 238, 0.2),0px 5px 8px 0px rgba(98, 0, 238, 0.14),0px 1px 14px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z6::before{box-shadow:0px 3px 5px -1px rgba(98, 0, 238, 0.2),0px 6px 10px 0px rgba(98, 0, 238, 0.14),0px 1px 18px 0px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z7::before{box-shadow:0px 4px 5px -2px rgba(98, 0, 238, 0.2),0px 7px 10px 1px rgba(98, 0, 238, 0.14),0px 2px 16px 1px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z8::before{box-shadow:0px 5px 5px -3px rgba(98, 0, 238, 0.2),0px 8px 10px 1px rgba(98, 0, 238, 0.14),0px 3px 14px 2px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z9::before{box-shadow:0px 5px 6px -3px rgba(98, 0, 238, 0.2),0px 9px 12px 1px rgba(98, 0, 238, 0.14),0px 3px 16px 2px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z10::before{box-shadow:0px 6px 6px -3px rgba(98, 0, 238, 0.2),0px 10px 14px 1px rgba(98, 0, 238, 0.14),0px 4px 18px 3px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z11::before{box-shadow:0px 6px 7px -4px rgba(98, 0, 238, 0.2),0px 11px 15px 1px rgba(98, 0, 238, 0.14),0px 4px 20px 3px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z12::before{box-shadow:0px 7px 8px -4px rgba(98, 0, 238, 0.2),0px 12px 17px 2px rgba(98, 0, 238, 0.14),0px 5px 22px 4px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z13::before{box-shadow:0px 7px 8px -4px rgba(98, 0, 238, 0.2),0px 13px 19px 2px rgba(98, 0, 238, 0.14),0px 5px 24px 4px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z14::before{box-shadow:0px 7px 9px -4px rgba(98, 0, 238, 0.2),0px 14px 21px 2px rgba(98, 0, 238, 0.14),0px 5px 26px 4px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z15::before{box-shadow:0px 8px 9px -5px rgba(98, 0, 238, 0.2),0px 15px 22px 2px rgba(98, 0, 238, 0.14),0px 6px 28px 5px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z16::before{box-shadow:0px 8px 10px -5px rgba(98, 0, 238, 0.2),0px 16px 24px 2px rgba(98, 0, 238, 0.14),0px 6px 30px 5px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z17::before{box-shadow:0px 8px 11px -5px rgba(98, 0, 238, 0.2),0px 17px 26px 2px rgba(98, 0, 238, 0.14),0px 6px 32px 5px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z18::before{box-shadow:0px 9px 11px -5px rgba(98, 0, 238, 0.2),0px 18px 28px 2px rgba(98, 0, 238, 0.14),0px 7px 34px 6px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z19::before{box-shadow:0px 9px 12px -6px rgba(98, 0, 238, 0.2),0px 19px 29px 2px rgba(98, 0, 238, 0.14),0px 7px 36px 6px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z20::before{box-shadow:0px 10px 13px -6px rgba(98, 0, 238, 0.2),0px 20px 31px 3px rgba(98, 0, 238, 0.14),0px 8px 38px 7px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z21::before{box-shadow:0px 10px 13px -6px rgba(98, 0, 238, 0.2),0px 21px 33px 3px rgba(98, 0, 238, 0.14),0px 8px 40px 7px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z22::before{box-shadow:0px 10px 14px -6px rgba(98, 0, 238, 0.2),0px 22px 35px 3px rgba(98, 0, 238, 0.14),0px 8px 42px 7px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z23::before{box-shadow:0px 11px 14px -7px rgba(98, 0, 238, 0.2),0px 23px 36px 3px rgba(98, 0, 238, 0.14),0px 9px 44px 8px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-primary.smui-accordion__panel--elevation-z24::before{box-shadow:0px 11px 15px -7px rgba(98, 0, 238, 0.2),0px 24px 38px 3px rgba(98, 0, 238, 0.14),0px 9px 46px 8px rgba(98,0,238,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z0::before{box-shadow:0px 0px 0px 0px rgba(1, 135, 134, 0.2),0px 0px 0px 0px rgba(1, 135, 134, 0.14),0px 0px 0px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z1::before{box-shadow:0px 2px 1px -1px rgba(1, 135, 134, 0.2),0px 1px 1px 0px rgba(1, 135, 134, 0.14),0px 1px 3px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z2::before{box-shadow:0px 3px 1px -2px rgba(1, 135, 134, 0.2),0px 2px 2px 0px rgba(1, 135, 134, 0.14),0px 1px 5px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z3::before{box-shadow:0px 3px 3px -2px rgba(1, 135, 134, 0.2),0px 3px 4px 0px rgba(1, 135, 134, 0.14),0px 1px 8px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z4::before{box-shadow:0px 2px 4px -1px rgba(1, 135, 134, 0.2),0px 4px 5px 0px rgba(1, 135, 134, 0.14),0px 1px 10px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z5::before{box-shadow:0px 3px 5px -1px rgba(1, 135, 134, 0.2),0px 5px 8px 0px rgba(1, 135, 134, 0.14),0px 1px 14px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z6::before{box-shadow:0px 3px 5px -1px rgba(1, 135, 134, 0.2),0px 6px 10px 0px rgba(1, 135, 134, 0.14),0px 1px 18px 0px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z7::before{box-shadow:0px 4px 5px -2px rgba(1, 135, 134, 0.2),0px 7px 10px 1px rgba(1, 135, 134, 0.14),0px 2px 16px 1px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z8::before{box-shadow:0px 5px 5px -3px rgba(1, 135, 134, 0.2),0px 8px 10px 1px rgba(1, 135, 134, 0.14),0px 3px 14px 2px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z9::before{box-shadow:0px 5px 6px -3px rgba(1, 135, 134, 0.2),0px 9px 12px 1px rgba(1, 135, 134, 0.14),0px 3px 16px 2px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z10::before{box-shadow:0px 6px 6px -3px rgba(1, 135, 134, 0.2),0px 10px 14px 1px rgba(1, 135, 134, 0.14),0px 4px 18px 3px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z11::before{box-shadow:0px 6px 7px -4px rgba(1, 135, 134, 0.2),0px 11px 15px 1px rgba(1, 135, 134, 0.14),0px 4px 20px 3px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z12::before{box-shadow:0px 7px 8px -4px rgba(1, 135, 134, 0.2),0px 12px 17px 2px rgba(1, 135, 134, 0.14),0px 5px 22px 4px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z13::before{box-shadow:0px 7px 8px -4px rgba(1, 135, 134, 0.2),0px 13px 19px 2px rgba(1, 135, 134, 0.14),0px 5px 24px 4px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z14::before{box-shadow:0px 7px 9px -4px rgba(1, 135, 134, 0.2),0px 14px 21px 2px rgba(1, 135, 134, 0.14),0px 5px 26px 4px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z15::before{box-shadow:0px 8px 9px -5px rgba(1, 135, 134, 0.2),0px 15px 22px 2px rgba(1, 135, 134, 0.14),0px 6px 28px 5px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z16::before{box-shadow:0px 8px 10px -5px rgba(1, 135, 134, 0.2),0px 16px 24px 2px rgba(1, 135, 134, 0.14),0px 6px 30px 5px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z17::before{box-shadow:0px 8px 11px -5px rgba(1, 135, 134, 0.2),0px 17px 26px 2px rgba(1, 135, 134, 0.14),0px 6px 32px 5px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z18::before{box-shadow:0px 9px 11px -5px rgba(1, 135, 134, 0.2),0px 18px 28px 2px rgba(1, 135, 134, 0.14),0px 7px 34px 6px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z19::before{box-shadow:0px 9px 12px -6px rgba(1, 135, 134, 0.2),0px 19px 29px 2px rgba(1, 135, 134, 0.14),0px 7px 36px 6px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z20::before{box-shadow:0px 10px 13px -6px rgba(1, 135, 134, 0.2),0px 20px 31px 3px rgba(1, 135, 134, 0.14),0px 8px 38px 7px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z21::before{box-shadow:0px 10px 13px -6px rgba(1, 135, 134, 0.2),0px 21px 33px 3px rgba(1, 135, 134, 0.14),0px 8px 40px 7px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z22::before{box-shadow:0px 10px 14px -6px rgba(1, 135, 134, 0.2),0px 22px 35px 3px rgba(1, 135, 134, 0.14),0px 8px 42px 7px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z23::before{box-shadow:0px 11px 14px -7px rgba(1, 135, 134, 0.2),0px 23px 36px 3px rgba(1, 135, 134, 0.14),0px 9px 44px 8px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-paper--color-secondary.smui-accordion__panel--elevation-z24::before{box-shadow:0px 11px 15px -7px rgba(1, 135, 134, 0.2),0px 24px 38px 3px rgba(1, 135, 134, 0.14),0px 9px 46px 8px rgba(1,135,134,.12)}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised:first-child,.smui-accordion .smui-accordion__panel.smui-paper--unelevated:first-child{border-top-width:0}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised:last-child,.smui-accordion .smui-accordion__panel.smui-paper--unelevated:last-child{border-top-left-radius:0;border-top-right-radius:0}.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--open,.smui-accordion .smui-accordion__panel.smui-accordion__panel--raised.smui-accordion__panel--open+.smui-accordion__panel,.smui-accordion .smui-accordion__panel.smui-paper--unelevated.smui-accordion__panel--open,.smui-accordion .smui-accordion__panel.smui-paper--unelevated.smui-accordion__panel--open+.smui-accordion__panel{border-top-width:0}.smui-accordion .smui-accordion__panel.smui-paper--outlined:nth-child(1n+2){border-top-width:0}.smui-accordion .smui-accordion__panel.smui-paper--outlined.smui-accordion__panel--open,.smui-accordion .smui-accordion__panel.smui-paper--outlined.smui-accordion__panel--open+.smui-accordion__panel{border-top-width:1px}.smui-accordion .smui-accordion__panel.smui-paper--rounded::before{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.smui-accordion .smui-accordion__panel:first-child:not(:last-child),.smui-accordion .smui-accordion__panel:first-child:not(:last-child)::before{border-bottom-left-radius:0;border-bottom-right-radius:0}.smui-accordion .smui-accordion__panel:last-child:not(:first-child),.smui-accordion .smui-accordion__panel:last-child:not(:first-child)::before{border-top-left-radius:0;border-top-right-radius:0}.smui-accordion .smui-accordion__panel:not(:first-child,:last-child),.smui-accordion .smui-accordion__panel:not(:first-child,:last-child)::before{border-radius:0}.smui-accordion .smui-accordion__panel>.smui-accordion__header{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);display:flex;flex-wrap:wrap;cursor:pointer}.smui-accordion .smui-accordion__panel>.smui-accordion__header .smui-accordion__header__title{padding:16px 24px;flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.smui-accordion .smui-accordion__panel>.smui-accordion__header .smui-accordion__header__title.smui-accordion__header__title--with-description{flex-basis:30%;max-width:280px;box-sizing:border-box;padding-inline-end:0}.smui-accordion .smui-accordion__panel>.smui-accordion__header .smui-accordion__header__description{opacity:.48;padding:16px 24px;flex-basis:0;flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.smui-accordion .smui-accordion__panel>.smui-accordion__header .smui-accordion__header__icon{align-self:center;flex-shrink:1;margin:16px 24px;margin-top:0;margin-bottom:0;margin-inline-start:0}.smui-accordion .smui-accordion__panel>.smui-accordion__header .smui-accordion__header__ripple{position:absolute;box-sizing:content-box;width:100%;height:100%;overflow:hidden;z-index:0;pointer-events:none}.smui-accordion .smui-accordion__panel.smui-accordion__panel--disabled>.smui-accordion__header,.smui-accordion .smui-accordion__panel.smui-accordion__panel--non-interactive>.smui-accordion__header{cursor:initial}.smui-accordion .smui-accordion__panel.smui-accordion__panel--disabled>.smui-accordion__header,.smui-accordion .smui-accordion__panel.smui-accordion__panel--disabled>.smui-paper__content{opacity:.38}.smui-accordion .smui-accordion__panel>.smui-paper__content{overflow:hidden;transition:height .3s 0ms cubic-bezier(0.4, 0, 0.2, 1),padding .3s 0ms cubic-bezier(0.4, 0, 0.2, 1);box-sizing:border-box;height:0;padding:16px 24px;padding-top:0;padding-bottom:0}.smui-accordion .smui-accordion__panel>.smui-paper__content.smui-accordion__content--no-transition{transition:none}.smui-accordion .smui-accordion__panel>.smui-paper__content.smui-accordion__content--force-open{height:auto;padding:16px 24px}.smui-accordion .smui-accordion__panel.smui-accordion__panel--opened>.smui-paper__content{overflow:visible}.smui-accordion .smui-accordion__panel.smui-accordion__panel--open{margin-top:1rem;margin-bottom:1rem}.smui-accordion .smui-accordion__panel.smui-accordion__panel--open:first-child{margin-top:0}.smui-accordion .smui-accordion__panel.smui-accordion__panel--open:last-child{margin-bottom:0}.smui-accordion .smui-accordion__panel.smui-accordion__panel--open>.smui-paper__content{height:auto;padding:16px 24px}.smui-autocomplete{display:inline-block}.smui-autocomplete__menu{min-width:100%}.smui-badge{min-height:24px;min-width:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);position:absolute;font-size:13.3333333333px;display:flex;justify-content:center;align-content:center;z-index:2;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-left:4px;padding-right:4px}.smui-badge.smui-badge--rounded{border-radius:24px}.smui-badge.smui-badge--align-top-start.smui-badge--position-inset,.smui-badge.smui-badge--align-top-start.smui-badge--position-middle,.smui-badge.smui-badge--align-top-middle.smui-badge--position-inset,.smui-badge.smui-badge--align-top-middle.smui-badge--position-middle,.smui-badge.smui-badge--align-top-end.smui-badge--position-inset,.smui-badge.smui-badge--align-top-end.smui-badge--position-middle{top:0}.smui-badge.smui-badge--align-top-start.smui-badge--position-outset,.smui-badge.smui-badge--align-top-middle.smui-badge--position-outset,.smui-badge.smui-badge--align-top-end.smui-badge--position-outset{bottom:100%}.smui-badge.smui-badge--align-bottom-start.smui-badge--position-inset,.smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-middle.smui-badge--position-inset,.smui-badge.smui-badge--align-bottom-middle.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-inset,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle{bottom:0}.smui-badge.smui-badge--align-bottom-start.smui-badge--position-outset,.smui-badge.smui-badge--align-bottom-middle.smui-badge--position-outset,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-outset{top:100%}.smui-badge.smui-badge--align-top-end.smui-badge--position-inset,.smui-badge.smui-badge--align-middle-end.smui-badge--position-inset,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-inset{left:initial;right:0}[dir=rtl] .smui-badge.smui-badge--align-top-end.smui-badge--position-inset,[dir=rtl] .smui-badge.smui-badge--align-middle-end.smui-badge--position-inset,[dir=rtl] .smui-badge.smui-badge--align-bottom-end.smui-badge--position-inset,.smui-badge.smui-badge--align-top-end.smui-badge--position-inset[dir=rtl],.smui-badge.smui-badge--align-middle-end.smui-badge--position-inset[dir=rtl],.smui-badge.smui-badge--align-bottom-end.smui-badge--position-inset[dir=rtl]{left:0;right:initial}.smui-badge.smui-badge--align-top-end.smui-badge--position-middle,.smui-badge.smui-badge--align-middle-end.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle{left:initial;right:0}[dir=rtl] .smui-badge.smui-badge--align-top-end.smui-badge--position-middle,[dir=rtl] .smui-badge.smui-badge--align-middle-end.smui-badge--position-middle,[dir=rtl] .smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle,.smui-badge.smui-badge--align-top-end.smui-badge--position-middle[dir=rtl],.smui-badge.smui-badge--align-middle-end.smui-badge--position-middle[dir=rtl],.smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle[dir=rtl]{left:0;right:initial}.smui-badge.smui-badge--align-top-end.smui-badge--position-outset,.smui-badge.smui-badge--align-middle-end.smui-badge--position-outset,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-outset{left:100%;right:initial}[dir=rtl] .smui-badge.smui-badge--align-top-end.smui-badge--position-outset,[dir=rtl] .smui-badge.smui-badge--align-middle-end.smui-badge--position-outset,[dir=rtl] .smui-badge.smui-badge--align-bottom-end.smui-badge--position-outset,.smui-badge.smui-badge--align-top-end.smui-badge--position-outset[dir=rtl],.smui-badge.smui-badge--align-middle-end.smui-badge--position-outset[dir=rtl],.smui-badge.smui-badge--align-bottom-end.smui-badge--position-outset[dir=rtl]{left:initial;right:100%}.smui-badge.smui-badge--align-top-start.smui-badge--position-inset,.smui-badge.smui-badge--align-middle-start.smui-badge--position-inset,.smui-badge.smui-badge--align-bottom-start.smui-badge--position-inset{left:0;right:initial}[dir=rtl] .smui-badge.smui-badge--align-top-start.smui-badge--position-inset,[dir=rtl] .smui-badge.smui-badge--align-middle-start.smui-badge--position-inset,[dir=rtl] .smui-badge.smui-badge--align-bottom-start.smui-badge--position-inset,.smui-badge.smui-badge--align-top-start.smui-badge--position-inset[dir=rtl],.smui-badge.smui-badge--align-middle-start.smui-badge--position-inset[dir=rtl],.smui-badge.smui-badge--align-bottom-start.smui-badge--position-inset[dir=rtl]{left:initial;right:0}.smui-badge.smui-badge--align-top-start.smui-badge--position-middle,.smui-badge.smui-badge--align-middle-start.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle{left:0;right:initial}[dir=rtl] .smui-badge.smui-badge--align-top-start.smui-badge--position-middle,[dir=rtl] .smui-badge.smui-badge--align-middle-start.smui-badge--position-middle,[dir=rtl] .smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle,.smui-badge.smui-badge--align-top-start.smui-badge--position-middle[dir=rtl],.smui-badge.smui-badge--align-middle-start.smui-badge--position-middle[dir=rtl],.smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle[dir=rtl]{left:initial;right:0}.smui-badge.smui-badge--align-top-start.smui-badge--position-outset,.smui-badge.smui-badge--align-middle-start.smui-badge--position-outset,.smui-badge.smui-badge--align-bottom-start.smui-badge--position-outset{left:initial;right:100%}[dir=rtl] .smui-badge.smui-badge--align-top-start.smui-badge--position-outset,[dir=rtl] .smui-badge.smui-badge--align-middle-start.smui-badge--position-outset,[dir=rtl] .smui-badge.smui-badge--align-bottom-start.smui-badge--position-outset,.smui-badge.smui-badge--align-top-start.smui-badge--position-outset[dir=rtl],.smui-badge.smui-badge--align-middle-start.smui-badge--position-outset[dir=rtl],.smui-badge.smui-badge--align-bottom-start.smui-badge--position-outset[dir=rtl]{left:100%;right:initial}.smui-badge.smui-badge--align-top-start.smui-badge--position-middle{transform-origin:center;transform:translateX(-50%) translateY(-50%)}[dir=rtl] .smui-badge.smui-badge--align-top-start.smui-badge--position-middle,.smui-badge.smui-badge--align-top-start.smui-badge--position-middle[dir=rtl]{transform:translateX(50%) translateY(-50%)}.smui-badge.smui-badge--align-top-middle.smui-badge--position-middle{transform-origin:center;transform:translateY(-50%)}[dir=rtl] .smui-badge.smui-badge--align-top-middle.smui-badge--position-middle,.smui-badge.smui-badge--align-top-middle.smui-badge--position-middle[dir=rtl]{transform:translateY(-50%)}.smui-badge.smui-badge--align-top-end.smui-badge--position-middle{transform-origin:center;transform:translateX(50%) translateY(-50%)}[dir=rtl] .smui-badge.smui-badge--align-top-end.smui-badge--position-middle,.smui-badge.smui-badge--align-top-end.smui-badge--position-middle[dir=rtl]{transform:translateX(-50%) translateY(-50%)}.smui-badge.smui-badge--align-middle-start.smui-badge--position-middle{transform-origin:center;transform:translateX(-50%)}[dir=rtl] .smui-badge.smui-badge--align-middle-start.smui-badge--position-middle,.smui-badge.smui-badge--align-middle-start.smui-badge--position-middle[dir=rtl]{transform:translateX(50%)}.smui-badge.smui-badge--align-middle-end.smui-badge--position-middle{transform-origin:center;transform:translateX(50%)}[dir=rtl] .smui-badge.smui-badge--align-middle-end.smui-badge--position-middle,.smui-badge.smui-badge--align-middle-end.smui-badge--position-middle[dir=rtl]{transform:translateX(-50%)}.smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle{transform-origin:center;transform:translateX(-50%) translateY(50%)}[dir=rtl] .smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-start.smui-badge--position-middle[dir=rtl]{transform:translateX(50%) translateY(50%)}.smui-badge.smui-badge--align-bottom-middle.smui-badge--position-middle{transform-origin:center;transform:translateY(50%)}[dir=rtl] .smui-badge.smui-badge--align-bottom-middle.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-middle.smui-badge--position-middle[dir=rtl]{transform:translateY(50%)}.smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle{transform-origin:center;transform:translateX(50%) translateY(50%)}[dir=rtl] .smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle,.smui-badge.smui-badge--align-bottom-end.smui-badge--position-middle[dir=rtl]{transform:translateX(-50%) translateY(50%)}.smui-badge.smui-badge--color-primary{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:#fff;color:var(--mdc-theme-on-primary, #fff)}.smui-badge.smui-badge--color-secondary{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.smui-bottom-app-bar{display:flex;flex-direction:row;width:100%;--smui-bottom-app-bar--fab-offset: 0px}.smui-bottom-app-bar.smui-bottom-app-bar--fixed,.smui-bottom-app-bar.smui-bottom-app-bar--standard{position:fixed;bottom:0;left:0;right:0}.smui-bottom-app-bar>.smui-bottom-app-bar__section{display:flex;flex-direction:row;justify-content:center;position:relative;padding:16px 16px;height:56px;box-sizing:border-box;flex-grow:1;flex-basis:0;overflow:visible}.smui-bottom-app-bar>.smui-bottom-app-bar__section .mdc-icon-button{margin-top:-12px}.smui-bottom-app-bar>.smui-bottom-app-bar__section .mdc-fab{position:relative;top:calc(var(--smui-bottom-app-bar--fab-offset, 0px) - 44px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section:first-child{justify-content:start}.smui-bottom-app-bar>.smui-bottom-app-bar__section:first-child .mdc-icon-button:first-child{margin-inline-start:-12px}.smui-bottom-app-bar>.smui-bottom-app-bar__section:last-child{justify-content:end}.smui-bottom-app-bar>.smui-bottom-app-bar__section:last-child .mdc-icon-button:last-child{margin-inline-end:-12px}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset{background:radial-gradient(72px 72px at 50% var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #6200ee 36.36px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset:first-child{background:radial-gradient(72px 72px at 52px var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #6200ee 36.36px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset:first-child .mdc-fab{margin-inline-start:8px}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset:last-child{background:radial-gradient(72px 72px at calc(100% - 52px) var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #6200ee 36.36px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset:last-child .mdc-fab{margin-inline-end:8px}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset.smui-paper--color-secondary{background:radial-gradient(72px 72px at 50% var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #018786 36.36px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset.smui-paper--color-secondary:first-child{background:radial-gradient(72px 72px at 52px var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #018786 36.36px)}.smui-bottom-app-bar>.smui-bottom-app-bar__section.smui-paper.smui-bottom-app-bar__section--fab-inset.smui-paper--color-secondary:last-child{background:radial-gradient(72px 72px at calc(100% - 52px) var(--smui-bottom-app-bar--fab-offset, 0px), rgba(0, 0, 0, 0) 35.64px, #018786 36.36px)}.smui-bottom-app-bar--fixed-adjust{padding-bottom:56px}.smui-bottom-app-bar--fixed-adjust .mdc-snackbar,.smui-bottom-app-bar--standard-adjust .mdc-snackbar{transform:translateY(calc(-56px - var(--smui-bottom-app-bar--fab-offset, 0)))}.smui-bottom-app-bar--fixed-adjust.smui-bottom-app-bar--with-fab .mdc-snackbar,.smui-bottom-app-bar--standard-adjust.smui-bottom-app-bar--with-fab .mdc-snackbar{transform:translateY(calc(-84px - var(--smui-bottom-app-bar--fab-offset, 0)))}@supports(-webkit-appearance: none) and (not (overflow: -webkit-marquee)) and (not (-moz-appearance: none)){.smui-bottom-app-bar.smui-bottom-app-bar--standard>.smui-bottom-app-bar__section::after,.smui-bottom-app-bar.smui-bottom-app-bar--fixed>.smui-bottom-app-bar__section::after{display:block;content:" ";position:absolute;bottom:0;right:0;height:10px;width:10px;pointer-events:none;background-color:#000;opacity:0;animation:60s linear 0s infinite chrome-fix}@keyframes chrome-fix{0%{bottom:0}50%{bottom:46px}100%{bottom:0px}}}
'''
'''--- app/svelte.config.js ---
import adapter from "@sveltejs/adapter-static";
import { vitePreprocess } from "@sveltejs/vite-plugin-svelte";

/** @type {import('@sveltejs/kit').Config} */
const config = {
  // Consult https://kit.svelte.dev/docs/integrations#preprocessors
  // for more information about preprocessors
  preprocess: [vitePreprocess()],

  kit: {
    adapter: adapter(),
    alias: {
      $abi: "../abi",
      "$abi/*": "../abi/*",
    },
  },
};

export default config;

'''
'''--- app/tsconfig.json ---
{
  "extends": "./.svelte-kit/tsconfig.json",
  "compilerOptions": {
    "allowJs": true,
    "checkJs": true,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "skipLibCheck": true,
    "sourceMap": true,
    "strict": true,
    "moduleResolution": "node"
  }
  // Path aliases are handled by https://kit.svelte.dev/docs/configuration#alias
  //
  // If you want to overwrite includes/excludes, make sure to copy over the relevant includes/excludes
  // from the referenced tsconfig.json - TypeScript does not merge them in
}

'''
'''--- app/vite.config.ts ---
import { sveltekit } from "@sveltejs/kit/vite";
import path from "node:path";
import { defineConfig } from "vite";
import { nodePolyfills } from "vite-plugin-node-polyfills";

export default defineConfig({
  plugins: [sveltekit(), nodePolyfills()],
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: '@use "src/variables.scss" as *;',
      },
    },
  },
  resolve: {
    alias: {
      "@": path.resolve("src"),
    },
  },
});

'''
'''--- assets/hk-id.txt ---
{"id":"OqbQKrKHNPuIqJ-hsuzRpu-JNI4S04Zbb9qJW2j7RQQ","timestamp":1680809252840}
'''
'''--- assets/hk-manifest.json ---
{
  "manifest": "arweave/paths",
  "version": "0.1.0",
  "paths": {
    "chess-hk-bk.png": { "id": "sv7JfrPnBXd2l2HtIoLBoEUODvC7PAK7vrKnyaWoUcg" },
    "chess-hk-wp.png": { "id": "-7_s-7LnDn4qM5Q0jpjcteRQu2yAGWXmMwS3kI0lSTw" },
    "chess-hk-wr.png": { "id": "7uEwuoFxvVkfFvHMThafcjDUGBnpPJ6SO2pLUDiIYGE" },
    "chess-hk-wb.png": { "id": "Ckv60R4iA6GNXxBkM-KLUdWkcAFCFGThnQxOP7ZNFNE" },
    "chess-hk-wq.png": { "id": "_tDEJmWurd4GwmiyZCBFpQC2sOFtIpk9KNLBV9Q0l7s" },
    "chess-hk-bp.png": { "id": "LzI45apIve-AjB6A3ZD_d7EoUrCMcUTztsOaF_juopk" },
    "chess-hk-wn.png": { "id": "cGlNyjGgFZErPN7HtV75BcoyXoyBM4Meh1gX1SAwkAQ" },
    "chess-hk-bn.png": { "id": "d1Lcj3HD4IOhfgbghI7LQwsEh28-VchTQRaPWfcCp7w" },
    "chess-hk-br.png": { "id": "9P9Ytq3dYyAKEsqtAjooRdZBSL30zbwVleIZcBAyQAc" },
    "chess-hk-wk.png": { "id": "0iKUMCo2xIU8ZYLbFNeCgJmfKXtgOK2GnfflN8x8cQw" },
    "chess-hk-bq.png": { "id": "bVeVEsYXbUpPuKMAFR8RUZKeS7zQPDS61zT1D7oN3ys" },
    "chess-hk-bb.png": { "id": "1G6xINtjiTK5LE5ZxBJW0_ARF-iHaYtDvEtZng1MlHo" },
    "chess-hk.png": { "id": "IxdL73-Wn-vZKOkSDgIBekAckEXdkT3TzD7iG8HphL4" }
  }
}

'''
'''--- build.sh ---
#!/bin/bash
set -e
cd "`dirname $0`"

cargo build --release -p chess --target wasm32-unknown-unknown
cargo build --release -p test-token --target wasm32-unknown-unknown
cargo build --release -p nada-bot-stub --target wasm32-unknown-unknown
cp target/wasm32-unknown-unknown/release/*.wasm ./res/

cargo near abi --manifest-path ./crates/chess/Cargo.toml
cp target/near/chess/chess_abi.json ./res/

cargo build --release -p chess --target wasm32-unknown-unknown --features=integration-test
cp target/wasm32-unknown-unknown/release/chess.wasm ./res/chess_testing.wasm

wasm-opt -O4 res/chess.wasm -o res/chess.wasm --strip-debug --vacuum
wasm-opt -O4 res/chess_testing.wasm -o res/chess_testing.wasm --strip-debug --vacuum
wasm-opt -O4 res/test_token.wasm -o res/test_token.wasm --strip-debug --vacuum
wasm-opt -O4 res/nada_bot_stub.wasm -o res/nada_bot_stub.wasm --strip-debug --vacuum

'''
'''--- crates/chess-common/Cargo.toml ---
[package]
name = "chess-common"
version = "1.0.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[dependencies]
chess-engine = { path = "../chess-engine" }
chess-lib = { path = "../chess-lib" }
near-sdk.workspace = true
owo-colors.workspace = true
serde.workspace = true

'''
'''--- crates/chess-common/src/lib.rs ---
use chess_engine::Color;
use chess_lib::{ChallengeId, GameId, GameOutcome, MoveStr, Player, Wager};
use near_sdk::AccountId;
use owo_colors::OwoColorize;
use serde::{Deserialize, Serialize};
use std::fmt::{self, Display, Formatter};

#[derive(Clone, Serialize, Deserialize, Debug)]
#[serde(tag = "standard")]
#[serde(rename_all = "kebab-case")]
pub enum ContractEvent {
    Nep141(Nep141Event),
    ChessGame(ChessEvent),
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct Nep141Event {
    pub version: String,
    #[serde(flatten)]
    pub event_kind: Nep141EventKind,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
#[serde(tag = "event", content = "data")]
#[serde(rename_all = "snake_case")]
pub enum Nep141EventKind {
    FtTransfer(Vec<FtTransfer>),
    FtMint(Vec<FtMint>),
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct FtTransfer {
    pub old_owner_id: String,
    pub new_owner_id: String,
    pub amount: String,
    pub memo: Option<String>,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct FtMint {
    pub owner_id: String,
    pub amount: String,
    pub memo: Option<String>,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct ChessEvent {
    #[serde(skip_serializing)]
    pub version: String,
    #[serde(flatten)]
    pub event_kind: ChessEventKind,
}

pub const KNOWN_EVENT_KINDS: [&str; 7] = [
    "challenge",
    "accept_challenge",
    "reject_challenge",
    "create_game",
    "play_move",
    "resign_game",
    "cancel_game",
];

#[derive(Clone, Serialize, Deserialize, Debug)]
#[serde(tag = "event", content = "data")]
#[serde(rename_all = "snake_case")]
pub enum ChessEventKind {
    Challenge(Challenge),
    AcceptChallenge(AcceptChallenge),
    RejectChallenge(RejectChallenge),
    CreateGame(CreateGame),
    PlayMove(PlayMove),
    ResignGame(ResignGame),
    CancelGame(CancelGame),
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct Challenge {
    pub id: String,
    pub challenger: AccountId,
    pub challenged: AccountId,
    pub wager: Wager,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct AcceptChallenge {
    pub challenge_id: ChallengeId,
    pub game_id: GameId,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct RejectChallenge {
    pub challenge_id: ChallengeId,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct CreateGame {
    pub game_id: GameId,
    pub white: Player,
    pub black: Player,
    pub board: [String; 8],
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct PlayMove {
    pub game_id: GameId,
    pub color: Color,
    pub mv: MoveStr,
    pub board: [String; 8],
    pub outcome: Option<GameOutcome>,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct ResignGame {
    pub game_id: GameId,
    pub resigner: Color,
    pub outcome: GameOutcome,
}

#[derive(Clone, Serialize, Deserialize, Debug)]
pub struct CancelGame {
    pub game_id: GameId,
    pub cancelled_by: String,
}

impl Display for ContractEvent {
    fn fmt(&self, formatter: &mut Formatter<'_>) -> fmt::Result {
        match self {
            ContractEvent::Nep141(event) => formatter.write_fmt(format_args!("{}", event)),
            ContractEvent::ChessGame(event) => formatter.write_fmt(format_args!("{}", event)),
        }
    }
}

impl Display for Nep141Event {
    fn fmt(&self, formatter: &mut Formatter<'_>) -> fmt::Result {
        match &self.event_kind {
            Nep141EventKind::FtTransfer(_) => {
                formatter.write_fmt(format_args!("{}: ft_transfer", "event".bright_cyan()))?;
            }
            Nep141EventKind::FtMint(_) => {
                formatter.write_fmt(format_args!("{}: ft_mint", "event".bright_cyan()))?;
            }
        }
        formatter.write_fmt(format_args!("\n{}: nep141", "standard".bright_cyan(),))?;
        formatter.write_fmt(format_args!(
            "\n{}: {}",
            "version".bright_cyan(),
            self.version
        ))?;
        match &self.event_kind {
            Nep141EventKind::FtTransfer(datas) => {
                for data in datas {
                    formatter.write_fmt(format_args!("\n{}: {}", "data".bright_cyan(), data))?;
                }
            }
            Nep141EventKind::FtMint(datas) => {
                for data in datas {
                    formatter.write_fmt(format_args!("\n{}: {}", "data".bright_cyan(), data))?;
                }
            }
        }
        Ok(())
    }
}

impl Display for FtTransfer {
    fn fmt(&self, formatter: &mut Formatter<'_>) -> fmt::Result {
        if let Some(memo) = &self.memo {
            formatter.write_fmt(format_args!(
                "{} --> {} ({}) --> {}",
                self.old_owner_id.bright_blue(),
                self.amount.bright_blue(),
                memo,
                self.new_owner_id.bright_blue(),
            ))?;
        } else {
            formatter.write_fmt(format_args!(
                "{} --> {} --> {}",
                self.old_owner_id.bright_blue(),
                self.amount.bright_blue(),
                self.new_owner_id.bright_blue(),
            ))?;
        }
        Ok(())
    }
}

impl Display for FtMint {
    fn fmt(&self, formatter: &mut Formatter<'_>) -> fmt::Result {
        if let Some(memo) = &self.memo {
            formatter.write_fmt(format_args!(
                "{} ({}) --> {}",
                self.amount.bright_blue(),
                memo,
                self.owner_id.bright_blue(),
            ))?;
        } else {
            formatter.write_fmt(format_args!(
                "{} --> {}",
                self.amount.bright_blue(),
                self.owner_id.bright_blue(),
            ))?;
        }
        Ok(())
    }
}

impl Display for ChessEvent {
    fn fmt(&self, formatter: &mut Formatter<'_>) -> fmt::Result {
        match &self.event_kind {
            ChessEventKind::Challenge(_) => {
                formatter.write_fmt(format_args!("{}: challenge", "event".bright_cyan()))?;
            }
            ChessEventKind::AcceptChallenge(_) => {
                formatter.write_fmt(format_args!("{}: accept_challenge", "event".bright_cyan()))?;
            }
            ChessEventKind::RejectChallenge(_) => {
                formatter.write_fmt(format_args!("{}: reject_challenge", "event".bright_cyan()))?;
            }
            ChessEventKind::CreateGame(_) => {
                formatter.write_fmt(format_args!("{}: create_game", "event".bright_cyan()))?;
            }
            ChessEventKind::PlayMove(_) => {
                formatter.write_fmt(format_args!("{}: play_move", "event".bright_cyan()))?;
            }
            ChessEventKind::ResignGame(_) => {
                formatter.write_fmt(format_args!("{}: resign_game", "event".bright_cyan()))?;
            }
            ChessEventKind::CancelGame(_) => {
                formatter.write_fmt(format_args!("{}: cancel_game", "event".bright_cyan()))?;
            }
        }
        formatter.write_fmt(format_args!("\n{}: chess-game", "standard".bright_cyan(),))?;
        formatter.write_fmt(format_args!(
            "\n{}: {}",
            "version".bright_cyan(),
            self.version
        ))?;
        match &self.event_kind {
            ChessEventKind::Challenge(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::AcceptChallenge(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::RejectChallenge(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::CreateGame(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::PlayMove(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::ResignGame(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
            ChessEventKind::CancelGame(data) => {
                formatter.write_fmt(format_args!("\n{}: {:?}", "data".bright_cyan(), data))?;
            }
        }
        Ok(())
    }
}

'''
'''--- crates/chess-engine/Cargo.toml ---
[package]
name = "chess-engine"
version = "0.1.2"
authors = [
    "Adam McDaniel <adam.mcdaniel17@gmail.com>",
    "Mario Reder <mario.reder@pm.me>",
]
description = "A dependency-free chess engine library built to run anywhere."
license = "MIT"

[dependencies]
either.workspace = true
near-sdk.workspace = true
rand.workspace = true
rand_chacha.workspace = true

'''
'''--- crates/chess-engine/src/bin.rs ---
extern crate chess_engine;
use chess_engine::*;
use std::{
    convert::TryFrom,
    io::{stdin, stdout, Write},
};

fn input(prompt: impl std::fmt::Display) -> String {
    let mut s = String::new();
    print!("{}", prompt);
    let _ = stdout().flush();
    stdin()
        .read_line(&mut s)
        .expect("Did not enter a correct string");
    s
}

fn get_cpu_move(b: &Board, best: bool) -> Move {
    let (m, count, _) = if best {
        b.get_best_next_move(4)
    } else {
        b.get_worst_next_move(4)
    };

    print!("CPU evaluated {} moves before choosing to ", count);
    match m {
        Move::Piece(from, to) | Move::Promotion(from, to, _) => {
            match (b.get_piece(from), b.get_piece(to)) {
                (Some(piece), Some(takes)) => println!(
                    "take {}({}) with {}({})",
                    takes.get_name(),
                    to,
                    piece.get_name(),
                    from
                ),
                (Some(piece), None) => {
                    println!("move {}({}) to {}", piece.get_name(), from, to)
                }
                _ => println!("move {} to {}", from, to),
            }
        }
        Move::KingSideCastle => {
            println!("castle kingside")
        }
        Move::QueenSideCastle => {
            println!("castle queenside")
        }
        Move::Resign => println!("resign"),
    }

    m
}

fn main() -> Result<(), String> {
    let mut b = Board::default();

    println!("{}", b);
    let mut history = vec![];

    loop {
        let mut s = input(">>> ");
        s = s.trim().to_string();

        let m = if s.is_empty() {
            println!("Waiting for CPU to choose best move...");
            get_cpu_move(&b, true)
        } else if s == "worst" {
            println!("Waiting for CPU to choose worst move...");
            get_cpu_move(&b, false)
        } else if s == "rate" {
            continue;
        } else if s == "pass" {
            b = b.change_turn();
            continue;
        } else if s == "history" {
            for i in 0..history.len() {
                if i < history.len() - 1 {
                    println!("{} {}", history[i], history[i + 1]);
                } else {
                    println!("{}", history[i]);
                }
            }
            continue;
        } else {
            match Move::try_from(s) {
                Ok(m) => m,
                Err(e) => {
                    eprintln!("{}", e);
                    continue;
                }
            }
        };

        match b.play_move(m) {
            GameResult::Continuing(next_board) => {
                b = next_board;
                println!("{}", b);
                history.push(m);
            }

            GameResult::Victory(winner) => {
                println!("{}", b);
                println!("{} loses. {} is victorious.", !winner, winner);
                break;
            }

            GameResult::IllegalMove(x) => {
                eprintln!("{} is an illegal move.", x);
            }

            GameResult::Stalemate => {
                println!("Drawn game.");
                break;
            }
        }
    }

    for m in history {
        println!("{}", m);
    }
    Ok(())
}

'''
'''--- crates/chess-engine/src/board.rs ---
use super::*;
use either::Either;
use near_sdk::borsh::{BorshDeserialize, BorshSerialize};
use rand::{seq::IteratorRandom, SeedableRng};
use rand_chacha::ChaCha20Rng;
use std::cmp::Ordering;

pub struct BoardBuilder {
    board: Board,
}

impl From<Board> for BoardBuilder {
    fn from(board: Board) -> Self {
        Self { board }
    }
}

impl Default for BoardBuilder {
    fn default() -> Self {
        let mut board = Board::empty();
        board.white_castling_rights.disable_all();
        board.black_castling_rights.disable_all();
        Self { board }
    }
}

impl BoardBuilder {
    pub fn row(mut self, piece: Piece) -> Self {
        let mut pos = piece.get_pos();
        while pos.get_col() > 0 {
            pos = pos.next_left()
        }

        for _ in 0..8 {
            *self.board.get_square(pos) = Square::from(piece.move_to(pos));
            pos = pos.next_right();
        }

        self
    }

    pub fn column(mut self, piece: Piece) -> Self {
        let mut pos = piece.get_pos();
        while pos.get_row() > 0 {
            pos = pos.next_below()
        }

        for _ in 0..8 {
            *self.board.get_square(pos) = Square::from(piece.move_to(pos));
            pos = pos.next_above();
        }

        self
    }

    pub fn piece(mut self, piece: Piece) -> Self {
        let pos = piece.get_pos();
        *self.board.get_square(pos) = Square::from(piece);
        self
    }

    pub fn enable_castling(mut self) -> Self {
        self.board.black_castling_rights.enable_all();
        self.board.white_castling_rights.enable_all();
        self
    }

    pub fn disable_castling(mut self) -> Self {
        self.board.black_castling_rights.disable_all();
        self.board.white_castling_rights.disable_all();
        self
    }

    pub fn enable_queenside_castle(mut self, color: Color) -> Self {
        match color {
            WHITE => self.board.white_castling_rights.enable_queenside(),
            BLACK => self.board.black_castling_rights.enable_queenside(),
        }
        self
    }

    pub fn disable_queenside_castle(mut self, color: Color) -> Self {
        match color {
            WHITE => self.board.white_castling_rights.disable_queenside(),
            BLACK => self.board.black_castling_rights.disable_queenside(),
        }
        self
    }

    pub fn enable_kingside_castle(mut self, color: Color) -> Self {
        match color {
            WHITE => self.board.white_castling_rights.enable_kingside(),
            BLACK => self.board.black_castling_rights.enable_kingside(),
        }
        self
    }

    pub fn disable_kingside_castle(mut self, color: Color) -> Self {
        match color {
            WHITE => self.board.white_castling_rights.disable_kingside(),
            BLACK => self.board.black_castling_rights.disable_kingside(),
        }
        self
    }

    pub fn set_en_passant(mut self, position: Option<Position>) -> Self {
        self.board.en_passant = position;
        self
    }

    pub fn set_turn(mut self, color: Color) -> Self {
        self.board = self.board.set_turn(color);
        self
    }

    pub fn build(self) -> Board {
        self.board
    }
}

#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord, BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct CastlingRights {
    kingside: bool,
    queenside: bool,
}

impl Default for CastlingRights {
    fn default() -> Self {
        Self {
            kingside: true,
            queenside: true,
        }
    }
}

impl CastlingRights {
    pub fn can_kingside_castle(&self) -> bool {
        self.kingside
    }

    pub fn can_queenside_castle(&self) -> bool {
        self.queenside
    }

    fn disable_kingside(&mut self) {
        self.kingside = false
    }

    fn disable_queenside(&mut self) {
        self.queenside = false
    }

    fn disable_all(&mut self) {
        self.disable_kingside();
        self.disable_queenside()
    }

    fn enable_kingside(&mut self) {
        self.kingside = true
    }

    fn enable_queenside(&mut self) {
        self.queenside = true
    }

    fn enable_all(&mut self) {
        self.enable_kingside();
        self.enable_queenside()
    }
}

impl Default for Board {
    fn default() -> Self {
        BoardBuilder::default()
            .piece(Piece::Rook(BLACK, A8))
            .piece(Piece::Knight(BLACK, B8))
            .piece(Piece::Bishop(BLACK, C8))
            .piece(Piece::Queen(BLACK, D8))
            .piece(Piece::King(BLACK, E8))
            .piece(Piece::Bishop(BLACK, F8))
            .piece(Piece::Knight(BLACK, G8))
            .piece(Piece::Rook(BLACK, H8))
            .row(Piece::Pawn(BLACK, A7))
            .row(Piece::Pawn(WHITE, A2))
            .piece(Piece::Rook(WHITE, A1))
            .piece(Piece::Knight(WHITE, B1))
            .piece(Piece::Bishop(WHITE, C1))
            .piece(Piece::Queen(WHITE, D1))
            .piece(Piece::King(WHITE, E1))
            .piece(Piece::Bishop(WHITE, F1))
            .piece(Piece::Knight(WHITE, G1))
            .piece(Piece::Rook(WHITE, H1))
            .enable_castling()
            .build()
    }
}

#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord, BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Board {
    squares: [Square; 64],

    en_passant: Option<Position>,

    white_castling_rights: CastlingRights,
    black_castling_rights: CastlingRights,

    turn: Color,
}

impl Board {
    pub fn value_for(&self, ally_color: Color) -> f64 {
        self.squares
            .iter()
            .map(|square| match square.get_piece() {
                Some(piece) => {
                    if piece.get_color() == ally_color {
                        piece.get_weighted_value()
                    } else {
                        -piece.get_weighted_value()
                    }
                }
                None => 0.0,
            })
            .sum()
    }

    #[inline]
    pub fn get_current_player_color(&self) -> Color {
        self.turn
    }

    #[inline]
    pub fn apply_eval_move(&self, m: Move) -> Self {
        self.apply_move(m).change_turn()
    }

    pub fn get_legal_moves(&self) -> impl Iterator<Item = Move> + '_ {
        let color = self.get_current_player_color();
        self.squares
            .iter()
            .filter_map(move |square| {
                if let Some(piece) = square.get_piece() {
                    if piece.get_color() == color {
                        Some(piece.get_legal_moves(self))
                    } else {
                        None
                    }
                } else {
                    None
                }
            })
            .flatten()
    }

    /// Get the best move for the current player with `depth` number of moves
    /// of lookahead.
    ///
    /// This method returns
    /// 1. The best move
    /// 2. The number of boards evaluated to come to a conclusion
    /// 3. The rating of the best move
    ///
    /// It's best not to use the rating value by itself for anything, as it
    /// is relative to the other player's move ratings as well.
    pub fn get_best_next_move(&self, depth: u8) -> (Move, u64, f64) {
        let legal_moves = self.get_legal_moves();
        let mut best_move_value = -999999.0;
        let mut best_move = Move::Resign;

        let color = self.get_current_player_color();

        let mut board_count = 0;
        for m in legal_moves {
            let child_board_value = self.apply_eval_move(m).minimax(
                Either::Left(depth),
                -1000000.0,
                1000000.0,
                false,
                color,
                &mut board_count,
            );
            if child_board_value >= best_move_value {
                best_move = m;
                best_move_value = child_board_value;
            }
        }

        (best_move, board_count, best_move_value)
    }

    pub fn get_next_move(&self, depths: &[u8], seed: [u8; 32]) -> (Move, u64, f64) {
        let mut rng = ChaCha20Rng::from_seed(seed);
        let legal_moves = self
            .get_legal_moves()
            .choose_multiple(&mut rng, depths[0].into());
        let mut best_move_value = -999999.0;
        let mut best_move = Move::Resign;

        let color = self.get_current_player_color();

        let mut board_count = 0;
        for m in legal_moves {
            let child_board_value = self.apply_eval_move(m).minimax(
                Either::Right((&depths[1..], rng.clone())),
                -1000000.0,
                1000000.0,
                false,
                color,
                &mut board_count,
            );
            if child_board_value >= best_move_value {
                best_move = m;
                best_move_value = child_board_value;
            }
        }

        (best_move, board_count, best_move_value)
    }

    /// Get the best move for the current player with `depth` number of moves
    /// of lookahead.
    ///
    /// This method returns
    /// 1. The best move
    /// 2. The number of boards evaluated to come to a conclusion
    /// 3. The rating of the best move
    ///
    /// It's best not to use the rating value by itself for anything, as it
    /// is relative to the other player's move ratings as well.
    pub fn get_worst_next_move(&self, depth: u8) -> (Move, u64, f64) {
        let legal_moves = self.get_legal_moves();
        let mut best_move_value = -999999.0;
        let mut best_move = Move::Resign;

        let color = self.get_current_player_color();

        let mut board_count = 0;
        for m in legal_moves {
            let child_board_value = self.apply_eval_move(m).minimax(
                Either::Left(depth),
                -1000000.0,
                1000000.0,
                true,
                !color,
                &mut board_count,
            );

            if child_board_value >= best_move_value {
                best_move = m;
                best_move_value = child_board_value;
            }
        }

        (best_move, board_count, best_move_value)
    }

    /// Perform minimax on a certain position, and get the minimum or maximum value
    /// for a board. To get the best move, you minimize the values of the possible outcomes from your
    /// own position, and maximize the values of the replies made by the other player.
    ///
    /// In other words, choose moves with the assumption that your opponent will make the
    /// best possible replies to your moves. Moves that are seemingly good, but are easily countered,
    /// are categorically eliminated by this algorithm.
    pub fn minimax(
        &self,
        depth: Either<u8, (&[u8], ChaCha20Rng)>,
        mut alpha: f64,
        mut beta: f64,
        is_maximizing: bool,
        getting_move_for: Color,
        board_count: &mut u64,
    ) -> f64 {
        *board_count += 1;

        let (mut next_depth, max_moves) = match depth {
            Either::Left(0) => {
                return self.value_for(getting_move_for);
            }
            Either::Right(([], _)) => {
                return self.value_for(getting_move_for);
            }
            Either::Left(depth) => (Either::Left(depth - 1), None),
            Either::Right((depth, rng)) => (Either::Right((&depth[1..], rng)), Some(depth[0])),
        };

        let mut best_move_value;

        if is_maximizing {
            best_move_value = -999999.0;

            if let Some(max_moves) = max_moves {
                let Either::Right((_, rng)) = &mut next_depth else {
                    panic!();
                };
                for m in self
                    .get_legal_moves()
                    .choose_multiple(rng, max_moves as usize)
                {
                    let child_board_value = self.apply_eval_move(m).minimax(
                        next_depth.clone(),
                        alpha,
                        beta,
                        !is_maximizing,
                        getting_move_for,
                        board_count,
                    );

                    if child_board_value > best_move_value {
                        best_move_value = child_board_value;
                    }

                    if best_move_value > alpha {
                        alpha = best_move_value
                    }

                    if beta <= alpha {
                        return best_move_value;
                    }
                }
            } else {
                for m in self.get_legal_moves() {
                    let child_board_value = self.apply_eval_move(m).minimax(
                        next_depth.clone(),
                        alpha,
                        beta,
                        !is_maximizing,
                        getting_move_for,
                        board_count,
                    );

                    if child_board_value > best_move_value {
                        best_move_value = child_board_value;
                    }

                    if best_move_value > alpha {
                        alpha = best_move_value
                    }

                    if beta <= alpha {
                        return best_move_value;
                    }
                }
            };
        } else {
            best_move_value = 999999.0;

            if let Some(max_moves) = max_moves {
                let Either::Right((_, rng)) = &mut next_depth else {
                    panic!();
                };
                for m in self
                    .get_legal_moves()
                    .choose_multiple(rng, max_moves as usize)
                {
                    let child_board_value = self.apply_eval_move(m).minimax(
                        next_depth.clone(),
                        alpha,
                        beta,
                        !is_maximizing,
                        getting_move_for,
                        board_count,
                    );
                    if child_board_value < best_move_value {
                        best_move_value = child_board_value;
                    }

                    if best_move_value < beta {
                        beta = best_move_value
                    }

                    if beta <= alpha {
                        return best_move_value;
                    }
                }
            } else {
                for m in self.get_legal_moves() {
                    let child_board_value = self.apply_eval_move(m).minimax(
                        next_depth.clone(),
                        alpha,
                        beta,
                        !is_maximizing,
                        getting_move_for,
                        board_count,
                    );
                    if child_board_value < best_move_value {
                        best_move_value = child_board_value;
                    }

                    if best_move_value < beta {
                        beta = best_move_value
                    }

                    if beta <= alpha {
                        return best_move_value;
                    }
                }
            }
        }

        best_move_value
    }
}

impl core::fmt::Display for Board {
    fn fmt(&self, f: &mut core::fmt::Formatter) -> Result<(), core::fmt::Error> {
        let rating_bar = self.rating_bar(16);
        let abc = if self.turn == WHITE {
            "abcdefgh"
        } else {
            "hgfedcba"
        };

        write!(f, "   {}\n  ╔════════╗", abc)?;
        let mut square_color = !self.turn;
        let height = 8;
        let width = 8;

        for row in 0..height {
            writeln!(f)?;

            let print_row = match self.turn {
                WHITE => height - row - 1,
                BLACK => row,
            };
            write!(f, "{} ║", print_row + 1)?;

            for col in 0..width {
                let print_col = match self.turn {
                    BLACK => width - col - 1,
                    WHITE => col,
                };

                let pos = Position::new(print_row, print_col);

                let s = if let Some(piece) = self.get_piece(pos) {
                    piece.to_string()
                } else {
                    String::from(match square_color {
                        WHITE => "░",
                        BLACK => "▓",
                    })
                };
                if Some(pos) == self.en_passant {
                    write!(f, "\x1b[34m{}\x1b[m\x1b[0m", s)?;
                } else if self.is_threatened(pos, self.turn) {
                    write!(f, "\x1b[31m{}\x1b[m\x1b[0m", s)?;
                } else if self.is_threatened(pos, !self.turn) {
                    write!(f, "\x1b[32m{}\x1b[m\x1b[0m", s)?;
                } else {
                    write!(f, "{}", s)?;
                }

                square_color = !square_color;
            }
            write!(f, "║")?;

            if row == 2 {
                let white_adv = self.get_material_advantage(WHITE);
                let black_adv = self.get_material_advantage(BLACK);

                match white_adv.cmp(&black_adv) {
                    Ordering::Equal => write!(f, " Both sides have equal material")?,
                    Ordering::Greater => write!(f, " White +{} points", white_adv)?,
                    Ordering::Less => write!(f, " Black +{} points", black_adv)?,
                }
            } else if row == 3 {
                write!(f, " {} to move", self.turn)?;
            } else if row == 4 {
                write!(f, " [{}]", rating_bar)?;
            }
            square_color = !square_color;
        }

        write!(f, "\n  ╚════════╝\n   {}\n", abc)
    }
}

impl Board {
    /// Create the default board for the Horde variant
    pub fn horde() -> Self {
        BoardBuilder::from(Board::default())
            .row(Piece::Pawn(WHITE, A1))
            .row(Piece::Pawn(WHITE, A2))
            .row(Piece::Pawn(WHITE, A3))
            .row(Piece::Pawn(WHITE, A4))
            .piece(Piece::Pawn(WHITE, F5))
            .piece(Piece::Pawn(WHITE, G5))
            .piece(Piece::Pawn(WHITE, B5))
            .piece(Piece::Pawn(WHITE, C5))
            .build()
    }

    pub fn empty() -> Self {
        Self {
            squares: [EMPTY_SQUARE; 64],
            en_passant: None,

            white_castling_rights: CastlingRights::default(),
            black_castling_rights: CastlingRights::default(),

            turn: WHITE,
        }
    }

    pub fn rating_bar(&self, len: usize) -> String {
        let (best_m, _, your_best_val) = self.get_best_next_move(2);
        let (_, _, your_lowest_val) = self.get_worst_next_move(2);
        let mut your_val = your_best_val + your_lowest_val;
        let (_, _, their_best_val) = self.apply_move(best_m).change_turn().get_best_next_move(2);
        let (_, _, their_lowest_val) = self.apply_move(best_m).change_turn().get_worst_next_move(2);
        let mut their_val = their_best_val + their_lowest_val;

        if your_val < 0.0 {
            your_val = -your_val;
            their_val += your_val * 2.0;
        }

        if their_val < 0.0 {
            their_val = -their_val;
            your_val += their_val * 2.0;
        }

        let your_percentage = your_val / (your_val + their_val);
        let their_percentage = their_val / (your_val + their_val);

        let (your_color, their_color) = match self.turn {
            WHITE => ("▓", "░"),
            BLACK => ("░", "▓"),
        };

        let white = match self.turn {
            WHITE => your_color.repeat((your_percentage * len as f64) as usize),
            BLACK => their_color.repeat((their_percentage * len as f64) as usize),
        };

        let black = match self.turn {
            BLACK => your_color.repeat((your_percentage * len as f64) as usize),
            WHITE => their_color.repeat((their_percentage * len as f64) as usize),
        };

        white + &black
    }

    /// Get the color of the current player
    #[inline]
    pub fn get_turn_color(&self) -> Color {
        self.turn
    }

    /// Get the position of the En-Passant square
    pub fn get_en_passant(&self) -> Option<Position> {
        self.en_passant
    }

    /// Remove all of the pieces for a given player
    pub fn remove_all(&self, color: Color) -> Self {
        let mut result = *self;
        for square in &mut result.squares {
            if let Some(piece) = square.get_piece() {
                if piece.get_color() == color {
                    *square = EMPTY_SQUARE
                }
            }
        }

        result
    }

    /// Convert all of a given players pieces to queens
    pub fn queen_all(&self, color: Color) -> Self {
        let mut result = *self;
        for square in &mut result.squares {
            if let Some(piece) = square.get_piece() {
                if !piece.is_king() && piece.get_color() == color {
                    *square = Square::from(Piece::Queen(color, piece.get_pos()))
                }
            }
        }

        result
    }

    /// Make the game a certain player's turn
    #[inline]
    pub fn set_turn(&self, color: Color) -> Self {
        let mut result = *self;
        result.turn = color;
        result
    }

    /// Get the value of the material advantage of a certain player
    #[inline]
    pub fn get_material_advantage(&self, color: Color) -> i32 {
        self.squares
            .iter()
            .map(|square| match square.get_piece() {
                Some(piece) => {
                    if piece.get_color() == color {
                        piece.get_material_value()
                    } else {
                        -piece.get_material_value()
                    }
                }
                None => 0,
            })
            .sum()
    }

    #[inline]
    fn get_square(&mut self, pos: Position) -> &mut Square {
        &mut self.squares[((7 - pos.get_row()) * 8 + pos.get_col()) as usize]
    }

    #[inline]
    fn add_piece(&mut self, piece: Piece) {
        let pos = piece.get_pos();
        *self.get_square(pos) = Square::from(piece);
    }

    /// Does a square have any piece?
    #[inline]
    pub fn get_piece(&self, pos: Position) -> Option<Piece> {
        if pos.is_off_board() {
            return None;
        }
        self.squares[((7 - pos.get_row()) * 8 + pos.get_col()) as usize].get_piece()
    }

    /// Does a square have an ally piece?
    #[inline]
    pub fn has_ally_piece(&self, pos: Position, ally_color: Color) -> bool {
        if let Some(piece) = self.get_piece(pos) {
            piece.get_color() == ally_color
        } else {
            false
        }
    }

    /// If a square at a given position has an enemy piece from a given
    /// ally color, return true. Otherwise, return false.
    ///
    /// For example, if a square has a black piece, and this method is called
    /// upon it with an `ally_color` of `Color::White`, then it will return true.
    /// If called with `Color::Black` upon the same square, however, it will return false.
    #[inline]
    pub fn has_enemy_piece(&self, pos: Position, ally_color: Color) -> bool {
        if let Some(piece) = self.get_piece(pos) {
            piece.get_color() == !ally_color
        } else {
            false
        }
    }

    /// If a square at a given position has any piece, return true.
    /// Otherwise, return false.
    #[inline]
    pub fn has_piece(&self, pos: Position) -> bool {
        self.get_piece(pos).is_some()
    }

    /// If a square at a given position has no piece, return true.
    /// Otherwise, return false.
    #[inline]
    pub fn has_no_piece(&self, pos: Position) -> bool {
        self.get_piece(pos).is_none()
    }

    /// If there is a king on the board, return the position that it sits on.
    pub fn get_king_pos(&self, color: Color) -> Option<Position> {
        let mut king_pos = None;
        for square in &self.squares {
            if let Some(Piece::King(c, pos)) = square.get_piece() {
                if c == color {
                    king_pos = Some(pos);
                }
            }
        }
        king_pos
    }

    /// Is a square threatened by an enemy piece?
    pub fn is_threatened(&self, pos: Position, ally_color: Color) -> bool {
        for (i, square) in self.squares.iter().enumerate() {
            let row = 7 - i / 8;
            let col = i % 8;
            let square_pos = Position::new(row as i32, col as i32);
            if !square_pos.is_orthogonal_to(pos)
                && !square_pos.is_diagonal_to(pos)
                && !square_pos.is_knight_move(pos)
            {
                continue;
            }

            if let Some(piece) = square.get_piece() {
                if piece.get_color() == ally_color {
                    continue;
                }

                if piece.is_legal_attack(pos, self) {
                    return true;
                }
            }
        }

        false
    }

    /// Get whether or not the king of a given color is in check.
    #[inline]
    pub fn is_in_check(&self, color: Color) -> bool {
        if let Some(king_pos) = self.get_king_pos(color) {
            self.is_threatened(king_pos, color)
        } else {
            false
        }
    }

    fn move_piece(&self, from: Position, to: Position, promotion: Option<Piece>) -> Self {
        let mut result = *self;
        result.en_passant = None;

        if from.is_off_board() || to.is_off_board() {
            return result;
        }

        let from_square = result.get_square(from);
        if let Some(mut piece) = from_square.get_piece() {
            *from_square = EMPTY_SQUARE;

            if piece.is_pawn() && (to.get_row() == 0 || to.get_row() == 7) {
                piece = match promotion {
                    // promotion only required to specify piece type
                    Some(promotion) => {
                        if promotion.is_king() || promotion.is_pawn() {
                            // invalid promotion, use default
                            Piece::Queen(piece.get_color(), piece.get_pos())
                        } else {
                            promotion
                                .with_color(piece.get_color())
                                .move_to(piece.get_pos())
                        }
                    }
                    // queen by default
                    None => Piece::Queen(piece.get_color(), piece.get_pos()),
                }
            }

            if piece.is_starting_pawn() && (from.get_row() - to.get_row()).abs() == 2 {
                result.en_passant = Some(to.pawn_back(piece.get_color()))
            }

            result.add_piece(piece.move_to(to));

            let castling_rights = match piece.get_color() {
                WHITE => &mut result.white_castling_rights,
                BLACK => &mut result.black_castling_rights,
            };

            if piece.is_king() {
                castling_rights.disable_all();
            } else if piece.is_queenside_rook() {
                castling_rights.disable_queenside();
            } else if piece.is_kingside_rook() {
                castling_rights.disable_kingside();
            }
        }

        result
    }

    /// Can a given player castle kingside?
    pub fn can_kingside_castle(&self, color: Color) -> bool {
        let right_of_king = Position::king_pos(color).next_right();
        match color {
            WHITE => {
                self.has_no_piece(Position::new(0, 5))
                    && self.has_no_piece(Position::new(0, 6))
                    && self.get_piece(Position::new(0, 7))
                        == Some(Piece::Rook(color, Position::new(0, 7)))
                    && self.white_castling_rights.can_kingside_castle()
                    && !self.is_in_check(color)
                    && !self.is_threatened(right_of_king, color)
                    && !self.is_threatened(right_of_king.next_right(), color)
            }
            BLACK => {
                self.has_no_piece(Position::new(7, 5))
                    && self.has_no_piece(Position::new(7, 6))
                    && self.get_piece(Position::new(7, 7))
                        == Some(Piece::Rook(color, Position::new(7, 7)))
                    && self.black_castling_rights.can_kingside_castle()
                    && !self.is_in_check(color)
                    && !self.is_threatened(right_of_king, color)
                    && !self.is_threatened(right_of_king.next_right(), color)
            }
        }
    }

    /// Can a given player castle queenside?
    pub fn can_queenside_castle(&self, color: Color) -> bool {
        match color {
            WHITE => {
                self.has_no_piece(Position::new(0, 1))
                    && self.has_no_piece(Position::new(0, 2))
                    && self.has_no_piece(Position::new(0, 3))
                    && self.get_piece(Position::new(0, 0))
                        == Some(Piece::Rook(color, Position::new(0, 0)))
                    && self.white_castling_rights.can_queenside_castle()
                    && !self.is_in_check(color)
                    && !self.is_threatened(Position::queen_pos(color), color)
            }
            BLACK => {
                self.has_no_piece(Position::new(7, 1))
                    && self.has_no_piece(Position::new(7, 2))
                    && self.has_no_piece(Position::new(7, 3))
                    && self.get_piece(Position::new(7, 0))
                        == Some(Piece::Rook(color, Position::new(7, 0)))
                    && self.black_castling_rights.can_queenside_castle()
                    && !self.is_in_check(color)
                    && !self.is_threatened(Position::queen_pos(color), color)
            }
        }
    }

    pub fn get_castling_rights(&self, color: Color) -> CastlingRights {
        match color {
            WHITE => self.white_castling_rights,
            BLACK => self.black_castling_rights,
        }
    }

    pub(crate) fn is_legal_move(&self, m: Move, player_color: Color) -> bool {
        match m {
            Move::KingSideCastle => self.can_kingside_castle(player_color),
            Move::QueenSideCastle => self.can_queenside_castle(player_color),
            Move::Piece(from, to) => match self.get_piece(from) {
                Some(Piece::Pawn(c, pos)) => {
                    let piece = Piece::Pawn(c, pos);
                    ((if let Some(en_passant) = self.en_passant {
                        (en_passant == from.pawn_up(player_color).next_left()
                            || en_passant == from.pawn_up(player_color).next_right()
                                && en_passant == to)
                            && c == player_color
                    } else {
                        false
                    }) || piece.is_legal_move(to, self) && piece.get_color() == player_color)
                        && !self.apply_move(m).is_in_check(player_color)
                }
                Some(piece) => {
                    piece.is_legal_move(to, self)
                        && piece.get_color() == player_color
                        && !self.apply_move(m).is_in_check(player_color)
                }
                _ => false,
            },
            Move::Promotion(from, to, promotion) => {
                match self.get_piece(from) {
                    Some(piece) => {
                        // promotion specific checks
                        piece.is_pawn()
                            && (to.get_row() == 0 || to.get_row() == 7)
                            && !(promotion.is_king() || promotion.is_pawn())
                            // regular piece checks
                            && piece.is_legal_move(to, self)
                            && piece.get_color() == player_color
                            && !self.apply_move(m).is_in_check(player_color)
                    }
                    _ => false,
                }
            }
            Move::Resign => true,
        }
    }

    /// Does the respective player have sufficient material?
    pub fn has_sufficient_material(&self, color: Color) -> bool {
        let mut pieces = vec![];
        for square in &self.squares {
            if let Some(piece) = square.get_piece() {
                if piece.get_color() == color {
                    pieces.push(piece);
                }
            }
        }

        pieces.sort();

        if pieces.is_empty()
            || pieces.len() == 1 && pieces[0].is_king()
            || pieces.len() == 2 && pieces[0].is_king() && pieces[1].is_knight()
            || pieces.len() == 2 && pieces[0].is_king() && pieces[1].is_bishop()
            || pieces.len() == 3
                && pieces[0].is_king()
                && pieces[1].is_knight()
                && pieces[2].is_knight()
        {
            false
        } else {
            !(pieces.len() == 3
                && pieces[0].is_king()
                && pieces[1].is_bishop()
                && pieces[2].is_bishop())
        }
    }

    /// Does the respective player have insufficient material?
    #[inline]
    pub fn has_insufficient_material(&self, color: Color) -> bool {
        !self.has_sufficient_material(color)
    }

    /// Is the current player in stalemate?
    pub fn is_stalemate(&self) -> bool {
        (self.get_legal_moves().next().is_none()
            && !self.is_in_check(self.get_current_player_color()))
            || (self.has_insufficient_material(self.turn)
                && self.has_insufficient_material(!self.turn))
    }

    /// Is the current player in checkmate?
    pub fn is_checkmate(&self) -> bool {
        self.is_in_check(self.get_current_player_color()) && self.get_legal_moves().next().is_none()
    }

    /// Change the current turn to the next player.
    #[inline]
    pub fn change_turn(mut self) -> Self {
        self.turn = !self.turn;
        self
    }

    fn apply_move(&self, m: Move) -> Self {
        match m {
            Move::KingSideCastle => {
                if let Some(king_pos) = self.get_king_pos(self.turn) {
                    let rook_pos = match self.turn {
                        WHITE => Position::new(0, 7),
                        BLACK => Position::new(7, 7),
                    };
                    self.move_piece(king_pos, rook_pos.next_left(), None)
                        .move_piece(rook_pos, king_pos.next_right(), None)
                } else {
                    *self
                }
            }
            Move::QueenSideCastle => {
                if let Some(king_pos) = self.get_king_pos(self.turn) {
                    let rook_pos = match self.turn {
                        WHITE => Position::new(0, 0),
                        BLACK => Position::new(7, 0),
                    };
                    self.move_piece(king_pos, king_pos.next_left().next_left(), None)
                        .move_piece(rook_pos, king_pos.next_left(), None)
                } else {
                    *self
                }
            }

            Move::Piece(from, to) => {
                let mut result = self.move_piece(from, to, None);

                if let (Some(en_passant), Some(Piece::Pawn(player_color, _))) =
                    (self.en_passant, self.get_piece(from))
                {
                    if (en_passant == from.pawn_up(player_color).next_left()
                        || en_passant == from.pawn_up(player_color).next_right())
                        && en_passant == to
                    {
                        result.squares[((7 - en_passant.pawn_back(player_color).get_row()) * 8
                            + en_passant.get_col())
                            as usize] = EMPTY_SQUARE;
                    }
                }

                result
            }
            Move::Promotion(from, to, promotion) => self.move_piece(from, to, Some(promotion)),
            Move::Resign => self.remove_all(self.turn).queen_all(!self.turn),
        }
    }

    /// Play a move and confirm it is legal.
    pub fn play_move(&self, m: Move) -> GameResult {
        let current_color = self.get_turn_color();

        if m == Move::Resign {
            GameResult::Victory(!current_color)
        } else if self.is_legal_move(m, current_color) {
            let next_turn = self.apply_move(m).change_turn();
            if next_turn.is_checkmate() {
                GameResult::Victory(current_color)
            } else if next_turn.is_stalemate() {
                GameResult::Stalemate
            } else {
                GameResult::Continuing(next_turn)
            }
        } else {
            GameResult::IllegalMove(m)
        }
    }
}

'''
'''--- crates/chess-engine/src/game.rs ---
use crate::{
    util::{format_fen, parse_fen, parse_san_move},
    Board, Color, GameResult,
};

pub enum GameAction {
    // accept draw if previous action was OfferDraw
    AcceptDraw,
    // make move, using san notation
    MakeMove(String),
    // make move and offer draw, using san notiation
    OfferDraw(String),
    // resign
    Resign,
}

// convenience for most common action (MakeMove)
impl From<&str> for GameAction {
    fn from(move_str: &str) -> GameAction {
        GameAction::MakeMove(String::from(move_str))
    }
}

#[derive(Debug, PartialEq)]
pub enum GameError {
    // when san move has multiple options
    AmbiguousMove,
    // no more actions allowed once game is over
    GameAlreadyOver,
    // unable to parse move for current turn
    InvalidMove,
    // unable to parse position
    InvalidPosition,
}

#[derive(Debug, PartialEq)]
pub enum GameOver {
    WhiteCheckmates,
    WhiteResigns,
    BlackCheckmates,
    BlackResigns,
    Stalemate,
    DrawAccepted,
}

// wrapper around chess_engine::Board
//
// abstractions for two player games, like offering/accepting a draw.
// status is Some when the game is over.
#[derive(Default)]
pub struct Game {
    pub board: Board,
    pub draw_offered: Option<Color>,
    pub status: Option<GameOver>,
}

impl Game {
    pub fn from_fen(
        fen: &str,
        draw_offered: Option<Color>,
        status: Option<GameOver>,
    ) -> Result<Self, GameError> {
        let board = match parse_fen(fen) {
            Ok(board) => board,
            Err(_) => {
                return Err(GameError::InvalidPosition);
            }
        };
        Ok(Game {
            board,
            draw_offered,
            status,
        })
    }

    pub fn to_fen(&self, halfmove_clock: u8, fullmove_number: u8) -> Result<String, String> {
        format_fen(&self.board, halfmove_clock, fullmove_number)
    }

    // convenience accessor for board.get_turn_color
    pub fn get_turn_color(&self) -> Color {
        self.board.get_turn_color()
    }

    // make a move for current turn
    pub fn make_move(&mut self, action: &GameAction) -> Result<&Option<GameOver>, GameError> {
        if self.status.is_some() {
            return Err(GameError::GameAlreadyOver {});
        }
        match action {
            GameAction::AcceptDraw => self.accept_draw(),
            GameAction::MakeMove(move_str) => self.move_piece(move_str, false),
            GameAction::OfferDraw(move_str) => self.move_piece(move_str, true),
            GameAction::Resign => self.resign(),
        }
    }

    // accept draw if previous move was OfferDraw
    fn accept_draw(&mut self) -> Result<&Option<GameOver>, GameError> {
        if let Some(color) = self.draw_offered {
            if color != self.get_turn_color() {
                self.status = Some(GameOver::DrawAccepted);
                return Ok(&self.status);
            }
        }
        Err(GameError::InvalidMove {})
    }

    // move a piece and optionally offer a draw
    fn move_piece(
        &mut self,
        movestr: &str,
        draw_offered: bool,
    ) -> Result<&Option<GameOver>, GameError> {
        let chess_move = match parse_san_move(&self.board, movestr) {
            Ok(chess_move) => chess_move,
            Err(_) => {
                return Err(GameError::InvalidMove {});
            }
        };

        self.draw_offered = match draw_offered {
            true => Some(self.get_turn_color()),
            false => None,
        };
        self.status = match self.board.play_move(chess_move) {
            GameResult::Continuing(board) => {
                self.board = board;
                None
            }
            GameResult::IllegalMove(_) => {
                return Err(GameError::InvalidMove {});
            }
            GameResult::Stalemate => Some(GameOver::Stalemate),
            GameResult::Victory(color) => match color {
                Color::Black => Some(GameOver::BlackCheckmates),
                Color::White => Some(GameOver::WhiteCheckmates),
            },
        };
        Ok(&self.status)
    }

    // resign
    fn resign(&mut self) -> Result<&Option<GameOver>, GameError> {
        self.status = match self.get_turn_color() {
            Color::Black => Some(GameOver::BlackResigns),
            Color::White => Some(GameOver::WhiteResigns),
        };
        Ok(&self.status)
    }
}

#[cfg(test)]
mod tests {
    use super::*;
    use crate::piece::Piece;
    use crate::position::Position;

    #[test]
    fn test_game_moves() {
        let mut game = Game::default();
        let game_moves = vec!["d4", "d5", "c4", "dxc4", "e3", "Nf6", "Bxc4"];
        for game_move in game_moves {
            game.make_move(&GameAction::from(game_move))
                .expect(game_move);
        }
        assert_eq!(game.status, None);
    }

    #[test]
    fn test_fools_mate() {
        let mut game = Game::default();
        let game_moves = vec!["f3", "e5", "g4", "Qh4"];
        for game_move in game_moves {
            game.make_move(&GameAction::from(game_move))
                .expect(game_move);
        }
        assert_eq!(game.status, Some(GameOver::BlackCheckmates));
    }

    #[test]
    fn test_promotion() {
        let mut game = Game::default();
        let game_moves = vec![
            "e4", "d5", "exd5", "Nf6", "Bb5", "c6", "dxc6", "Qb6", "cxb7", "Qxb5",
            // bxc8Q is checkmate, but want to test non-queen promotion
            "bxc8R",
        ];
        for game_move in game_moves {
            game.make_move(&GameAction::from(game_move))
                .expect(game_move);
        }
        assert_eq!(game.status, None);
        assert_eq!(
            game.board.get_piece(Position::pgn("c8").unwrap()),
            Some(Piece::Rook(Color::White, Position::pgn("c8").unwrap()))
        )
    }
}

'''
'''--- crates/chess-engine/src/lib.rs ---
#![feature(coroutines, coroutine_trait)]
#![allow(dead_code)]

#[macro_use]
extern crate alloc;
extern crate either;
extern crate near_sdk;
extern crate rand;
extern crate rand_chacha;

use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    serde::{Deserialize, Serialize},
    NearSchema,
};
use std::{
    convert::TryFrom,
    ops::{Coroutine, CoroutineState},
    pin::Pin,
};

mod board;
pub use board::{Board, BoardBuilder};

mod game;
pub use game::{Game, GameAction, GameError, GameOver};

mod square;
pub use square::{Square, EMPTY_SQUARE};

mod piece;
pub use piece::Piece;

mod position;
pub use position::*;

mod util;
pub use util::*;

pub const WHITE: Color = Color::White;
pub const BLACK: Color = Color::Black;

/// The result of a move being played on the board.
#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord)]
#[allow(clippy::large_enum_variant)]
pub enum GameResult {
    /// The game is not finished, and the game is still in play.
    Continuing(Board),
    /// One player, the victor, checkmated the other.
    /// This stores the color of the winner.
    Victory(Color),
    /// The game is drawn. This can be a result of the current player
    /// having no legal moves and not being in check, or because
    /// both players have insufficient material on the board.
    ///
    /// Insufficient material consists of:
    /// 1. The player only has a king
    /// 2. The player only has a king and a knight
    /// 3. The player only has a king and two knights
    /// 4. The player only has a king and a bishop
    /// 5. The player only has a king and two bishops
    ///
    /// In a regular game of chess, threefold repetition also triggers
    /// a stalemate, but this engine does not have builtin support for
    /// threefold repetition detection yet.
    Stalemate,
    /// An illegal move was made. This can include many things,
    /// such as moving a piece through another piece, attempting
    /// to capture an allied piece, moving non-orthogonally or
    /// non-diagonally, or non-knight-like according the rules
    /// governing the movement of the piece. Additionally,
    /// moves that put the player in check, (for example, moving a pinned piece),
    /// are also illegal.
    IllegalMove(Move),
}

/// The color of a piece.
#[derive(
    Clone,
    Copy,
    Debug,
    PartialEq,
    Eq,
    PartialOrd,
    Ord,
    BorshDeserialize,
    BorshSerialize,
    Deserialize,
    Serialize,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub enum Color {
    White,
    Black,
}

impl core::fmt::Display for Color {
    fn fmt(&self, f: &mut core::fmt::Formatter) -> Result<(), core::fmt::Error> {
        write!(
            f,
            "{}",
            match self {
                Self::White => "White",
                Self::Black => "Black",
            }
        )
    }
}

/// A color can be inverted using the `!` operator.
/// `!Color::White` becomes `Color::Black` and vice versa.
impl core::ops::Not for Color {
    type Output = Self;
    fn not(self) -> Self {
        match self {
            Self::White => Self::Black,
            Self::Black => Self::White,
        }
    }
}

/// A move that can be applied to a board.
/// When applied to a board, the board assumes that the move is
/// being applied for the current turn's player.
#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord)]
pub enum Move {
    /// If the current player is white, move the king to the C1 square, and the kingside rook to
    /// the D1 square. If the current player is black, however, move the king to the C8 square,
    /// and the kingside rook to the D8 square.
    ///
    /// Castling can only be performed if
    /// 1. The king has not moved at all since the game began
    /// 2. The respective rook (kingside or queenside) has also not moved
    /// 3. The square adjacent to the king on the respective side is not threatened by an enemy piece
    ///
    /// If all of these conditions are satisfied, castling is a legal move
    QueenSideCastle,
    /// If the current player is white, move the king to the G1 square, and the kingside rook to
    /// the F1 square. If the current player is black, however, move the king to the G8 square,
    /// and the kingside rook to the F8 square.
    KingSideCastle,
    /// Move a piece from one square to another, with optional promotion.
    /// This can allow the player to capture another piece, by
    /// simply moving a piece to the position of an enemy piece.
    ///
    /// Additionally, this can be used to [en-passant capture](https://en.wikipedia.org/wiki/En_passant),
    /// even though the en-passant square itself does not contain any capturable pieces.
    ///
    /// En-passant captures MUST be performed with a pawn, upon an enemy pawn
    /// that has just surpassed it by move two squares. An en-passant capture
    /// must also be performed the turn immediately after the enemy pawn surpasses
    /// the allied pawn. After the one turn a player has to en-passant capture, the
    /// en-passant square is forgotten and can no longer be used.
    Piece(Position, Position),
    Promotion(Position, Position, Piece),
    /// When played by another player, it awards victory to the other.
    Resign,
}

/// Try to parse a Move from a string.
///
/// Possible valid formats include:
/// - `"resign"`
/// - `"resigns"`
/// - `"castle queenside"`
/// - `"O-O-O"` (correct notation)
/// - `"o-o-o"` (incorrect notation, but will accept)
/// - `"0-0-0"` (incorrect notation, but will accept)
/// - `"castle kingside"`
/// - `"O-O"` (correct notation)
/// - `"o-o"` (incorrect notation, but will accept)
/// - `"0-0"` (incorrect notation, but will accept)
/// - `"e2e4"`
/// - `"e2 e4"`
/// - `"e2 to e4"`
///
/// Parsing a move such as `"knight to e4"` or `"Qxe4"` will NOT work.
impl TryFrom<String> for Move {
    type Error = String;

    fn try_from(repr: String) -> Result<Self, Self::Error> {
        let repr = repr.trim().to_string();

        Ok(match repr.as_str() {
            "resign" | "resigns" => Self::Resign,
            "queenside castle" | "castle queenside" | "O-O-O" | "0-0-0" | "o-o-o" => {
                Self::QueenSideCastle
            }
            "kingside castle" | "castle kingside" | "O-O" | "0-0" | "o-o" => Self::KingSideCastle,
            other => {
                let words = other.split_whitespace().collect::<Vec<&str>>();

                if words.len() == 1 && words[0].len() == 4 {
                    Self::Piece(
                        Position::pgn(&words[0][..2])?,
                        Position::pgn(&words[0][2..4])?,
                    )
                } else if words.len() == 2 {
                    Self::Piece(Position::pgn(words[0])?, Position::pgn(words[1])?)
                } else if words.len() == 3 && words[1] == "to" {
                    Self::Piece(Position::pgn(words[0])?, Position::pgn(words[2])?)
                } else if words.len() == 4 && words[1] == "to" {
                    let piece = Piece::try_from(words[3])?;
                    if piece.is_king() || piece.is_pawn() {
                        return Err(String::from("invalid promotion"));
                    }
                    Self::Promotion(Position::pgn(words[0])?, Position::pgn(words[2])?, piece)
                } else {
                    return Err(format!("invalid move format `{}`", other));
                }
            }
        })
    }
}

impl Move {
    /// Try to parse a Move from a string.
    ///
    /// Possible valid formats include:
    /// - `"resign"`
    /// - `"resigns"`
    /// - `"castle queenside"`
    /// - `"O-O-O"` (correct notation)
    /// - `"o-o-o"` (incorrect notation, but will accept)
    /// - `"0-0-0"` (incorrect notation, but will accept)
    /// - `"castle kingside"`
    /// - `"O-O"` (correct notation)
    /// - `"o-o"` (incorrect notation, but will accept)
    /// - `"0-0"` (incorrect notation, but will accept)
    /// - `"e2e4"`
    /// - `"e2 e4"`
    /// - `"e2 to e4"`
    ///
    /// Parsing a move such as `"knight to e4"` or `"Qxe4"` will NOT work.
    pub fn parse(repr: String) -> Result<Self, String> {
        Self::try_from(repr)
    }
}

impl core::fmt::Display for Move {
    fn fmt(&self, f: &mut core::fmt::Formatter) -> Result<(), core::fmt::Error> {
        match self {
            // Move::EnPassant(from) => write!(f, "ep {}", from),
            Move::Piece(from, to) => write!(f, "{} to {}", from, to),
            Move::Promotion(from, to, piece) => {
                write!(f, "{} to {} {}", from, to, piece.get_name())
            }
            Move::KingSideCastle => write!(f, "O-O"),
            Move::QueenSideCastle => write!(f, "O-O-O"),
            Move::Resign => write!(f, "Resign"),
        }
    }
}

pub(crate) struct CoroutineIteratorAdapter<G>(Pin<Box<G>>);

impl<G> CoroutineIteratorAdapter<G>
where
    G: Coroutine<Return = ()>,
{
    fn new(gen: G) -> Self {
        Self(Box::pin(gen))
    }
}

impl<G> Iterator for CoroutineIteratorAdapter<G>
where
    G: Coroutine<Return = ()>,
{
    type Item = G::Yield;

    fn next(&mut self) -> Option<Self::Item> {
        match self.0.as_mut().resume(()) {
            CoroutineState::Yielded(x) => Some(x),
            CoroutineState::Complete(_) => None,
        }
    }
}

'''
'''--- crates/chess-engine/src/piece.rs ---
use super::{Board, Color, Move, Position};
use crate::CoroutineIteratorAdapter;
use near_sdk::borsh::{BorshDeserialize, BorshSerialize};
use std::{convert::TryFrom, ops::Coroutine};

/// A piece on a board.
///
/// Every piece has both a color and a position.
/// These, combined with the type of piece it is,
/// determine things like
/// 1. The validity of legal moves
/// 2. The validity of legal attacks
/// 3. Move generation
/// 4. Material and positional value
#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord, BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub enum Piece {
    King(Color, Position),
    Queen(Color, Position),
    Rook(Color, Position),
    Bishop(Color, Position),
    Knight(Color, Position),
    Pawn(Color, Position),
}

const WHITE_KING_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-2.0, -3.0, -3.0, -4.0, -4.0, -3.0, -3.0, -2.0],
    [-1.0, -2.0, -2.0, -2.0, -2.0, -2.0, -2.0, -1.0],
    [2.0, 2.0, 0.0, 0.0, 0.0, 0.0, 2.0, 2.0],
    [2.0, 3.0, 1.0, 0.0, 0.0, 1.0, 3.0, 2.0],
];

const BLACK_KING_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [2.0, 3.0, 1.0, 0.0, 0.0, 1.0, 3.0, 2.0],
    [2.0, 2.0, 0.0, 0.0, 0.0, 0.0, 2.0, 2.0],
    [-1.0, -2.0, -2.0, -2.0, -2.0, -2.0, -2.0, -1.0],
    [-2.0, -3.0, -3.0, -4.0, -4.0, -3.0, -3.0, -2.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],
];

const WHITE_QUEEN_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0],
    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-1.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],
    [-0.5, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],
    [0.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],
    [-1.0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],
    [-1.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-1.0, -0.0, -1.0, -0.5, -0.5, -0.5, -1.0, -2.0],
];
const BLACK_QUEEN_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-1.0, -0.0, -1.0, -0.5, -0.5, -0.5, -1.0, -2.0],
    [-1.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-1.0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],
    [0.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],
    [-0.5, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],
    [-1.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],
    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0],
];

const WHITE_ROOK_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [0.0, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0],
];

const BLACK_ROOK_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [0.0, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],
    [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
];

const WHITE_BISHOP_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],
    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-1.0, 0.0, 0.5, 1.0, 1.0, 0.5, 0.0, -1.0],
    [-1.0, 0.5, 0.5, 1.0, 1.0, 0.5, 0.5, -1.0],
    [-1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, -1.0],
    [-1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0],
    [-1.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, -1.0],
    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],
];

const BLACK_BISHOP_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],
    [-1.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, -1.0],
    [-1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0],
    [-1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, -1.0],
    [-1.0, 0.5, 0.5, 1.0, 1.0, 0.5, 0.5, -1.0],
    [-1.0, 0.0, 0.5, 1.0, 1.0, 0.5, 0.0, -1.0],
    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],
    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],
];

const WHITE_KNIGHT_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],
    [-4.0, -2.0, 0.0, 0.0, 0.0, 0.0, -2.0, -4.0],
    [-3.0, 0.0, 1.0, 1.5, 1.5, 1.0, 0.0, -3.0],
    [-3.0, 0.5, 1.5, 2.0, 2.0, 1.5, 0.5, -3.0],
    [-3.0, 0.0, 1.5, 2.0, 2.0, 1.5, 0.0, -3.0],
    [-3.0, 0.5, 1.0, 1.5, 1.5, 1.0, 0.5, -3.0],
    [-4.0, -2.0, 0.0, 0.5, 0.5, 0.0, -2.0, -4.0],
    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],
];

const BLACK_KNIGHT_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],
    [-4.0, -2.0, 0.0, 0.5, 0.5, 0.0, -2.0, -4.0],
    [-3.0, 0.5, 1.0, 1.5, 1.5, 1.0, 0.5, -3.0],
    [-3.0, 0.0, 1.5, 2.0, 2.0, 1.5, 0.0, -3.0],
    [-3.0, 0.5, 1.5, 2.0, 2.0, 1.5, 0.5, -3.0],
    [-3.0, 0.0, 1.0, 1.5, 1.5, 1.0, 0.0, -3.0],
    [-4.0, -2.0, 0.0, 0.0, 0.0, 0.0, -2.0, -4.0],
    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],
];

const WHITE_PAWN_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    [5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0],
    [1.0, 1.0, 2.0, 3.0, 3.0, 2.0, 1.0, 1.0],
    [0.5, 0.5, 1.0, 2.5, 2.5, 1.0, 0.5, 0.5],
    [0.0, 0.0, 0.0, 2.0, 2.0, 0.0, 0.0, 0.0],
    [0.5, -0.5, -1.0, 0.0, 0.0, -1.0, -0.5, 0.5],
    [0.5, 1.5, -1.0, -2.0, -2.0, 1.0, 1.5, 0.5],
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
];

const BLACK_PAWN_POSITION_WEIGHTS: [[f64; 8]; 8] = [
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    [0.5, 1.5, -1.0, -2.0, -2.0, 1.0, 1.5, 0.5],
    [0.5, -0.5, -1.0, 0.0, 0.0, -1.0, -0.5, 0.5],
    [0.0, 0.0, 0.0, 2.0, 2.0, 0.0, 0.0, 0.0],
    [0.5, 0.5, 1.0, 2.5, 2.5, 1.0, 0.5, 0.5],
    [1.0, 1.0, 2.0, 3.0, 3.0, 2.0, 1.0, 1.0],
    [5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0],
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
];

impl core::fmt::Display for Piece {
    fn fmt(&self, f: &mut core::fmt::Formatter) -> Result<(), core::fmt::Error> {
        write!(
            f,
            "{}",
            match self.get_color() {
                Color::Black => match self {
                    Self::King(_, _) => "♔",
                    Self::Queen(_, _) => "♕",
                    Self::Rook(_, _) => "♖",
                    Self::Knight(_, _) => "♘",
                    Self::Bishop(_, _) => "♗",
                    Self::Pawn(_, _) => "♙",
                },
                Color::White => match self {
                    Self::King(_, _) => "♚",
                    Self::Queen(_, _) => "♛",
                    Self::Rook(_, _) => "♜",
                    Self::Knight(_, _) => "♞",
                    Self::Bishop(_, _) => "♝",
                    Self::Pawn(_, _) => "♟",
                },
            }
        )
    }
}

impl TryFrom<&str> for Piece {
    type Error = String;

    fn try_from(name: &str) -> Result<Self, Self::Error> {
        let color = Color::Black;
        let position = Position::new(-1, -1);
        match name {
            "king" => Ok(Self::King(color, position)),
            "queen" => Ok(Self::Queen(color, position)),
            "rook" => Ok(Self::Rook(color, position)),
            "bishop" => Ok(Self::Bishop(color, position)),
            "knight" => Ok(Self::Knight(color, position)),
            "pawn" => Ok(Self::Pawn(color, position)),
            _ => Err(String::from("invalid piece name")),
        }
    }
}

impl Piece {
    /// Get the name of the piece such as `"pawn"` or `"king"`.
    /// All names are lowercase.
    #[inline]
    pub fn get_name(&self) -> &'static str {
        match self {
            Self::King(_, _) => "king",
            Self::Queen(_, _) => "queen",
            Self::Rook(_, _) => "rook",
            Self::Bishop(_, _) => "bishop",
            Self::Knight(_, _) => "knight",
            Self::Pawn(_, _) => "pawn",
        }
    }

    /// Get the material value for a piece.
    /// | Name | Value |
    /// |-|-|
    /// | King | 99999 |
    /// | Queen | 9 |
    /// | Rook | 5 |
    /// | Bishop | 3 |
    /// | Knight | 3 |
    /// | Pawn | 1 |
    #[inline]
    pub fn get_material_value(&self) -> i32 {
        match self {
            Self::King(_, _) => 99999,
            Self::Queen(_, _) => 9,
            Self::Rook(_, _) => 5,
            Self::Bishop(_, _) => 3,
            Self::Knight(_, _) => 3,
            Self::Pawn(_, _) => 1,
        }
    }

    /// Get the weighted value of a piece. This simply factors in position
    /// to the pieces value. For example, a knight that is in the center is
    /// more favorable than a knight on the side of the board. Similarly,
    /// a king in the center of the board is highly unfavorable compared to
    /// a king its respective side.
    ///
    /// Additionally, the weighted value of the piece is 10 times greater than
    /// its material value, plus or minus a weight ranging between 5.0 and -5.0.
    #[inline]
    pub fn get_weighted_value(&self) -> f64 {
        let weights = match self {
            Self::King(c, _) => match c {
                Color::White => WHITE_KING_POSITION_WEIGHTS,
                Color::Black => BLACK_KING_POSITION_WEIGHTS,
            },
            Self::Queen(c, _) => match c {
                Color::White => WHITE_QUEEN_POSITION_WEIGHTS,
                Color::Black => BLACK_QUEEN_POSITION_WEIGHTS,
            },
            Self::Rook(c, _) => match c {
                Color::White => WHITE_ROOK_POSITION_WEIGHTS,
                Color::Black => BLACK_ROOK_POSITION_WEIGHTS,
            },
            Self::Bishop(c, _) => match c {
                Color::White => WHITE_BISHOP_POSITION_WEIGHTS,
                Color::Black => BLACK_BISHOP_POSITION_WEIGHTS,
            },
            Self::Knight(c, _) => match c {
                Color::White => WHITE_KNIGHT_POSITION_WEIGHTS,
                Color::Black => BLACK_KNIGHT_POSITION_WEIGHTS,
            },
            Self::Pawn(c, _) => match c {
                Color::White => WHITE_PAWN_POSITION_WEIGHTS,
                Color::Black => BLACK_PAWN_POSITION_WEIGHTS,
            },
        };
        weights[(7 - self.get_pos().get_row()) as usize][self.get_pos().get_col() as usize]
            + (self.get_material_value() * 10) as f64
    }

    /// Get the color of a given piece.
    #[inline]
    pub fn with_color(&self, color: Color) -> Self {
        match *self {
            Self::King(_, pos) => Self::King(color, pos),
            Self::Queen(_, pos) => Self::Queen(color, pos),
            Self::Rook(_, pos) => Self::Rook(color, pos),
            Self::Bishop(_, pos) => Self::Bishop(color, pos),
            Self::Knight(_, pos) => Self::Knight(color, pos),
            Self::Pawn(_, pos) => Self::Pawn(color, pos),
        }
    }

    /// Get the color of a given piece.
    #[inline]
    pub fn get_color(&self) -> Color {
        match self {
            Self::King(c, _)
            | Self::Queen(c, _)
            | Self::Rook(c, _)
            | Self::Bishop(c, _)
            | Self::Knight(c, _)
            | Self::Pawn(c, _) => *c,
        }
    }

    /// Get the position of a piece.
    #[inline]
    pub fn get_pos(&self) -> Position {
        match self {
            Self::King(_, p)
            | Self::Queen(_, p)
            | Self::Rook(_, p)
            | Self::Bishop(_, p)
            | Self::Knight(_, p)
            | Self::Pawn(_, p) => *p,
        }
    }

    /// Is this piece a king?
    #[inline]
    pub fn is_king(&self) -> bool {
        matches!(self, Self::King(_, _))
    }

    /// Is this piece a queen?
    #[inline]
    pub fn is_queen(&self) -> bool {
        matches!(self, Self::Queen(_, _))
    }

    /// Is this piece a rook?
    #[inline]
    pub fn is_rook(&self) -> bool {
        matches!(self, Self::Rook(_, _))
    }

    /// Is this piece a bishop?
    #[inline]
    pub fn is_bishop(&self) -> bool {
        matches!(self, Self::Bishop(_, _))
    }

    /// Is this piece a knight?
    #[inline]
    pub fn is_knight(&self) -> bool {
        matches!(self, Self::Knight(_, _))
    }

    /// Is this piece a pawn?
    #[inline]
    pub fn is_pawn(&self) -> bool {
        matches!(self, Self::Pawn(_, _))
    }

    /// Is this piece a starting pawn?
    ///
    /// A starting pawn is a pawn that has not been pushed
    /// yet whatsoever.
    #[inline]
    pub fn is_starting_pawn(&self) -> bool {
        if let Self::Pawn(c, pos) = self {
            pos.is_starting_pawn(*c)
        } else {
            false
        }
    }

    /// Is this piece in the starting position for the queenside rook?
    ///
    /// This method will only return true for rooks that are in the position
    /// of the queenside rook, not for any particular rook.
    #[inline]
    pub fn is_queenside_rook(&self) -> bool {
        if let Self::Rook(_, pos) = self {
            pos.is_queenside_rook()
        } else {
            false
        }
    }

    /// Is this piece in the starting position for the kingside rook?
    ///
    /// This method will only return true for rooks that are in the position
    /// of the kingside rook, not for any particular rook.
    #[inline]
    pub fn is_kingside_rook(&self) -> bool {
        if let Self::Rook(_, pos) = self {
            pos.is_kingside_rook()
        } else {
            false
        }
    }

    /// Change the position of this piece to a new position.
    ///
    /// For example, `Pawn(Color::White, E4).move_to(E5)` will result in
    /// `Pawn(Color::White, E5)`. This does not check for move legality,
    /// it merely creates a new piece with the same color and type, but
    /// with a new position.
    #[inline]
    pub fn move_to(&self, new_pos: Position) -> Self {
        match *self {
            Self::King(c, _) => Self::King(c, new_pos),
            Self::Queen(c, _) => Self::Queen(c, new_pos),
            Self::Rook(c, _) => Self::Rook(c, new_pos),
            Self::Bishop(c, _) => Self::Bishop(c, new_pos),
            Self::Knight(c, _) => Self::Knight(c, new_pos),
            Self::Pawn(c, _) => Self::Pawn(c, new_pos),
        }
    }

    /// Get the exhaustive list of legal moves for a given piece.
    ///
    /// This is used for move generation.
    pub(crate) fn get_legal_moves(self, board: &Board) -> impl Iterator<Item = Move> + '_ {
        let color = self.get_color();
        let moves = CoroutineIteratorAdapter::new(self.get_moves(board));
        moves.filter(move |x| match x {
            Move::Piece(from, to) => {
                if from.is_on_board() && to.is_on_board() {
                    board.is_legal_move(*x, color)
                } else {
                    false
                }
            }
            _ => board.is_legal_move(*x, color),
        })
    }

    pub(crate) fn get_moves(self, board: &Board) -> impl Coroutine<Yield = Move, Return = ()> + '_ {
        move || {
            match self {
                Self::Pawn(ally_color, pos) => {
                    let up = pos.pawn_up(ally_color);
                    let next_up = up.pawn_up(ally_color);
                    let up_left = up.next_left();
                    let up_right = up.next_right();

                    if let Some(en_passant) = board.get_en_passant() {
                        if en_passant == up_left || en_passant == up_right {
                            yield Move::Piece(pos, en_passant);
                        }
                    }

                    if next_up.is_on_board()
                        && self.is_starting_pawn()
                        && board.has_no_piece(up)
                        && board.has_no_piece(next_up)
                    {
                        yield Move::Piece(pos, next_up)
                    }

                    if up.is_on_board() && board.has_no_piece(up) {
                        yield Move::Piece(pos, up)
                    }

                    if up_left.is_on_board() && board.has_enemy_piece(up_left, ally_color) {
                        yield Move::Piece(pos, up_left)
                    }

                    if up_right.is_on_board() && board.has_enemy_piece(up_right, ally_color) {
                        yield Move::Piece(pos, up_right)
                    }
                }

                Self::King(ally_color, pos) => {
                    for p in [
                        pos.next_left(),
                        pos.next_right(),
                        pos.next_above(),
                        pos.next_below(),
                        pos.next_left().next_above(),
                        pos.next_left().next_below(),
                        pos.next_right().next_above(),
                        pos.next_right().next_below(),
                    ] {
                        if p.is_on_board() && !board.has_ally_piece(p, ally_color) {
                            yield Move::Piece(pos, p)
                        }
                    }
                    if board.can_kingside_castle(ally_color) {
                        yield Move::KingSideCastle;
                    } else if board.can_queenside_castle(ally_color) {
                        yield Move::QueenSideCastle;
                    }
                }

                Self::Queen(ally_color, pos) => {
                    for row in 0..8 {
                        let new_pos = Position::new(row, pos.get_col());
                        if new_pos != pos
                            && !board.has_ally_piece(new_pos, ally_color)
                            && new_pos.is_orthogonal_to(pos)
                        {
                            yield Move::Piece(pos, new_pos);
                        }
                    }
                    for col in 0..8 {
                        let new_pos = Position::new(pos.get_row(), col);
                        if new_pos != pos
                            && !board.has_ally_piece(new_pos, ally_color)
                            && new_pos.is_orthogonal_to(pos)
                        {
                            yield Move::Piece(pos, new_pos);
                        }
                    }

                    for row in 0..8 {
                        for col in 0..8 {
                            let new_pos = Position::new(row, col);
                            if new_pos != pos
                                && !board.has_ally_piece(new_pos, ally_color)
                                && new_pos.is_diagonal_to(pos)
                            {
                                yield Move::Piece(pos, new_pos);
                            }
                        }
                    }
                }

                Self::Rook(ally_color, pos) => {
                    for row in 0..8 {
                        let new_pos = Position::new(row, pos.get_col());
                        if new_pos != pos
                            && !board.has_ally_piece(new_pos, ally_color)
                            && new_pos.is_orthogonal_to(pos)
                        {
                            yield Move::Piece(pos, new_pos);
                        }
                    }
                    for col in 0..8 {
                        let new_pos = Position::new(pos.get_row(), col);
                        if new_pos != pos
                            && !board.has_ally_piece(new_pos, ally_color)
                            && new_pos.is_orthogonal_to(pos)
                        {
                            yield Move::Piece(pos, new_pos);
                        }
                    }
                }

                Self::Bishop(ally_color, pos) => {
                    for row in 0..8 {
                        for col in 0..8 {
                            let new_pos = Position::new(row, col);
                            if new_pos != pos
                                && !board.has_ally_piece(new_pos, ally_color)
                                && new_pos.is_diagonal_to(pos)
                            {
                                yield Move::Piece(pos, new_pos);
                            }
                        }
                    }
                }

                Self::Knight(ally_color, pos) => {
                    for p in [
                        pos.next_left().next_left().next_above(),
                        pos.next_left().next_above().next_above(),
                        pos.next_left().next_left().next_below(),
                        pos.next_left().next_below().next_below(),
                        pos.next_right().next_right().next_above(),
                        pos.next_right().next_above().next_above(),
                        pos.next_right().next_right().next_below(),
                        pos.next_right().next_below().next_below(),
                    ] {
                        if p.is_on_board() && !board.has_ally_piece(p, ally_color) {
                            yield Move::Piece(pos, p)
                        }
                    }
                }
            }

            // result
            //     .into_iter()
            //     .filter(|x| match x {
            //         Move::Piece(from, to) => {
            //             if from.is_on_board() && to.is_on_board() {
            //                 board.is_legal_move(*x, color)
            //             } else {
            //                 false
            //             }
            //         }
            //         _ => board.is_legal_move(*x, color),
            //     })
            //     .collect::<Vec<Move>>()
        }
    }

    /// Verify that moving to a new position is a legal move.
    #[inline]
    pub(crate) fn is_legal_move(&self, new_pos: Position, board: &Board) -> bool {
        if board.has_ally_piece(new_pos, self.get_color()) || new_pos.is_off_board() {
            return false;
        }

        match *self {
            Self::Pawn(ally_color, pos) => {
                let up = pos.pawn_up(ally_color);
                let up_left = up.next_left();
                let up_right = up.next_right();

                (if let Some(en_passant) = board.get_en_passant() {
                    (en_passant == up_left || en_passant == up_right) && (new_pos == en_passant)
                } else {
                    false
                }) || (self.is_starting_pawn()
                    && board.has_no_piece(new_pos)
                    && board.has_no_piece(up)
                    && new_pos == up.pawn_up(ally_color))
                    || (board.has_enemy_piece(new_pos, ally_color) && new_pos == up_left)
                    || (board.has_enemy_piece(new_pos, ally_color) && new_pos == up_right)
                    || (board.has_no_piece(new_pos) && new_pos == up)
            }

            Self::King(_, pos) => pos.is_adjacent_to(new_pos),

            Self::Queen(_, pos) => {
                if pos.is_orthogonal_to(new_pos) {
                    let mut traveling = pos.orthogonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else if pos.is_diagonal_to(new_pos) {
                    let mut traveling = pos.diagonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Rook(_, pos) => {
                if pos.is_orthogonal_to(new_pos) {
                    let mut traveling = pos.orthogonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Bishop(_, pos) => {
                if pos.is_diagonal_to(new_pos) {
                    let mut traveling = pos.diagonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Knight(_, pos) => pos.is_knight_move(new_pos),
        }
    }

    /// Verify that attacking a given square is a legal move.
    #[inline]
    pub(crate) fn is_legal_attack(&self, new_pos: Position, board: &Board) -> bool {
        if board.has_ally_piece(new_pos, self.get_color()) || new_pos.is_off_board() {
            return false;
        }

        match *self {
            Self::Pawn(ally_color, pos) => {
                let up = pos.pawn_up(ally_color);
                (if let Some(en_passant) = board.get_en_passant() {
                    (en_passant == up.next_left() || en_passant == up.next_right())
                        && (new_pos == en_passant)
                } else {
                    false
                }) || new_pos == up.next_left()
                    || new_pos == up.next_right()
            }

            Self::King(_, pos) => pos.is_adjacent_to(new_pos),

            Self::Queen(_, pos) => {
                if pos.is_orthogonal_to(new_pos) {
                    let mut traveling = pos.orthogonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else if pos.is_diagonal_to(new_pos) {
                    let mut traveling = pos.diagonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Rook(_, pos) => {
                if pos.is_orthogonal_to(new_pos) {
                    let mut traveling = pos.orthogonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Bishop(_, pos) => {
                if pos.is_diagonal_to(new_pos) {
                    let mut traveling = pos.diagonals_to(new_pos);
                    traveling.pop();

                    for pos in traveling {
                        if board.has_piece(pos) {
                            return false;
                        }
                    }
                    true
                } else {
                    false
                }
            }

            Self::Knight(_, pos) => pos.is_knight_move(new_pos),
        }
    }
}

'''
'''--- crates/chess-engine/src/position.rs ---
use super::Color;
use near_sdk::borsh::{BorshDeserialize, BorshSerialize};

pub const A1: Position = Position::new(0, 0);
pub const A2: Position = Position::new(1, 0);
pub const A3: Position = Position::new(2, 0);
pub const A4: Position = Position::new(3, 0);
pub const A5: Position = Position::new(4, 0);
pub const A6: Position = Position::new(5, 0);
pub const A7: Position = Position::new(6, 0);
pub const A8: Position = Position::new(7, 0);

pub const B1: Position = Position::new(0, 1);
pub const B2: Position = Position::new(1, 1);
pub const B3: Position = Position::new(2, 1);
pub const B4: Position = Position::new(3, 1);
pub const B5: Position = Position::new(4, 1);
pub const B6: Position = Position::new(5, 1);
pub const B7: Position = Position::new(6, 1);
pub const B8: Position = Position::new(7, 1);

pub const C1: Position = Position::new(0, 2);
pub const C2: Position = Position::new(1, 2);
pub const C3: Position = Position::new(2, 2);
pub const C4: Position = Position::new(3, 2);
pub const C5: Position = Position::new(4, 2);
pub const C6: Position = Position::new(5, 2);
pub const C7: Position = Position::new(6, 2);
pub const C8: Position = Position::new(7, 2);

pub const D1: Position = Position::new(0, 3);
pub const D2: Position = Position::new(1, 3);
pub const D3: Position = Position::new(2, 3);
pub const D4: Position = Position::new(3, 3);
pub const D5: Position = Position::new(4, 3);
pub const D6: Position = Position::new(5, 3);
pub const D7: Position = Position::new(6, 3);
pub const D8: Position = Position::new(7, 3);

pub const E1: Position = Position::new(0, 4);
pub const E2: Position = Position::new(1, 4);
pub const E3: Position = Position::new(2, 4);
pub const E4: Position = Position::new(3, 4);
pub const E5: Position = Position::new(4, 4);
pub const E6: Position = Position::new(5, 4);
pub const E7: Position = Position::new(6, 4);
pub const E8: Position = Position::new(7, 4);

pub const F1: Position = Position::new(0, 5);
pub const F2: Position = Position::new(1, 5);
pub const F3: Position = Position::new(2, 5);
pub const F4: Position = Position::new(3, 5);
pub const F5: Position = Position::new(4, 5);
pub const F6: Position = Position::new(5, 5);
pub const F7: Position = Position::new(6, 5);
pub const F8: Position = Position::new(7, 5);

pub const G1: Position = Position::new(0, 6);
pub const G2: Position = Position::new(1, 6);
pub const G3: Position = Position::new(2, 6);
pub const G4: Position = Position::new(3, 6);
pub const G5: Position = Position::new(4, 6);
pub const G6: Position = Position::new(5, 6);
pub const G7: Position = Position::new(6, 6);
pub const G8: Position = Position::new(7, 6);

pub const H1: Position = Position::new(0, 7);
pub const H2: Position = Position::new(1, 7);
pub const H3: Position = Position::new(2, 7);
pub const H4: Position = Position::new(3, 7);
pub const H5: Position = Position::new(4, 7);
pub const H6: Position = Position::new(5, 7);
pub const H7: Position = Position::new(6, 7);
pub const H8: Position = Position::new(7, 7);

#[derive(Clone, Copy, Debug, PartialEq, Eq, PartialOrd, Ord, BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Position {
    row: i32,
    col: i32,
}

impl core::fmt::Display for Position {
    fn fmt(&self, f: &mut core::fmt::Formatter) -> Result<(), core::fmt::Error> {
        write!(
            f,
            "{}{}",
            match self.col {
                0 => 'a',
                1 => 'b',
                2 => 'c',
                3 => 'd',
                4 => 'e',
                5 => 'f',
                6 => 'g',
                7 => 'h',
                _ => '?',
            },
            self.row + 1
        )
    }
}

impl Position {
    /// Return the starting position for a given color's king.
    #[inline]
    pub const fn king_pos(color: Color) -> Self {
        match color {
            Color::White => Self::new(0, 4),
            Color::Black => Self::new(7, 4),
        }
    }

    /// Return the starting position for a given color's queen.
    #[inline]
    pub const fn queen_pos(color: Color) -> Self {
        match color {
            Color::White => Self::new(0, 3),
            Color::Black => Self::new(7, 3),
        }
    }

    /// Create a `Position` from its respective row or column number.
    /// The row and column numbers can be any of 0, 1, 2, 3, 4, 5, 6, or 7.
    ///
    /// Examples:
    /// - `A1 = Position::new(0, 0)`
    /// - `A8 = Position::new(7, 0)`
    /// - `H1 = Position::new(0, 7)`
    /// - `H8 = Position::new(7, 7)`
    #[inline]
    pub const fn new(row: i32, col: i32) -> Self {
        Self { row, col }
    }

    /// Parse a position from PGN. This simply just supports positions like
    /// `e4` and `D8`.
    pub fn pgn(s: &str) -> Result<Self, String> {
        let s = s.trim().to_lowercase();
        let col = s.chars().next().ok_or(format!("invalid pgn `{}`", s))?;
        let row = s
            .chars()
            .nth(1)
            .ok_or(format!("invalid pgn `{}`", s))?
            .to_string()
            .parse::<u32>()
            .map_err(|_| format!("invalid pgn `{}`", s))? as i32;
        let c = match col {
            'a' => 0,
            'b' => 1,
            'c' => 2,
            'd' => 3,
            'e' => 4,
            'f' => 5,
            'g' => 6,
            'h' => 7,
            _ => return Err(format!("invalid column character `{}`", col)),
        };

        if 1 <= row || row <= 8 {
            Ok(Self::new(row - 1, c))
        } else {
            Err(format!("invalid row number `{}`", row))
        }
    }

    /// Is this position a valid spot on the board?
    #[inline]
    pub fn is_on_board(&self) -> bool {
        !self.is_off_board()
    }

    /// Is this position NOT a valid spot on the board?
    #[inline]
    pub fn is_off_board(&self) -> bool {
        self.row < 0 || self.row > 7 || self.col < 0 || self.col > 7
    }

    /// Get the row number of the position.
    /// This can be any of 0, 1, 2, 3, 4, 5, 6, or 7.
    #[inline]
    pub fn get_row(&self) -> i32 {
        self.row
    }

    #[inline]
    pub fn get_col(&self) -> i32 {
        self.col
    }

    #[inline]
    fn add_row(&self, drow: i32) -> Self {
        let mut result = *self;
        result.row += drow;
        result
    }

    #[inline]
    fn add_col(&self, dcol: i32) -> Self {
        let mut result = *self;
        result.col += dcol;
        result
    }

    /// Is this position diagonal to another position?
    #[inline]
    pub fn is_diagonal_to(&self, other: Self) -> bool {
        // Algorithm for determining whether or not two squares are diagonal
        // https://math.stackexchange.com/questions/1194565/how-to-know-if-two-points-are-diagonally-aligned
        (self.col - other.col).abs() == (self.row - other.row).abs()
    }

    /// Get the diagonal distance between two positions
    #[inline]
    fn diagonal_distance(&self, other: Self) -> i32 {
        (self.col - other.col).abs()
    }

    /// Is this position orthogonal to another position?
    #[inline]
    pub fn is_orthogonal_to(&self, other: Self) -> bool {
        (self.col == other.col) || (self.row == other.row)
    }

    /// Get the orthogonal distance between two positions
    #[inline]
    fn orthogonal_distance(&self, other: Self) -> i32 {
        (self.col - other.col).abs() + (self.row - other.row).abs()
    }

    /// Is this position adjacent to another position?
    ///
    /// Adjacent positions have either:
    /// 1. A diagonal distance of one from each other
    /// 2. An orthogonal distance of one from each other
    #[inline]
    pub fn is_adjacent_to(&self, other: Self) -> bool {
        if self.is_orthogonal_to(other) {
            self.orthogonal_distance(other) == 1
        } else if self.is_diagonal_to(other) {
            self.diagonal_distance(other) == 1
        } else {
            false
        }
    }

    /// Is this position beneath another position on the board?
    /// Pieces "beneath" other pieces on the board have lower ranks.
    ///
    /// So, for example, A7 is below A8.
    #[inline]
    pub fn is_below(&self, other: Self) -> bool {
        self.row < other.row
    }

    /// Is this position above another position on the board?
    /// Pieces "above" other pieces on the board have higher ranks.
    ///
    /// So, for example, A8 is above A8.
    #[inline]
    pub fn is_above(&self, other: Self) -> bool {
        self.row > other.row
    }

    /// Is this position left of another position on the board?
    /// Pieces "left of" other pieces on the board have a lower
    /// lexigraphical column character.
    ///
    /// So, for example, A8 is left of B8.
    #[inline]
    pub fn is_left_of(&self, other: Self) -> bool {
        self.col < other.col
    }

    /// Is this position right of another position on the board?
    /// Pieces "right of" other pieces on the board have a higher
    /// lexigraphical column character.
    ///
    /// So, for example, B8 is right of A8.
    #[inline]
    pub fn is_right_of(&self, other: Self) -> bool {
        self.col > other.col
    }

    /// Get the position directly below this position.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn next_below(&self) -> Self {
        Self::new(self.row - 1, self.col)
    }

    /// Get the position directly above this position.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn next_above(&self) -> Self {
        Self::new(self.row + 1, self.col)
    }

    /// Get the next square upwards from a respective player's
    /// pawn.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn pawn_up(&self, ally_color: Color) -> Self {
        match ally_color {
            Color::White => self.next_above(),
            Color::Black => self.next_below(),
        }
    }

    /// Get the next square backwards from a respective player's
    /// pawn.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn pawn_back(&self, ally_color: Color) -> Self {
        self.pawn_up(!ally_color)
    }

    /// Get the position directly left of this position.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn next_left(&self) -> Self {
        Self::new(self.row, self.col - 1)
    }

    /// Get the position directly right of this position.
    ///
    /// IMPORTANT NOTE: This will NOT check for positions
    /// off of the board! You could easily get an invalid
    /// position if you do not check with the `is_on_board`
    /// method!
    #[inline]
    pub fn next_right(&self) -> Self {
        Self::new(self.row, self.col + 1)
    }

    /// Is this pawn on the starting rank for the respective player?
    #[inline]
    pub fn is_starting_pawn(&self, color: Color) -> bool {
        match color {
            Color::White => self.row == 1,
            Color::Black => self.row == 6,
        }
    }

    /// Is this the starting position of the kingside rook?
    #[inline]
    pub fn is_kingside_rook(&self) -> bool {
        (self.row == 0 || self.row == 7) && self.col == 7
    }

    /// Is this the starting position of the queenside rook?
    #[inline]
    pub fn is_queenside_rook(&self) -> bool {
        (self.row == 0 || self.row == 7) && self.col == 0
    }

    /// Get the list of positions from this position to another
    /// position, moving diagonally.
    ///
    /// This does _not_ include the `from` position, and includes the `to` position.
    pub fn diagonals_to(&self, to: Self) -> Vec<Self> {
        if !self.is_diagonal_to(to) {
            return Vec::new();
        }

        let col_step = if self.is_left_of(to) { 1 } else { -1 };

        let row_step = if self.is_below(to) { 1 } else { -1 };

        let mut acc = *self;
        let mut result = Vec::new();
        for _ in 0..self.diagonal_distance(to) {
            acc = acc.add_row(row_step).add_col(col_step);
            result.push(acc);
        }

        result
    }

    /// Get the list of positions from this position to another
    /// position, moving orthogonally.
    ///
    /// This does _not_ include the `from` position, and includes the `to` position.
    pub fn orthogonals_to(&self, to: Self) -> Vec<Self> {
        if !self.is_orthogonal_to(to) {
            return Vec::new();
        }
        let mut row_step = 0;
        let mut col_step = 0;
        if self.is_left_of(to) {
            col_step = 1;
        } else if self.is_right_of(to) {
            col_step = -1;
        } else if self.is_above(to) {
            row_step = -1;
        } else if self.is_below(to) {
            row_step = 1;
        }

        let mut acc = *self;
        let mut result = Vec::new();

        for _ in 0..self.orthogonal_distance(to) {
            acc = acc.add_row(row_step).add_col(col_step);
            result.push(acc);
        }

        result
    }

    #[inline]
    pub fn is_knight_move(&self, other: Self) -> bool {
        (self.row - other.row).abs() == 2 && (self.col - other.col).abs() == 1
            || (self.row - other.row).abs() == 1 && (self.col - other.col).abs() == 2
    }
}

'''
'''--- crates/chess-engine/src/square.rs ---
use super::Piece;
use near_sdk::borsh::{BorshDeserialize, BorshSerialize};

/// Essentially a container for a single piece on a board.
#[derive(
    Clone, Copy, Debug, Default, PartialEq, Eq, PartialOrd, Ord, BorshDeserialize, BorshSerialize,
)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Square {
    piece: Option<Piece>,
}

/// A square containing no piece
pub const EMPTY_SQUARE: Square = Square { piece: None };

impl From<Piece> for Square {
    fn from(piece: Piece) -> Self {
        Self { piece: Some(piece) }
    }
}

impl Square {
    /// Does this square contain a piece?
    #[inline]
    pub fn is_empty(&self) -> bool {
        self.piece.is_none()
    }

    /// Get the piece contained in this square.
    #[inline]
    pub fn get_piece(&self) -> Option<Piece> {
        self.piece
    }
}

'''
'''--- crates/chess-engine/src/util.rs ---
use crate::{Board, BoardBuilder, Color, Move, Piece, Position};

// generate FEN
// cannot calculate halfmove or fullmove based on board state,
// so they must be provided
pub fn format_fen(
    board: &Board,
    halfmove_clock: u8,
    fullmove_number: u8,
) -> Result<String, String> {
    let mut fen: Vec<String> = vec![];

    // placement
    let mut skip: i32 = 0;
    for row in (0..8).rev() {
        for col in 0..8 {
            let piece = board.get_piece(Position::new(row, col));
            match piece {
                None => {
                    skip += 1;
                }
                Some(piece) => {
                    if skip != 0 {
                        fen.push(skip.to_string());
                        skip = 0;
                    }
                    let ch = match piece {
                        Piece::King(_, _) => "k",
                        Piece::Knight(_, _) => "n",
                        Piece::Bishop(_, _) => "b",
                        Piece::Queen(_, _) => "q",
                        Piece::Pawn(_, _) => "p",
                        Piece::Rook(_, _) => "r",
                    }
                    .to_string();
                    fen.push(match piece.get_color() {
                        Color::White => ch.to_uppercase(),
                        Color::Black => ch,
                    });
                }
            };
        }
        if skip != 0 {
            fen.push(skip.to_string());
            skip = 0;
        }
        if row != 0 {
            fen.push("/".to_string());
        }
    }

    // active color
    fen.push(" ".to_string());
    fen.push(
        match board.get_turn_color() {
            Color::Black => "b",
            Color::White => "w",
        }
        .to_string(),
    );

    // castling
    fen.push(" ".to_string());
    let mut any_castling_rights = false;
    let white_castling_rights = board.get_castling_rights(Color::White);
    if white_castling_rights.can_kingside_castle() {
        fen.push("K".to_string());
        any_castling_rights = true;
    }
    if white_castling_rights.can_queenside_castle() {
        fen.push("Q".to_string());
        any_castling_rights = true
    }
    let black_castling_rights = board.get_castling_rights(Color::Black);
    if black_castling_rights.can_kingside_castle() {
        fen.push("k".to_string());
        any_castling_rights = true;
    }
    if black_castling_rights.can_queenside_castle() {
        fen.push("q".to_string());
        any_castling_rights = true
    }
    if !any_castling_rights {
        fen.push("-".to_string());
    }

    // en passant
    fen.push(" ".to_string());
    fen.push(match board.get_en_passant() {
        None => "-".to_string(),
        Some(position) => {
            let position = format!("{}", position);
            position
        }
    });

    // half move
    fen.push(" ".to_string());
    let halfmove_clock = halfmove_clock.to_string();
    fen.push(halfmove_clock);

    // full move
    fen.push(" ".to_string());
    let fullmove_number = fullmove_number.to_string();
    fen.push(fullmove_number);

    Ok(fen.join(""))
}

// parse Forsyth–Edwards Notation (FEN) board state
// more direct than replaying every move from PGN
pub fn parse_fen(fen: &str) -> Result<Board, String> {
    let mut parts = fen.split_ascii_whitespace();
    // fen has six parts
    let placement = parts.next();
    let active_color = parts.next();
    let castling = parts.next();
    let en_passant = parts.next();
    let _halfmove_clock = parts.next();
    let _fullmove_number = parts.next();
    // make sure all parts present
    if placement.is_none()
        || active_color.is_none()
        || castling.is_none()
        || en_passant.is_none()
        // ignore half move and full move for now
        // || halfmove_clock.is_none()
        // || fullmove_number.is_none()
        // extra part
        || parts.next().is_some()
    {
        return Err(String::from("wrong number of spaces"));
    }

    let mut builder = BoardBuilder::default();

    // parse placement (from white's perspective)
    let mut row: i32 = 7;
    let mut col: i32 = 0;
    for c in placement.unwrap().chars() {
        if (col > 7 && c != '/') || row < 0 {
            return Err(String::from("too many pieces"));
        }
        match c {
            x if x.is_alphabetic() => {
                let color = match x.is_uppercase() {
                    true => Color::White,
                    false => Color::Black,
                };
                // using as because row/col always in u8 range
                let position = Position::new(row, col);
                let piece = match x.to_ascii_lowercase() {
                    'b' => Piece::Bishop(color, position),
                    'n' => Piece::Knight(color, position),
                    'q' => Piece::Queen(color, position),
                    'k' => Piece::King(color, position),
                    'p' => Piece::Pawn(color, position),
                    'r' => Piece::Rook(color, position),
                    _ => {
                        return Err(String::from("unexpected piece"));
                    }
                };
                builder = builder.piece(piece);
                col += 1;
            }
            x if x.is_numeric() => {
                // skip squares
                let skip = x.to_digit(10).unwrap();
                col += skip as i32;
            }
            '/' => {
                if col != 8 {
                    return Err(String::from("incomplete row"));
                }
                col = 0;
                row -= 1;
            }
            _ => {}
        };
    }
    if col != 8 && row != 0 {
        return Err(String::from("incomplete position"));
    }

    builder = builder.set_turn(match active_color.unwrap() {
        "b" => Color::Black,
        "w" => Color::White,
        _ => {
            return Err(String::from("invalid active color"));
        }
    });

    match castling.unwrap() {
        "-" => {}
        castling => {
            for c in castling.chars() {
                let color = match c.is_uppercase() {
                    true => Color::White,
                    false => Color::Black,
                };
                match c.to_ascii_lowercase() {
                    'k' => {
                        builder = builder.enable_kingside_castle(color);
                    }
                    'q' => {
                        builder = builder.enable_queenside_castle(color);
                    }
                    _ => {
                        return Err(String::from("invalid castling side"));
                    }
                };
            }
        }
    };

    builder = builder.set_en_passant(match en_passant.unwrap() {
        "-" => None,
        some => match Position::pgn(some) {
            Ok(position) => Some(position),
            _ => {
                return Err(String::from("invalid en passant"));
            }
        },
    });

    Ok(builder.build())
}

// parse Short Algebraic Notation (SAN)
//
// move parsing is strict and should not include any +, #, etc characters.
//
// returns Err("ambiguous") if there are multiple possibilities
// e.g. "Nxc4" when there are N at e2 and d6
// the move should instead specify which N ("Nexc4" or "Ne2xc4")
//
// returns Err(InvalidMove) if there is a parse error or the move is
// not valid based on the current board position and turn.
pub fn parse_san_move(board: &Board, move_str: &str) -> Result<Move, String> {
    if move_str == "0-0" {
        return Ok(Move::KingSideCastle {});
    } else if move_str == "0-0-0" {
        return Ok(Move::QueenSideCastle {});
    }

    // parse in reverse
    let mut chars = move_str.chars();

    // optional pawn promotion
    let mut last = chars.next_back();
    let color = board.get_turn_color();
    let offboard = Position::new(-1, -1);
    let move_promotion = match last {
        Some('Q') => Some(Piece::Queen(color, offboard)),
        Some('K') => Some(Piece::King(color, offboard)),
        Some('N') => Some(Piece::Knight(color, offboard)),
        Some('B') => Some(Piece::Bishop(color, offboard)),
        Some('R') => Some(Piece::Rook(color, offboard)),
        _ => None,
    };
    if move_promotion.is_some() {
        // there is a move promotion, move to next char for parsing
        last = chars.next_back();
    }

    // to position
    let to: String = vec![chars.next_back().unwrap_or(' '), last.unwrap_or(' ')]
        .into_iter()
        .collect();
    let move_to = match Position::pgn(&to) {
        Ok(position) => position,
        Err(_) => {
            return Err("invalid to position".to_string());
        }
    };

    // chars is now source, with possible 'x' take at end
    let mut source_column = chars.next();

    let piece = match source_column {
        Some('B') => Piece::Bishop(color, offboard),
        Some('K') => Piece::King(color, offboard),
        Some('N') => Piece::Knight(color, offboard),
        Some('Q') => Piece::Queen(color, offboard),
        Some('R') => Piece::Rook(color, offboard),
        _ => Piece::Pawn(color, offboard),
    };
    if piece != Piece::Pawn(color, offboard) {
        // source_column was piece type, next char is source_column
        source_column = chars.next();
    }

    // filter by source column if specified
    let column = match source_column {
        Some('a') => Some(0),
        Some('b') => Some(1),
        Some('c') => Some(2),
        Some('d') => Some(3),
        Some('e') => Some(4),
        Some('f') => Some(5),
        Some('g') => Some(6),
        Some('h') => Some(7),
        // no column specified
        _ => None,
    };

    // if column not specified, may be row
    let mut source_row = source_column;
    if column.is_some() {
        // if column specified, row may be next char
        source_row = chars.next();
    }

    // filter by source row if specified
    let row = match source_row {
        Some('1') => Some(0),
        Some('2') => Some(1),
        Some('3') => Some(2),
        Some('4') => Some(3),
        Some('5') => Some(4),
        Some('6') => Some(5),
        Some('7') => Some(6),
        Some('8') => Some(7),
        _ => None,
    };

    // find moves that end on target square and are correct piece type
    let mut candidates = vec![];
    for legal_move in board.get_legal_moves() {
        if let Move::Piece(from, to) = legal_move {
            if move_to == to {
                if let Some(board_piece) = board.get_piece(from) {
                    // filter based on type
                    let pos = board_piece.get_pos();
                    if board_piece.get_name() == piece.get_name()
                        && (column.is_none() || column == Some(pos.get_col()))
                        && (row.is_none() || row == Some(pos.get_row()))
                    {
                        candidates.push(board_piece);
                    }
                }
            }
        }
    }

    match candidates.len() {
        0 => Err("no matching move".to_string()),
        1 => {
            let move_from = candidates[0].get_pos();
            match move_promotion {
                None => Ok(Move::Piece(move_from, move_to)),
                Some(piece) => Ok(Move::Promotion(move_from, move_to, piece)),
            }
        }
        _ => Err("ambiguous move".to_string()),
    }
}

#[cfg(test)]
mod tests {
    use alloc::string::{String, ToString};

    use super::*;
    use crate::board::*;
    use crate::position::*;
    use crate::{GameResult, Move};

    #[test]
    fn test_fen() {
        let start = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";

        let board = Board::default();
        assert_eq!(format_fen(&board, 0, 1).unwrap(), String::from(start));

        let board = parse_fen(start).unwrap();
        assert_eq!(format_fen(&board, 0, 1).unwrap(), String::from(start));

        let board = match board.play_move(Move::Piece(E2, E4)) {
            GameResult::Continuing(board) => board,
            _ => panic!("e4 failed"),
        };
        assert_eq!(
            format_fen(&board, 0, 1).unwrap(),
            "rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1".to_string()
        );

        let board = match board.play_move(Move::Piece(C7, C5)) {
            GameResult::Continuing(board) => board,
            _ => panic!("c5 failed"),
        };
        assert_eq!(
            format_fen(&board, 0, 2).unwrap(),
            "rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2".to_string()
        );

        let board = match board.play_move(Move::Piece(G1, F3)) {
            GameResult::Continuing(board) => board,
            _ => panic!("Nf3 failed"),
        };
        assert_eq!(
            format_fen(&board, 1, 2).unwrap(),
            "rnbqkbnr/pp1ppppp/8/2p5/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2".to_string()
        )
    }

    #[test]
    fn test_parse_san_move() {
        let mut board = Board::default();

        // try valid moves from starting position
        assert_eq!(
            parse_san_move(&board, "d4").expect("d4"),
            Move::Piece(D2, D4)
        );
        assert_eq!(
            parse_san_move(&board, "Nc3").expect("Nc3"),
            Move::Piece(B1, C3)
        );
        // not valid first move for white
        assert_eq!(
            parse_san_move(&board, "d5").expect_err("d5"),
            "no matching move".to_string()
        );

        // make first move
        board = match board.play_move(Move::Piece(E2, E4)) {
            GameResult::Continuing(board) => board,
            e => panic!("unexpected error: {:?}", e),
        };
        // valid first move for black
        assert_eq!(
            parse_san_move(&board, "d5").expect("d5"),
            Move::Piece(D7, D5)
        );
        // white moves not valid for black
        assert_eq!(
            parse_san_move(&board, "c4").expect_err("c4"),
            "no matching move".to_string()
        );
    }
}

'''
'''--- crates/chess-lib/Cargo.toml ---
[package]
name = "chess-lib"
version = "1.0.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[lib]
crate-type = ["rlib"]

[dependencies]
chess-engine = { path = "../chess-engine" }
maplit.workspace = true
near-contract-standards.workspace = true
near-sdk.workspace = true
primitive-types.workspace = true
serde_json.workspace = true
strum.workspace = true
thiserror.workspace = true
urlencoding.workspace = true

[features]
integration-test = []

'''
'''--- crates/chess-lib/src/account.rs ---
use crate::{
    Achievement, ChallengeId, ContractError, EloRating, GameId, Quest, StorageKey,
    MAX_OPEN_CHALLENGES, MAX_OPEN_GAMES,
};
use near_contract_standards::fungible_token::events::FtMint;
use near_sdk::{
    borsh::{self, BorshDeserialize, BorshSerialize},
    env,
    json_types::U128,
    serde::{Deserialize, Serialize},
    store::{Lazy, UnorderedMap, UnorderedSet},
    AccountId, NearSchema, NearToken,
};
use std::collections::VecDeque;

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub enum Account {
    V1(()),
    V2(()),
    V3(()),
    V4(()),
    V5(()),
    V6(()),
    V7(AccountV7),
    V8(AccountV8),
}

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct AccountV8 {
    near_amount: NearToken,
    account_id: AccountId,
    is_human: bool,
    points: u128,
    elo: Option<EloRating>,
    game_ids: UnorderedSet<GameId>,
    challenger: UnorderedSet<ChallengeId>,
    challenged: UnorderedSet<ChallengeId>,
    quest_cooldowns: Lazy<VecDeque<(u64, Quest)>>,
    achievements: Lazy<Vec<(u64, Achievement)>>,
    tokens: UnorderedMap<AccountId, u128>,
}

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct AccountV7 {
    near_amount: NearToken,
    account_id: AccountId,
    is_human: bool,
    points: u128,
    elo: Option<EloRating>,
    game_ids: UnorderedSet<GameId>,
    finished_games: UnorderedSet<GameId>,
    challenger: UnorderedSet<ChallengeId>,
    challenged: UnorderedSet<ChallengeId>,
    quest_cooldowns: Lazy<VecDeque<(u64, Quest)>>,
    achievements: Lazy<Vec<(u64, Achievement)>>,
    tokens: UnorderedMap<AccountId, u128>,
}

#[derive(Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct AccountInfo {
    pub near_amount: NearToken,
    pub is_human: bool,
    pub points: U128,
    #[serde(skip_serializing_if = "Option::is_none")]
    pub elo: Option<EloRating>,
}

impl From<&Account> for AccountInfo {
    fn from(account: &Account) -> Self {
        AccountInfo {
            near_amount: account.get_near_amount(),
            is_human: account.is_human(),
            points: account.get_points().into(),
            elo: account.get_elo(),
        }
    }
}

impl Account {
    pub fn new(account_id: AccountId, near_amount: NearToken, is_human: bool) -> Self {
        let id = env::sha256_array(account_id.as_bytes());
        let game_id_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountOrderIds)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        let challenger_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountChallenger)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        let challenged_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountChallenged)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        let quest_cooldown_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountQuestCooldowns)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        let achievement_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountAchievements)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        let tokens_key: Vec<u8> = [
            borsh::to_vec(&StorageKey::VAccounts).unwrap().as_slice(),
            &id,
            borsh::to_vec(&StorageKey::AccountTokens)
                .unwrap()
                .as_slice(),
        ]
        .concat();
        Self::V8(AccountV8 {
            account_id,
            near_amount,
            is_human,
            points: 0,
            elo: if is_human { Some(1_000.) } else { None },
            game_ids: UnorderedSet::new(game_id_key),
            challenger: UnorderedSet::new(challenger_key),
            challenged: UnorderedSet::new(challenged_key),
            quest_cooldowns: Lazy::new(quest_cooldown_key, VecDeque::new()),
            achievements: Lazy::new(achievement_key, Vec::new()),
            tokens: UnorderedMap::new(tokens_key),
        })
    }

    pub fn migrate(self) -> Self {
        if let Account::V7(AccountV7 {
            near_amount,
            account_id,
            is_human,
            elo,
            game_ids,
            challenger,
            challenged,
            points,
            quest_cooldowns,
            achievements,
            tokens,
            mut finished_games,
        }) = self
        {
            finished_games.clear();
            Account::V8(AccountV8 {
                near_amount,
                account_id,
                is_human,
                points,
                elo,
                game_ids,
                challenger,
                challenged,
                quest_cooldowns,
                achievements,
                tokens,
            })
        } else {
            self
        }
    }

    pub fn get_near_amount(&self) -> NearToken {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.near_amount
    }

    pub fn is_human(&self) -> bool {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.is_human
    }

    pub fn set_is_human(&mut self, is_human: bool) {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.is_human = is_human;
        if is_human {
            if account.elo.is_none() {
                account.elo = Some(1_000.);
            }
        } else {
            account.elo = None;
        }
    }

    pub fn get_elo(&self) -> Option<EloRating> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.elo
    }

    pub fn set_elo(&mut self, elo: EloRating) {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if account.is_human {
            account.elo = Some(elo);
        }
    }

    pub fn get_points(&self) -> u128 {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.points
    }

    pub fn get_quest_cooldowns(&self) -> &VecDeque<(u64, Quest)> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.quest_cooldowns.get()
    }

    pub fn get_achievements(&self) -> &Vec<(u64, Achievement)> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.achievements.get()
    }

    pub fn add_game_id(&mut self, game_id: GameId) -> Result<(), ContractError> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if account.game_ids.len() >= MAX_OPEN_GAMES {
            return Err(ContractError::MaxGamesReached);
        }
        account.game_ids.insert(game_id);
        Ok(())
    }

    pub fn remove_game_id(&mut self, game_id: &GameId) -> bool {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.game_ids.remove(game_id)
    }

    pub fn is_playing(&self) -> bool {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        !account.game_ids.is_empty()
    }

    pub fn get_game_ids(&self) -> Vec<GameId> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.game_ids.into_iter().cloned().collect()
    }

    pub fn get_tokens(&self) -> Vec<(AccountId, u128)> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account
            .tokens
            .iter()
            .map(|(a, b)| (a.clone(), *b))
            .collect()
    }

    pub fn get_token_amount(&self, token_id: &AccountId) -> u128 {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        *account.tokens.get(token_id).unwrap_or(&0)
    }

    pub fn add_token(&mut self, token_id: &AccountId, amount: u128) {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if !account.tokens.contains_key(token_id) {
            account.tokens.insert(token_id.clone(), 0);
        }
        *account.tokens.get_mut(token_id).unwrap() += amount;
    }

    pub fn withdraw_token(&mut self, token_id: &AccountId) -> u128 {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        account.tokens.remove(token_id).unwrap_or_default()
    }

    pub fn accept_challenge(
        &mut self,
        challenge_id: &ChallengeId,
        game_id: GameId,
        is_challenger: bool,
    ) -> Result<(), ContractError> {
        self.add_game_id(game_id)?;
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if is_challenger {
            account.challenger.remove(challenge_id);
        } else {
            account.challenged.remove(challenge_id);
        }
        Ok(())
    }

    pub fn reject_challenge(
        &mut self,
        challenge_id: &ChallengeId,
        is_challenger: bool,
    ) -> Result<(), ContractError> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if is_challenger {
            account.challenger.remove(challenge_id);
        } else {
            account.challenged.remove(challenge_id);
        }
        Ok(())
    }

    pub fn add_challenge(
        &mut self,
        challenge_id: ChallengeId,
        is_challenger: bool,
    ) -> Result<(), ContractError> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if account.challenger.len() + account.challenged.len() >= MAX_OPEN_CHALLENGES {
            return Err(ContractError::MaxChallengesReached);
        }
        if is_challenger {
            account.challenger.insert(challenge_id);
        } else {
            account.challenged.insert(challenge_id);
        }
        Ok(())
    }

    pub fn get_challenges(&self, is_challenger: bool) -> Vec<ChallengeId> {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        if is_challenger {
            account.challenger.iter().cloned().collect()
        } else {
            account.challenged.iter().cloned().collect()
        }
    }

    pub fn apply_quest(&mut self, quest: Quest) -> u128 {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        let current_timestamp = env::block_timestamp_ms();
        let quests = account.quest_cooldowns.get_mut();
        if let Some(index) = quests
            .iter()
            .enumerate()
            .find_map(|(index, (timestamp, cd))| {
                if timestamp + cd.get_cooldown() < current_timestamp {
                    Some(index)
                } else {
                    None
                }
            })
        {
            for _ in 0..index + 1 {
                quests.pop_front();
            }
        }
        let on_cooldown = quests.iter().any(|(_, cd)| cd == &quest);
        let mint_amount = quest.get_points(on_cooldown);
        account.points += mint_amount;
        FtMint {
            owner_id: &account.account_id,
            amount: mint_amount.into(),
            memo: Some(quest.as_ref()),
        }
        .emit();
        if !on_cooldown {
            quests.push_back((current_timestamp, quest));
        }
        mint_amount
    }

    pub fn apply_achievement(&mut self, achievement: Achievement) -> u128 {
        let Account::V8(account) = self else {
            panic!("migration required");
        };
        let achievements = account.achievements.get_mut();
        let has_achievement = achievements.iter().any(|(_, val)| val == &achievement);
        if !has_achievement {
            let mint_amount = achievement.get_points();
            account.points += mint_amount;
            FtMint {
                owner_id: &account.account_id,
                amount: mint_amount.into(),
                memo: Some(achievement.as_ref()),
            }
            .emit();
            achievements.push((env::block_timestamp_ms(), achievement));
            mint_amount
        } else {
            0
        }
    }
}

'''
'''--- crates/chess-lib/src/bet.rs ---
use crate::{Account, Chess, ContractError, StorageKey};
use near_sdk::{
    borsh::{self, BorshDeserialize, BorshSerialize},
    env,
    json_types::U128,
    serde::{Deserialize, Serialize},
    store::UnorderedMap,
    AccountId, NearSchema,
};
use std::{
    cmp::Ordering,
    collections::{HashMap, HashSet},
};

/// (player_0_id, player_1_id) sorted alphabetically
#[derive(BorshDeserialize, BorshSerialize, Clone, Hash, Ord, PartialOrd, PartialEq, Eq)]
#[borsh(crate = "near_sdk::borsh")]
pub struct BetId(AccountId, AccountId);

impl BetId {
    pub fn new(mut players: (AccountId, AccountId)) -> Result<Self, ContractError> {
        match players.0.cmp(&players.1) {
            Ordering::Less => {}
            Ordering::Greater => std::mem::swap(&mut players.0, &mut players.1),
            Ordering::Equal => return Err(ContractError::InvalidBetPlayers),
        }
        Ok(BetId(players.0, players.1))
    }

    pub fn get_storage_key(&self) -> [u8; 32] {
        env::sha256_array(&[self.0.as_bytes(), self.1.as_bytes()].concat())
    }
}

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Bets {
    pub is_locked: bool,
    /// token_id -> vec<(account_id, bet)>
    pub bets: UnorderedMap<AccountId, Vec<(AccountId, Bet)>>,
}

#[derive(Debug, Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct BetInfo {
    pub is_locked: bool,
    pub bets: HashMap<AccountId, Vec<(AccountId, BetView)>>,
}

impl From<&Bets> for BetInfo {
    fn from(bets: &Bets) -> Self {
        BetInfo {
            is_locked: bets.is_locked,
            bets: bets
                .bets
                .iter()
                .map(|(a, b)| {
                    (
                        a.clone(),
                        b.iter()
                            .map(|(id, bet)| (id.clone(), bet.clone().into()))
                            .collect(),
                    )
                })
                .collect::<HashMap<_, _>>(),
        }
    }
}

impl Bets {
    pub fn filter_valid(&mut self, accounts: &mut UnorderedMap<AccountId, Account>) {
        let mut to_remove = vec![];
        'outer: for (token_id, bets) in self.bets.iter() {
            let mut set = HashSet::new();
            for (_, bet) in bets.iter() {
                set.insert(bet.winner.clone());
                if set.len() == 2 {
                    continue 'outer;
                }
            }
            to_remove.push(token_id.clone());
        }
        for token_id in to_remove {
            let bets = self.bets.remove(&token_id).unwrap();
            for (account_id, bet) in bets {
                let account = accounts.get_mut(&account_id).unwrap();
                account.add_token(&token_id, bet.amount);
            }
        }
    }
}

#[derive(BorshDeserialize, BorshSerialize, Clone, Debug)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Bet {
    pub amount: u128,
    pub winner: AccountId,
}

#[derive(Deserialize, Serialize, Debug, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct BetView {
    pub amount: U128,
    pub winner: AccountId,
}

impl From<Bet> for BetView {
    fn from(bet: Bet) -> Self {
        BetView {
            amount: bet.amount.into(),
            winner: bet.winner,
        }
    }
}

// TODO `cancel_bet`
// TODO BOS notifications
// TODO message instead of poke?
impl Chess {
    pub fn internal_bet(
        &mut self,
        sender_id: AccountId,
        token_id: AccountId,
        amount: u128,
        players: (AccountId, AccountId),
        winner: AccountId,
    ) -> Result<(), ContractError> {
        let bet_id = BetId::new(players)?;
        if !self.bets.contains_key(&bet_id) {
            let id = bet_id.get_storage_key();
            let storage_key: Vec<u8> =
                [borsh::to_vec(&StorageKey::Bets).unwrap().as_slice(), &id].concat();
            let bet = Bets {
                is_locked: false,
                bets: UnorderedMap::new(storage_key),
            };
            self.bets.insert(bet_id.clone(), bet);
        }
        let bets = self.bets.get_mut(&bet_id).unwrap();
        if bets.is_locked {
            return Err(ContractError::BetLocked);
        }

        if let Some(bets) = bets.bets.get_mut(&token_id) {
            if let Ok(index) =
                bets.binary_search_by_key(&sender_id, |(account_id, _)| account_id.clone())
            {
                bets.get_mut(index).unwrap().1.amount += amount;
            } else {
                bets.push((sender_id, Bet { amount, winner }));
            }
        } else {
            bets.bets
                .insert(token_id, vec![(sender_id, Bet { amount, winner })]);
        }
        Ok(())
    }
}

'''
'''--- crates/chess-lib/src/challenge.rs ---
use crate::ContractError;
use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    env,
    json_types::U128,
    serde::{Deserialize, Serialize},
    AccountId, NearSchema,
};
use std::fmt;

pub type ChallengeId = String;

pub type Wager = Option<(AccountId, U128)>;

#[derive(
    BorshDeserialize,
    BorshSerialize,
    Clone,
    Debug,
    Eq,
    Ord,
    PartialEq,
    PartialOrd,
    Serialize,
    Deserialize,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub struct Challenge {
    id: String,
    challenger: AccountId,
    challenged: AccountId,
    wager: Wager,
}

pub fn create_challenge_id<T: fmt::Display>(challenger: T, challenged: T) -> String {
    format!("{}-vs-{}", challenger, challenged)
}

impl Challenge {
    pub fn new(challenger: AccountId, challenged: AccountId, wager: Wager) -> Self {
        Self {
            id: create_challenge_id(&challenger, &challenged),
            challenger,
            challenged,
            wager,
        }
    }

    pub fn check_accept(
        &self,
        challenged_id: &AccountId,
        paid_wager: &Wager,
    ) -> Result<Option<u128>, ContractError> {
        if challenged_id != &self.challenged {
            return Err(ContractError::WrongChallengedId);
        }
        if let (Some(paid_wager), Some(wager)) = (paid_wager, &self.wager) {
            if paid_wager.0 != wager.0 || paid_wager.1 < wager.1 {
                return Err(ContractError::PaidWager);
            }
            Ok(Some(paid_wager.1 .0 - wager.1 .0))
        } else {
            Ok(None)
        }
    }

    pub fn check_reject(&self, is_challenger: bool) -> Result<Wager, ContractError> {
        let sender_id = env::signer_account_id();
        if is_challenger && sender_id != self.challenger {
            return Err(ContractError::WrongChallengerId);
        } else if !is_challenger && sender_id != self.challenged {
            return Err(ContractError::WrongChallengedId);
        }
        Ok(self.wager.clone())
    }

    pub fn id(&self) -> &String {
        &self.id
    }

    pub fn get_challenger(&self) -> &AccountId {
        &self.challenger
    }

    pub fn get_challenged(&self) -> &AccountId {
        &self.challenged
    }
}

'''
'''--- crates/chess-lib/src/elo.rs ---
//! Elo algorithm implementation taken from <https://github.com/atomflunder/skillratings/>
//!
//! MIT License
//!
//! Copyright (c) 2022 atomflunder
//!
//! Permission is hereby granted, free of charge, to any person obtaining a copy
//! of this software and associated documentation files (the "Software"), to deal
//! in the Software without restriction, including without limitation the rights
//! to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//! copies of the Software, and to permit persons to whom the Software is
//! furnished to do so, subject to the following conditions:
//!
//! The above copyright notice and this permission notice shall be included in all
//! copies or substantial portions of the Software.
//!
//! THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//! IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//! FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//! AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//! LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//! OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//! SOFTWARE.

#[derive(Clone, Copy, Debug, PartialEq, Eq)]
pub enum EloOutcome {
    /// A win, from player_one's perspective.
    WIN,
    /// A loss, from player_one's perspective.
    LOSS,
    /// A draw.
    DRAW,
}

impl EloOutcome {
    #[must_use]
    /// Converts the outcome of the match into the points used in chess (1 = Win, 0.5 = Draw, 0 = Loss).
    ///
    /// Used internally in several rating algorithms, but some, like TrueSkill, have their own conversion.
    pub const fn to_chess_points(self) -> f64 {
        // Could set the visibility to crate level, but maybe someone has a use for it, who knows.
        match self {
            Self::WIN => 1.0,
            Self::DRAW => 0.5,
            Self::LOSS => 0.0,
        }
    }
}

/// The Elo rating of a player.
///
/// The default rating is 1000.0.
pub type EloRating = f64;

#[derive(Clone, Copy, Debug)]
/// Constants used in the Elo calculations.
pub struct EloConfig {
    /// The k-value is the maximum amount of rating change from a single match.
    /// In chess, k-values from 40 to 10 are used, with the most common being 32, 24, 16 or 10.
    /// The higher the number, the more volatile the ranking.  
    /// Here the default is 32.
    pub k: f64,
}

impl EloConfig {
    #[must_use]
    /// Initialise a new `EloConfig` with a k value of `32.0`.
    pub const fn new() -> Self {
        Self { k: 32.0 }
    }
}

#[must_use]
pub fn calculate_elo(
    player_one: EloRating,
    player_two: EloRating,
    outcome: &EloOutcome,
    config: &EloConfig,
) -> (EloRating, EloRating) {
    let (one_expected, two_expected) = expected_score(player_one, player_two);

    let outcome1 = outcome.to_chess_points();
    let outcome2 = 1.0 - outcome1;

    let one_new_elo = config.k.mul_add(outcome1 - one_expected, player_one);
    let two_new_elo = config.k.mul_add(outcome2 - two_expected, player_two);

    (one_new_elo, two_new_elo)
}

#[must_use]
pub fn expected_score(player_one: EloRating, player_two: EloRating) -> (f64, f64) {
    let exp_one = (1.0 + 10_f64.powf((player_two - player_one) / 400.0)).recip();
    let exp_two = 1.0 - exp_one;

    (exp_one, exp_two)
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_elo() {
        let (winner_new_elo, loser_new_elo) =
            calculate_elo(1_000., 1_000., &EloOutcome::WIN, &EloConfig::new());
        assert!((winner_new_elo - 1016.0).abs() < f64::EPSILON);
        assert!((loser_new_elo - 984.0).abs() < f64::EPSILON);

        let (winner_new_elo, loser_new_elo) =
            calculate_elo(1_000., 1_000., &EloOutcome::LOSS, &EloConfig::new());
        assert!((winner_new_elo - 984.0).abs() < f64::EPSILON);
        assert!((loser_new_elo - 1016.0).abs() < f64::EPSILON);

        let (winner_new_elo, loser_new_elo) =
            calculate_elo(1_000., 1_000., &EloOutcome::DRAW, &EloConfig::new());
        assert!((winner_new_elo - 1000.0).abs() < f64::EPSILON);
        assert!((loser_new_elo - 1000.0).abs() < f64::EPSILON);

        let (winner_new_elo, loser_new_elo) =
            calculate_elo(500., 1_500., &EloOutcome::WIN, &EloConfig::new());
        assert!((winner_new_elo.round() - 532.0).abs() < f64::EPSILON);
        assert!((loser_new_elo.round() - 1468.0).abs() < f64::EPSILON);
    }

    #[test]
    fn test_expected_score() {
        let player_one = 1_000.;
        let player_two = 1_000.;

        let (winner_expected, loser_expected) = expected_score(player_one, player_two);

        assert!((winner_expected - 0.5).abs() < f64::EPSILON);
        assert!((loser_expected - 0.5).abs() < f64::EPSILON);

        let player_one = 2251.;
        let player_two = 1934.;

        let (winner_expected, loser_expected) = expected_score(player_one, player_two);

        assert!(((winner_expected * 100.0).round() - 86.0).abs() < f64::EPSILON);
        assert!(((loser_expected * 100.0).round() - 14.0).abs() < f64::EPSILON);

        assert!((winner_expected + loser_expected - 1.0).abs() < f64::EPSILON);
    }

    #[test]
    fn test_misc_stuff() {
        let player_one = 1_000.;
        let config = EloConfig::new();

        assert_eq!(player_one, player_one.clone());
        assert!((config.k - config.k).abs() < f64::EPSILON);

        assert!(!format!("{player_one:?}").is_empty());
        assert!(!format!("{config:?}").is_empty());

        assert_eq!(player_one, 1000.);
    }
}

'''
'''--- crates/chess-lib/src/error.rs ---
use near_sdk::{borsh::BorshSerialize, AccountId, FunctionError};
use thiserror::Error;

use crate::ChallengeId;

#[derive(BorshSerialize, Debug, Error, FunctionError)]
#[borsh(crate = "near_sdk::borsh")]
pub enum ContractError {
    #[error("Contract already initialized")]
    AlreadyInitilized,
    #[error("Account {} not registered", _0)]
    AccountNotRegistered(AccountId),
    #[error("Account is playing and cannot be unregistered")]
    AccountIsPlaying,
    #[error("Maximum amount of open games reached")]
    MaxGamesReached,
    #[error("Maximum amount of open challenges reached")]
    MaxChallengesReached,
    #[error("Game does not exist")]
    GameNotExists,
    #[error("Cannot parse move {}", _0)]
    MoveParse(String),
    #[error("Illegal move")]
    IllegalMove,
    #[error("It is not your turn")]
    NotYourTurn,
    #[error("You are not a player from this game")]
    NotPlaying,
    #[error("Not enough NEAR deposit. Required: {}, actual: {}", _0, _1)]
    NotEnoughDeposit(u128, u128),
    #[error("Operation not supported")]
    OperationNotSupported,
    #[error("Unable to deserialize message")]
    Deserialize,
    #[error("Challenge with ID {} does not exist", _0)]
    ChallengeNotExists(ChallengeId),
    #[error("Only the challenger wallet ID can reject a challenge")]
    WrongChallengerId,
    #[error("Only the challenged wallet ID can accept or reject a challenge")]
    WrongChallengedId,
    #[error("Challenged wallet did not pay proper wager to accept challenge")]
    PaidWager,
    #[error("Received token not on token whitelist")]
    TokenNoWhitelist,
    #[error("Challenger and challenged wallet ID can't be the same")]
    SelfChallenge,
    #[error("Challenge alread exists")]
    ChallengeExists,
    #[error("Game not yet cancellable. You still need to wait {} blocks", _0)]
    GameNotCancellable(u64),
    #[error("Game can only be cancelled, if it's not your turn")]
    CancelOnOpponentsTurn,
    #[error("Bet does not exist")]
    BetNotExists,
    #[error("Invalid bet. Player accounts must not be the same")]
    InvalidBetPlayers,
    #[error("Betting is locked for this player pair as long as game is ongoing")]
    BetLocked,
}

'''
'''--- crates/chess-lib/src/event.rs ---
use crate::{Challenge, ChallengeId, GameId, GameOutcome, MoveStr, Player};
use chess_engine::Color;
use near_sdk::{near_bindgen, AccountId};

#[near_bindgen(event_json(standard = "chess-game"))]
#[derive(Debug)]
pub enum ChessEvent {
    #[event_version("1.0.0")]
    Challenge(Challenge),
    #[event_version("1.0.0")]
    AcceptChallenge {
        challenge_id: ChallengeId,
        game_id: GameId,
    },
    #[event_version("1.0.0")]
    RejectChallenge { challenge_id: ChallengeId },
    #[event_version("1.0.0")]
    CreateGame {
        game_id: GameId,
        white: Player,
        black: Player,
        board: [String; 8],
    },
    #[event_version("1.0.0")]
    PlayMove {
        game_id: GameId,
        color: Color,
        mv: MoveStr,
        board: [String; 8],
        outcome: Option<GameOutcome>,
    },
    #[event_version("1.0.0")]
    ResignGame {
        game_id: GameId,
        resigner: Color,
        outcome: GameOutcome,
    },
    #[event_version("1.0.0")]
    CancelGame {
        game_id: GameId,
        cancelled_by: AccountId,
    },
}

'''
'''--- crates/chess-lib/src/ft_receiver.rs ---
use crate::{ChallengeId, Chess, ChessExt, ContractError};
use near_contract_standards::fungible_token::receiver::FungibleTokenReceiver;
use near_sdk::{
    env,
    json_types::U128,
    near_bindgen, require,
    serde::{Deserialize, Serialize},
    AccountId, PromiseOrValue,
};

#[derive(Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
pub enum FtReceiverMsg {
    Challenge(ChallengeMsg),
    AcceptChallenge(AcceptChallengeMsg),
    Bet(BetMsg),
}

#[derive(Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
pub struct ChallengeMsg {
    pub challenged_id: AccountId,
}

#[derive(Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
pub struct AcceptChallengeMsg {
    pub challenge_id: ChallengeId,
}

#[derive(Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
pub struct BetMsg {
    pub players: (AccountId, AccountId),
    pub winner: AccountId,
}

#[near_bindgen]
impl FungibleTokenReceiver for Chess {
    fn ft_on_transfer(
        &mut self,
        sender_id: AccountId,
        amount: U128,
        msg: String,
    ) -> PromiseOrValue<U128> {
        match self.internal_ft_on_transfer(sender_id, amount, msg) {
            Ok(res) => res,
            Err(err) => {
                panic!("{}", err);
            }
        }
    }
}
impl Chess {
    fn internal_ft_on_transfer(
        &mut self,
        sender_id: AccountId,
        amount: U128,
        msg: String,
    ) -> Result<PromiseOrValue<U128>, ContractError> {
        require!(self.is_running, "Contract is paused");
        let msg = serde_json::from_str(&msg).map_err(|_| ContractError::Deserialize)?;
        let token_id = env::predecessor_account_id();
        if !self.token_whitelist.contains(&token_id) {
            return Err(ContractError::TokenNoWhitelist);
        }

        let refund = match msg {
            FtReceiverMsg::Challenge(ChallengeMsg { challenged_id }) => {
                let challenger_id = sender_id;
                self.internal_challenge(challenger_id, challenged_id, Some((token_id, amount)))?;
                None
            }
            FtReceiverMsg::AcceptChallenge(AcceptChallengeMsg { challenge_id }) => {
                let challenged_id = sender_id;
                self.internal_accept_challenge(
                    challenged_id,
                    challenge_id,
                    Some((token_id, amount)),
                )?
                .1
            }
            FtReceiverMsg::Bet(BetMsg { players, winner }) => {
                self.internal_bet(sender_id, token_id, amount.0, players, winner)?;
                None
            }
        };

        Ok(PromiseOrValue::Value(refund.unwrap_or_default().into()))
    }
}

'''
'''--- crates/chess-lib/src/game.rs ---
mod old;

use old::*;

use crate::{Account, Chess, ChessEvent, ContractError, Wager};
use chess_engine::{Board, Color, GameResult, Move, Piece, Position};
use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    env,
    serde::{Deserialize, Serialize},
    AccountId, NearSchema,
};

/// Unique game ID, which consists of:
///
/// - block height
/// - wallet ID, e.g. "my-wallet.near"
/// - enemy wallet ID if player or empty if AI
#[derive(
    BorshDeserialize,
    BorshSerialize,
    Deserialize,
    Serialize,
    Clone,
    Debug,
    Hash,
    Ord,
    PartialOrd,
    PartialEq,
    Eq,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub struct GameId(pub u64, pub AccountId, pub Option<AccountId>);

#[derive(BorshDeserialize, BorshSerialize, Clone, Debug, Serialize, Deserialize, NearSchema)]
#[serde(crate = "near_sdk::serde", tag = "type", content = "value")]
#[borsh(crate = "near_sdk::borsh")]
pub enum Player {
    Human(AccountId),
    Ai(Difficulty),
}

#[derive(BorshDeserialize, BorshSerialize, Serialize, Deserialize)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub enum PlayerOld {
    Human(AccountId),
    Ai(Difficulty),
}

impl Player {
    pub fn get_account_id(&self) -> Option<AccountId> {
        match self {
            Player::Human(account_id) => Some(account_id.clone()),
            Player::Ai(_) => None,
        }
    }

    pub fn as_account_mut<'a>(&self, chess: &'a mut Chess) -> Option<&'a mut Account> {
        match self {
            Player::Human(account_id) => Some(chess.accounts.get_mut(account_id).unwrap()),
            Player::Ai(_) => None,
        }
    }

    pub fn is_human(&self) -> bool {
        matches!(self, Self::Human(_))
    }
}

/// AI difficulty setting.
///
/// The AI uses the [Minimax algorithm, along with Alpha-Beta pruning](https://github.com/Tarnadas/chess-engine#how-does-it-work)
/// The higher the difficulty the more moves will be calculated in advance.
///
/// Please be aware, that gas usage increases on higher difficulties:
/// - Easy: ~8TGas
/// - Medium: ~30TGas
/// - Hard: ~110TGas
#[derive(BorshDeserialize, BorshSerialize, Clone, Debug, Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]

pub enum Difficulty {
    Easy,
    Medium,
    Hard,
}

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub enum Game {
    V1(()),
    V2(()),
    V3(GameV3),
    V4(GameV4),
}

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct GameV4 {
    game_id: GameId,
    white: Player,
    black: Player,
    board: Board,
    wager: Wager,
    last_move_block_height: u64,
    has_bets: bool,
}

#[derive(Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct GameInfo {
    pub white: Player,
    pub black: Player,
    pub turn_color: Color,
    pub last_block_height: u64,
    pub has_bets: bool,
}

#[derive(
    BorshDeserialize,
    BorshSerialize,
    Clone,
    Debug,
    Deserialize,
    Serialize,
    PartialEq,
    Eq,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde", tag = "result", content = "color")]
#[borsh(crate = "near_sdk::borsh")]
pub enum GameOutcome {
    Victory(Color),
    Stalemate,
}

impl Game {
    pub fn new(white: Player, black: Player, wager: Wager, has_bets: bool) -> Self {
        let block_height = env::block_height();
        let game_id = GameId(
            block_height,
            white.get_account_id().unwrap(),
            black.get_account_id(),
        );
        Game::V4(GameV4 {
            game_id,
            white,
            black,
            board: Board::default(),
            wager,
            last_move_block_height: env::block_height(),
            has_bets,
        })
    }

    pub fn migrate(self) -> Self {
        if let Self::V3(GameV3 {
            game_id,
            white,
            black,
            board,
            last_move_block_height,
            wager,
        }) = self
        {
            Self::V4(GameV4 {
                game_id,
                white,
                black,
                board,
                wager,
                last_move_block_height,
                has_bets: false,
            })
        } else {
            self
        }
    }

    pub fn get_game_id(&self) -> &GameId {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        &game.game_id
    }

    pub fn get_white(&self) -> &Player {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        &game.white
    }

    pub fn get_black(&self) -> &Player {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        &game.black
    }

    pub fn get_board(&self) -> &Board {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        &game.board
    }

    pub fn get_wager(&self) -> &Wager {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        &game.wager
    }

    pub fn get_last_block_height(&self) -> u64 {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        game.last_move_block_height
    }

    pub fn is_turn(&self, account_id: &AccountId) -> bool {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        let player = match game.board.get_turn_color() {
            Color::White => &game.white,
            Color::Black => &game.black,
        };
        if let Player::Human(id) = player {
            id == account_id
        } else {
            false
        }
    }

    pub fn is_player(&self, account_id: &AccountId) -> bool {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        if let Player::Human(id) = &game.white {
            if id == account_id {
                return true;
            }
        }
        if let Player::Human(id) = &game.black {
            if id == account_id {
                return true;
            }
        }
        false
    }

    pub fn has_bets(&self) -> bool {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        game.has_bets
    }

    #[allow(clippy::type_complexity)]
    pub fn play_move(
        &mut self,
        mv: Move,
    ) -> Result<(Option<(GameOutcome, [String; 8])>, Color), ContractError> {
        let Game::V4(game) = self else {
            panic!("migration required")
        };

        let turn_color = game.board.get_turn_color();
        let (outcome, board_state, board) = match game.board.play_move(mv) {
            GameResult::Continuing(board) => {
                game.board = board;
                (None, Self::_get_board_state(&board), Some(board))
            }
            GameResult::Victory(color) => {
                let board_state = Self::_get_board_state(&game.board.apply_eval_move(mv));
                (Some(GameOutcome::Victory(color)), board_state, None)
            }
            GameResult::Stalemate => {
                let board_state = Self::_get_board_state(&game.board.apply_eval_move(mv));
                (Some(GameOutcome::Stalemate), board_state, None)
            }
            GameResult::IllegalMove(_) => return Err(ContractError::IllegalMove),
        };
        let event = ChessEvent::PlayMove {
            game_id: game.game_id.clone(),
            color: turn_color,
            mv: mv.to_string(),
            board: board_state.clone(),
            outcome: outcome.clone(),
        };
        event.emit();

        let mut outcome_with_board = outcome.map(|outcome| (outcome, board_state));
        if let (Player::Ai(difficulty), Some(board)) = (&game.black, board) {
            let depths = match difficulty {
                Difficulty::Easy => vec![24],
                Difficulty::Medium => vec![20, 16],
                Difficulty::Hard => vec![16, 12, 8],
            };

            let turn_color = game.board.get_turn_color();
            let (ai_mv, _, _) = board.get_next_move(&depths, env::random_seed_array());
            let (outcome, board_state) = match board.play_move(ai_mv) {
                GameResult::Continuing(board) => {
                    game.board = board;
                    (None, Self::_get_board_state(&board))
                }
                GameResult::Victory(color) => {
                    let board_state = Self::_get_board_state(&game.board.apply_eval_move(mv));
                    (Some(GameOutcome::Victory(color)), board_state)
                }
                GameResult::Stalemate => {
                    let board_state = Self::_get_board_state(&game.board.apply_eval_move(mv));
                    (Some(GameOutcome::Stalemate), board_state)
                }
                GameResult::IllegalMove(_) => return Err(ContractError::IllegalMove),
            };
            let event = ChessEvent::PlayMove {
                game_id: game.game_id.clone(),
                color: turn_color,
                mv: ai_mv.to_string(),
                board: board_state.clone(),
                outcome: outcome.clone(),
            };
            event.emit();

            outcome_with_board = outcome.map(|outcome| (outcome, board_state));
        }

        game.last_move_block_height = env::block_height();
        Ok((outcome_with_board, game.board.get_turn_color()))
    }

    pub fn get_board_state(&self) -> [String; 8] {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        Self::_get_board_state(&game.board)
    }

    pub fn _get_board_state(board: &Board) -> [String; 8] {
        (0..8)
            .map(|row| -> String {
                (0..8)
                    .map(move |col| -> char {
                        if let Some(piece) = board.get_piece(Position::new(row, col)) {
                            match piece {
                                Piece::King(Color::Black, _) => 'k',
                                Piece::King(Color::White, _) => 'K',
                                Piece::Queen(Color::Black, _) => 'q',
                                Piece::Queen(Color::White, _) => 'Q',
                                Piece::Rook(Color::Black, _) => 'r',
                                Piece::Rook(Color::White, _) => 'R',
                                Piece::Bishop(Color::Black, _) => 'b',
                                Piece::Bishop(Color::White, _) => 'B',
                                Piece::Knight(Color::Black, _) => 'n',
                                Piece::Knight(Color::White, _) => 'N',
                                Piece::Pawn(Color::Black, _) => 'p',
                                Piece::Pawn(Color::White, _) => 'P',
                            }
                        } else {
                            ' '
                        }
                    })
                    .collect()
            })
            .collect::<Vec<_>>()
            .try_into()
            .unwrap()
    }

    pub fn render_board(&self) -> String {
        let Game::V4(game) = self else {
            panic!("migration required")
        };
        (-1..8)
            .rev()
            .flat_map(|row| {
                (-1..9).map(move |col| -> char {
                    if col == -1 && row == -1 {
                        ' '
                    } else if col == -1 {
                        (b'1' + row as u8) as char
                    } else if col == 8 {
                        '\n'
                    } else if row == -1 {
                        (b'A' + col as u8) as char
                    } else if let Some(piece) = game.board.get_piece(Position::new(row, col)) {
                        match piece {
                            Piece::King(Color::Black, _) => '♚',
                            Piece::King(Color::White, _) => '♔',
                            Piece::Queen(Color::Black, _) => '♛',
                            Piece::Queen(Color::White, _) => '♕',
                            Piece::Rook(Color::Black, _) => '♜',
                            Piece::Rook(Color::White, _) => '♖',
                            Piece::Bishop(Color::Black, _) => '♝',
                            Piece::Bishop(Color::White, _) => '♗',
                            Piece::Knight(Color::Black, _) => '♞',
                            Piece::Knight(Color::White, _) => '♘',
                            Piece::Pawn(Color::Black, _) => '♟',
                            Piece::Pawn(Color::White, _) => '♙',
                        }
                    } else if (row + col) % 2 == 0 {
                        '⬜'
                    } else {
                        '⬛'
                    }
                })
            })
            .collect()
    }
}

'''
'''--- crates/chess-lib/src/game/old.rs ---
use crate::{GameId, Player, Wager};
use chess_engine::Board;
use near_sdk::borsh::{BorshDeserialize, BorshSerialize};

#[derive(BorshDeserialize, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub struct GameV3 {
    pub game_id: GameId,
    pub white: Player,
    pub black: Player,
    pub board: Board,
    pub wager: Wager,
    pub last_move_block_height: u64,
}

'''
'''--- crates/chess-lib/src/internal.rs ---
use crate::{
    calculate_elo, create_challenge_id, Account, Achievement, BetId, Challenge, ChallengeId, Chess,
    ChessEvent, ChessNotification, ContractError, Difficulty, EloConfig, EloOutcome, Game, GameId,
    GameOutcome, Player, Wager, ONE_YOCTO,
};
use chess_engine::Color;
use maplit::hashmap;
use near_contract_standards::fungible_token::core::ext_ft_core;
use near_sdk::{AccountId, NearToken};
use primitive_types::U128;
use std::{cmp, collections::HashMap, ops::Div};

impl Chess {
    pub(crate) fn internal_challenge(
        &mut self,
        challenger_id: AccountId,
        challenged_id: AccountId,
        wager: Wager,
    ) -> Result<(), ContractError> {
        let challenge = Challenge::new(challenger_id.clone(), challenged_id.clone(), wager);

        if self.challenges.contains_key(challenge.id())
            || self
                .challenges
                .contains_key(&create_challenge_id(&challenged_id, &challenger_id))
        {
            return Err(ContractError::ChallengeExists);
        }

        let challenger = self
            .accounts
            .get_mut(&challenger_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenger_id.clone()))?;
        challenger.add_challenge(challenge.id().clone(), true)?;

        let challenged = self
            .accounts
            .get_mut(&challenged_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenged_id.clone()))?;
        challenged.add_challenge(challenge.id().clone(), false)?;

        self.challenges
            .insert(challenge.id().clone(), challenge.clone());
        let challenge_id = challenge.id().clone();

        let event = ChessEvent::Challenge(challenge);
        event.emit();

        self.internal_send_notify(hashmap! {
            challenged_id =>  vec![ChessNotification::Challenged {
                challenge_id,
                challenger_id,
            }]
        });

        Ok(())
    }

    pub(crate) fn internal_accept_challenge(
        &mut self,
        challenged_id: AccountId,
        challenge_id: ChallengeId,
        paid_wager: Wager,
    ) -> Result<(GameId, Option<u128>), ContractError> {
        let challenge = self
            .challenges
            .remove(&challenge_id)
            .ok_or(ContractError::ChallengeNotExists(challenge_id.clone()))?;
        let refund = challenge.check_accept(&challenged_id, &paid_wager)?;

        let challenger_id = challenge.get_challenger();
        let players = (challenger_id.clone(), challenged_id.clone());
        let bet_id = BetId::new(players)?;
        let has_bets = if let Some(bets) = self.bets.get_mut(&bet_id) {
            bets.filter_valid(&mut self.accounts);
            bets.is_locked = true;
            !bets.bets.is_empty()
        } else {
            false
        };

        let game = Game::new(
            Player::Human(challenger_id.clone()),
            Player::Human(challenged_id.clone()),
            paid_wager,
            has_bets,
        );
        let game_id = game.get_game_id().clone();

        self.accounts
            .get_mut(&challenged_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenged_id.clone()))?
            .accept_challenge(&challenge_id, game_id.clone(), false)?;
        let challenger = self
            .accounts
            .get_mut(challenger_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenger_id.clone()))?;
        challenger.accept_challenge(&challenge_id, game_id.clone(), true)?;

        let event = ChessEvent::AcceptChallenge {
            challenge_id,
            game_id: game_id.clone(),
        };
        event.emit();
        let event = ChessEvent::CreateGame {
            game_id: game_id.clone(),
            white: game.get_white().clone(),
            black: game.get_black().clone(),
            board: game.get_board_state(),
        };
        event.emit();
        self.games.insert(game_id.clone(), game);

        self.internal_send_notify(hashmap! {
            challenger_id.clone() => vec![ChessNotification::AcceptedChallenge {
                game_id: game_id.clone(),
                challenged_id,
            }]
        });

        Ok((game_id, refund))
    }

    pub(crate) fn internal_handle_outcome(
        &mut self,
        game_id: GameId,
        outcome: &GameOutcome,
        notifications: &mut HashMap<AccountId, Vec<ChessNotification>>,
    ) {
        let game = self.games.remove(&game_id).unwrap();
        if let Some(account) = game.get_white().as_account_mut(self) {
            account.remove_game_id(&game_id);
        }
        if let Some(account) = game.get_black().as_account_mut(self) {
            account.remove_game_id(&game_id);
        }

        if game.get_black().is_human() {
            self.internal_calculate_elo(&game, outcome);
        }

        if let GameOutcome::Victory(color) = outcome {
            let (winner, looser) = match color {
                Color::White => (game.get_white(), game.get_black()),
                Color::Black => (game.get_black(), game.get_white()),
            };
            if winner.is_human() {
                if let Some(achievement) = match looser {
                    Player::Human(account_id) => {
                        let looser_is_human = self.accounts.get(account_id).unwrap().is_human();
                        if looser_is_human {
                            Some(Achievement::FirstWinHuman)
                        } else {
                            None
                        }
                    }
                    Player::Ai(Difficulty::Easy) => Some(Achievement::FirstWinAiEasy),
                    Player::Ai(Difficulty::Medium) => Some(Achievement::FirstWinAiMedium),
                    Player::Ai(Difficulty::Hard) => Some(Achievement::FirstWinAiHard),
                } {
                    let points = winner
                        .as_account_mut(self)
                        .unwrap()
                        .apply_achievement(achievement);
                    self.points_total_supply += points;
                }
            }
        }

        if let Some((token_id, amount)) = game.get_wager().clone() {
            match outcome {
                GameOutcome::Victory(color) => {
                    let wager_amount = 2 * amount.0 - self.deduct_fees(&token_id, amount.0);
                    ext_ft_core::ext(token_id)
                        .with_attached_deposit(ONE_YOCTO)
                        .with_unused_gas_weight(1)
                        .ft_transfer(
                            match color {
                                Color::White => game.get_white().get_account_id().unwrap(),
                                Color::Black => game.get_black().get_account_id().unwrap(),
                            },
                            wager_amount.into(),
                            Some("wager win".to_string()),
                        );
                }
                GameOutcome::Stalemate => {
                    ext_ft_core::ext(token_id.clone())
                        .with_attached_deposit(ONE_YOCTO)
                        .with_unused_gas_weight(1)
                        .ft_transfer(
                            game.get_white().get_account_id().unwrap(),
                            amount,
                            Some("wager refund".to_string()),
                        )
                        .then(
                            ext_ft_core::ext(token_id)
                                .with_attached_deposit(ONE_YOCTO)
                                .with_unused_gas_weight(1)
                                .ft_transfer(
                                    game.get_black().get_account_id().unwrap(),
                                    amount,
                                    Some("wager refund".to_string()),
                                ),
                        );
                }
            }
        }

        if game.has_bets() {
            let players = (
                game.get_white().get_account_id().unwrap(),
                game.get_black().get_account_id().unwrap(),
            );
            let bet_id = BetId::new(players).unwrap();
            let all_bets = self.bets.remove(&bet_id).unwrap();
            match outcome {
                GameOutcome::Victory(color) => {
                    let winner_id = match color {
                        Color::White => game.get_white().get_account_id().unwrap(),

                        Color::Black => game.get_black().get_account_id().unwrap(),
                    };

                    // TODO Limit max amount of bets
                    for (token_id, bets) in all_bets.bets.iter() {
                        let mut total_winner = 0;
                        let mut total_looser = 0;
                        for (_, bet) in bets.iter() {
                            if winner_id == bet.winner {
                                total_winner += bet.amount;
                            } else {
                                total_looser += bet.amount;
                            }
                        }

                        total_looser -= self.deduct_fees(token_id, total_looser);

                        let mut total_win_amount = 0;

                        // pay out winners
                        for (account_id, bet) in bets.iter() {
                            if winner_id == bet.winner {
                                let mut win_amount = U128::from(total_looser)
                                    .full_mul(bet.amount.into())
                                    .div(total_winner)
                                    .as_u128();
                                win_amount = cmp::min(win_amount, bet.amount);
                                total_win_amount += win_amount;

                                self.accounts
                                    .get_mut(account_id)
                                    .unwrap()
                                    .add_token(token_id, win_amount + bet.amount);
                            }
                        }

                        // refund loosers, if `total_win_amount` is less than what loosers lost
                        let total_refund_amount = total_looser - total_win_amount;
                        if total_refund_amount > 0 {
                            for (account_id, bet) in bets.iter() {
                                if winner_id != bet.winner {
                                    let refund_amount = U128::from(total_refund_amount)
                                        .full_mul(bet.amount.into())
                                        .div(total_looser)
                                        .as_u128();

                                    self.accounts
                                        .get_mut(account_id)
                                        .unwrap()
                                        .add_token(token_id, refund_amount);
                                }
                            }
                        }
                    }
                }
                GameOutcome::Stalemate => {
                    for (token_id, bets) in all_bets.bets.iter() {
                        for (account_id, bet) in bets {
                            self.accounts
                                .get_mut(account_id)
                                .unwrap()
                                .add_token(token_id, bet.amount);
                        }
                    }
                }
            }
        }

        if let Player::Human(account_id) = game.get_white() {
            notifications.insert(
                account_id.clone(),
                vec![ChessNotification::Outcome {
                    game_id: game_id.clone(),
                    outcome: outcome.clone(),
                }],
            );
        }
        if let Player::Human(account_id) = game.get_black() {
            notifications.insert(
                account_id.clone(),
                vec![ChessNotification::Outcome {
                    game_id,
                    outcome: outcome.clone(),
                }],
            );
        }
    }

    pub(crate) fn internal_calculate_elo(&mut self, game: &Game, outcome: &GameOutcome) {
        if let (Some(Some(elo_white)), Some(Some(elo_black)), GameOutcome::Victory(color)) = (
            game.get_white()
                .as_account_mut(self)
                .map(|account| account.get_elo()),
            game.get_black()
                .as_account_mut(self)
                .map(|account| account.get_elo()),
            outcome,
        ) {
            let (new_elo_white, new_elo_black) = calculate_elo(
                elo_white,
                elo_black,
                match color {
                    Color::White => &EloOutcome::WIN,
                    Color::Black => &EloOutcome::LOSS,
                },
                &EloConfig::new(),
            );
            game.get_white()
                .as_account_mut(self)
                .unwrap()
                .set_elo(new_elo_white);
            game.get_black()
                .as_account_mut(self)
                .unwrap()
                .set_elo(new_elo_black);
        }
    }

    pub(crate) fn internal_get_account(
        &self,
        account_id: &AccountId,
    ) -> Result<&Account, ContractError> {
        self.accounts
            .get(account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))
    }

    pub(crate) fn internal_get_account_mut(
        &mut self,
        account_id: &AccountId,
    ) -> Result<&mut Account, ContractError> {
        self.accounts
            .get_mut(account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))
    }

    pub(crate) fn internal_register_account(
        &mut self,
        account_id: AccountId,
        amount: NearToken,
        is_human: bool,
    ) {
        let account = Account::new(account_id.clone(), amount, is_human);
        self.accounts.insert(account_id, account);
    }

    fn deduct_fees(&mut self, token_id: &AccountId, amount: u128) -> u128 {
        let fees = self.fees.get();
        let treasury_amount = U128::from(amount)
            .full_mul(fees.treasury.into())
            .div(10_000)
            .as_u128();
        if let Some(treasury) = self.treasury.get_mut(token_id) {
            *treasury += treasury_amount;
        } else {
            self.treasury.insert(token_id.clone(), treasury_amount);
        }

        let mut total_royalty = 0;
        fees.royalties
            .iter()
            .for_each(|(royalty_account, royalty_fee)| {
                let royalty_amount = U128::from(amount)
                    .full_mul((*royalty_fee).into())
                    .div(10_000)
                    .as_u128();
                total_royalty += royalty_amount;

                ext_ft_core::ext(token_id.clone())
                    .with_attached_deposit(ONE_YOCTO)
                    .with_unused_gas_weight(1)
                    .ft_transfer(royalty_account.clone(), royalty_amount.into(), None);
            });

        treasury_amount + total_royalty
    }
}

'''
'''--- crates/chess-lib/src/lib.rs ---
#![allow(dead_code, deprecated, clippy::enum_variant_names)]

mod account;
mod bet;
mod challenge;
mod elo;
mod error;
mod event;
mod ft_receiver;
mod game;
mod internal;
mod nada_bot;
mod points;
mod social;
mod storage;
mod view;

pub use account::*;
pub use bet::*;
pub use challenge::*;
pub use elo::*;
pub use error::*;
pub use event::*;
pub use ft_receiver::*;
pub use game::*;
pub use nada_bot::*;
pub use points::*;
pub use social::*;
pub use storage::*;

use chess_engine::{Color, Move};
use maplit::hashmap;
use near_contract_standards::fungible_token::core::ext_ft_core;
use near_sdk::{
    assert_one_yocto,
    borsh::{BorshDeserialize, BorshSerialize},
    env,
    json_types::U128,
    near_bindgen, require,
    serde::{Deserialize, Serialize},
    store::{Lazy, UnorderedMap},
    AccountId, BorshStorageKey, Gas, GasWeight, NearSchema, NearToken, PanicOnDefault,
    PromiseOrValue,
};
use std::collections::HashMap;

pub const MAX_OPEN_GAMES: u32 = 5;
pub const MAX_OPEN_CHALLENGES: u32 = 25;

#[cfg(not(feature = "integration-test"))]
pub const MIN_BLOCK_DIFF_CANCEL: u64 = 60 * 60 * 24 * 3; // ~3 days
#[cfg(feature = "integration-test")]
pub const MIN_BLOCK_DIFF_CANCEL: u64 = 100;

#[cfg(not(feature = "integration-test"))]
pub const MIN_BLOCK_DIFF_CLEANUP: u64 = 60 * 60 * 24 * 14; // ~14 days
#[cfg(feature = "integration-test")]
pub const MIN_BLOCK_DIFF_CLEANUP: u64 = 100;

pub const MAX_GAMES_CLEANUP: usize = 50;

pub const GAS_FOR_SOCIAL_NOTIFY_CALL: Gas = Gas::from_tgas(20);
pub const GAS_FOR_IS_HUMAN_CALL: Gas = Gas::from_tgas(12);

pub const NO_DEPOSIT: NearToken = NearToken::from_yoctonear(0);
pub const ONE_YOCTO: NearToken = NearToken::from_yoctonear(1);

#[derive(BorshStorageKey, BorshSerialize)]
#[borsh(crate = "near_sdk::borsh")]
pub enum StorageKey {
    Accounts,
    VAccounts,
    AccountOrderIds,
    AccountFinishedGames,
    AccountChallenger,
    AccountChallenged,
    Games,
    Challenges,
    RecentFinishedGames,
    RecentFinishedGamesV2,
    Treasury,
    Fees,
    TokenWhitelist,
    AccountQuestCooldowns,
    AccountAchievements,
    Bets,
    AccountTokens,
}

#[near_bindgen]
#[derive(BorshDeserialize, BorshSerialize, PanicOnDefault)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Chess {
    pub social_db: AccountId,
    pub nada_bot_id: AccountId,
    pub accounts: UnorderedMap<AccountId, Account>,
    pub games: UnorderedMap<GameId, Game>,
    pub challenges: UnorderedMap<ChallengeId, Challenge>,
    pub treasury: UnorderedMap<AccountId, u128>,
    pub fees: Lazy<Fees>,
    pub token_whitelist: Lazy<Vec<AccountId>>,
    pub bets: UnorderedMap<BetId, Bets>,
    pub is_running: bool,
    pub points_total_supply: u128,
}

#[derive(BorshDeserialize, BorshSerialize, PanicOnDefault)]
#[borsh(crate = "near_sdk::borsh")]
pub struct OldChess {
    pub social_db: AccountId,
    pub nada_bot_id: AccountId,
    pub accounts: UnorderedMap<AccountId, Account>,
    pub games: UnorderedMap<GameId, Game>,
    pub challenges: UnorderedMap<ChallengeId, Challenge>,
    pub treasury: UnorderedMap<AccountId, u128>,
    pub fees: Lazy<Fees>,
    pub token_whitelist: Lazy<Vec<AccountId>>,
    pub bets: UnorderedMap<BetId, Bets>,
    pub is_running: bool,
}

#[derive(
    Clone,
    Debug,
    PartialEq,
    Eq,
    BorshDeserialize,
    BorshSerialize,
    PanicOnDefault,
    Deserialize,
    Serialize,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub struct Fees {
    pub treasury: u16,
    pub royalties: Vec<(AccountId, u16)>,
}

/// A valid move will be parsed from a string.
///
/// Possible [valid formats](https://docs.rs/chess-engine/latest/chess_engine/enum.Move.html#method.parse) include:
/// - "e2e4"
/// - "e2 e4"
/// - "e2 to e4"
/// - "castle queenside"
/// - "castle kingside"
pub type MoveStr = String;

#[near_bindgen]
impl Chess {
    #[init]
    #[handle_result]
    pub fn new(social_db: AccountId, nada_bot_id: AccountId) -> Result<Self, ContractError> {
        if env::state_exists() {
            return Err(ContractError::AlreadyInitilized);
        }
        Ok(Self {
            social_db,
            nada_bot_id,
            accounts: UnorderedMap::new(StorageKey::VAccounts),
            games: UnorderedMap::new(StorageKey::Games),
            challenges: UnorderedMap::new(StorageKey::Challenges),
            treasury: UnorderedMap::new(StorageKey::Treasury),
            fees: Lazy::new(
                StorageKey::Fees,
                Fees {
                    treasury: 0,
                    royalties: Vec::new(),
                },
            ),
            token_whitelist: Lazy::new(StorageKey::TokenWhitelist, Vec::new()),
            bets: UnorderedMap::new(StorageKey::Bets),
            is_running: true,
            points_total_supply: 0,
        })
    }

    #[private]
    #[init(ignore_state)]
    pub fn migrate() -> Self {
        let chess: OldChess = env::state_read().unwrap();

        // let mut accounts = vec![];
        let mut points_total_supply = 0;
        for account in chess.accounts.values() {
            // accounts.push((account_id, account.migrate()));
            points_total_supply += account.get_points();
        }
        // for (account_id, account) in accounts {
        //     chess.accounts.insert(account_id, account);
        // }

        Self {
            social_db: chess.social_db,
            nada_bot_id: chess.nada_bot_id,
            accounts: chess.accounts,
            games: chess.games,
            challenges: chess.challenges,
            treasury: chess.treasury,
            fees: chess.fees,
            token_whitelist: chess.token_whitelist,
            bets: chess.bets,
            is_running: chess.is_running,
            points_total_supply,
        }
    }

    #[private]
    pub fn pause(&mut self) {
        self.is_running = false;
    }

    #[private]
    pub fn resume(&mut self) {
        self.is_running = true;
    }

    #[private]
    pub fn cleanup(&mut self) {
        let mut game_ids = Vec::with_capacity((self.games.len() / 2) as usize);
        for (game_id, game) in self.games.iter() {
            if env::block_height() - game.get_last_block_height() < MIN_BLOCK_DIFF_CLEANUP {
                continue;
            }
            if game.get_wager().is_some() {
                continue;
            }
            game_ids.push(game_id.clone());
            if game_ids.len() > MAX_GAMES_CLEANUP {
                break;
            }
        }
        for game_id in &game_ids {
            let game = self.games.remove(game_id).unwrap();
            if let Some(account) = game.get_white().as_account_mut(self) {
                account.remove_game_id(game_id);
            }
            if let Some(account) = game.get_black().as_account_mut(self) {
                account.remove_game_id(game_id);
            }

            let event = ChessEvent::CancelGame {
                game_id: game_id.clone(),
                cancelled_by: env::current_account_id(),
            };
            event.emit();
        }
    }

    #[private]
    pub fn set_fees(&mut self, treasury: u16, royalties: Vec<(AccountId, u16)>) {
        self.fees.set(Fees {
            treasury,
            royalties,
        });
    }

    #[private]
    pub fn set_wager_whitelist(&mut self, whitelist: Vec<AccountId>) {
        self.token_whitelist.set(whitelist);
    }

    #[payable]
    #[handle_result]
    pub fn register_token(
        &mut self,
        token_id: AccountId,
        amount: U128,
    ) -> Result<(), ContractError> {
        let fees = self.fees.get();

        let actual_deposit = env::attached_deposit().as_yoctonear();
        let expected_deposit = (1 + fees.royalties.len() as u128) * amount.0;
        if expected_deposit < actual_deposit {
            return Err(ContractError::NotEnoughDeposit(
                actual_deposit,
                expected_deposit,
            ));
        }

        let amount = NearToken::from_yoctonear(amount.0);
        let promise_index = env::promise_batch_create(&token_id);
        env::promise_batch_action_function_call_weight(
            promise_index,
            "storage_deposit",
            serde_json::json!({
                "account_id": env::current_account_id(),
                "registration_only": true
            })
            .to_string()
            .as_bytes(),
            amount,
            Gas::from_tgas(0),
            GasWeight::default(),
        );
        for (account_id, _) in &fees.royalties {
            env::promise_batch_action_function_call_weight(
                promise_index,
                "storage_deposit",
                serde_json::json!({
                    "account_id": account_id,
                    "registration_only": true
                })
                .to_string()
                .as_bytes(),
                amount,
                Gas::from_tgas(0),
                GasWeight::default(),
            );
        }
        env::promise_return(promise_index);

        Ok(())
    }

    /// Create a new game against an AI player.
    ///
    /// Returns game ID.
    /// There can only ever be 10 open games due to storage limitations.
    #[handle_result]
    pub fn create_ai_game(&mut self, difficulty: Difficulty) -> Result<GameId, ContractError> {
        require!(self.is_running, "Contract is paused");
        let account_id = env::signer_account_id();
        let account = self
            .accounts
            .get_mut(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;

        let game = Game::new(
            Player::Human(account_id),
            Player::Ai(difficulty),
            None,
            false,
        );
        let game_id = game.get_game_id().clone();

        account.add_game_id(game_id.clone())?;

        let event = ChessEvent::CreateGame {
            game_id: game_id.clone(),
            white: game.get_white().clone(),
            black: game.get_black().clone(),
            board: game.get_board_state(),
        };
        event.emit();
        self.games.insert(game_id.clone(), game);

        Ok(game_id)
    }

    /// Challenges a player to a non-money match.
    ///
    /// Returns game ID.
    /// There can only ever be 10 open games due to storage limitations.
    #[handle_result]
    pub fn challenge(&mut self, challenged_id: AccountId) -> Result<(), ContractError> {
        require!(self.is_running, "Contract is paused");
        let challenger_id = env::signer_account_id();
        if challenger_id == challenged_id {
            return Err(ContractError::SelfChallenge);
        }
        self.internal_challenge(challenger_id, challenged_id, None)
    }

    /// Accepts a challenge.
    ///
    /// Only works on non-money matches. Otherwise `ft_transfer_call` needs to be used for the
    /// respective token that is used as wager.
    #[handle_result]
    pub fn accept_challenge(&mut self, challenge_id: ChallengeId) -> Result<GameId, ContractError> {
        require!(self.is_running, "Contract is paused");
        let challenged_id = env::signer_account_id();
        Ok(self
            .internal_accept_challenge(challenged_id, challenge_id, None)?
            .0)
    }

    /// Rejects a challenge.
    #[handle_result]
    pub fn reject_challenge(
        &mut self,
        challenge_id: ChallengeId,
        is_challenger: bool,
    ) -> Result<PromiseOrValue<()>, ContractError> {
        require!(self.is_running, "Contract is paused");
        let challenge = self
            .challenges
            .remove(&challenge_id)
            .ok_or(ContractError::ChallengeNotExists(challenge_id.clone()))?;
        let wager = challenge.check_reject(is_challenger)?;

        let challenger_id = challenge.get_challenger();
        let challenger = self
            .accounts
            .get_mut(challenger_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenger_id.clone()))?;
        challenger.reject_challenge(&challenge_id, true)?;

        let challenged_id = challenge.get_challenged();
        let challenged = self
            .accounts
            .get_mut(challenged_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(challenged_id.clone()))?;
        challenged.reject_challenge(&challenge_id, false)?;

        let event = ChessEvent::RejectChallenge { challenge_id };
        event.emit();

        if !is_challenger {
            self.internal_send_notify(hashmap! {
                challenger_id.clone() => vec![ChessNotification::RejectedChallenge {
                    challenged_id: challenged_id.clone(),
                }]
            });
        }

        Ok(if let Some((token_id, amount)) = wager {
            PromiseOrValue::Promise(
                ext_ft_core::ext(token_id)
                    .with_attached_deposit(ONE_YOCTO)
                    .with_unused_gas_weight(1)
                    .ft_transfer(
                        challenger_id.clone(),
                        amount,
                        Some("wager refund".to_string()),
                    ),
            )
        } else {
            PromiseOrValue::Value(())
        })
    }

    /// Plays a move.
    ///
    /// Only works, if it is your turn. Panics otherwise.
    #[handle_result]
    pub fn play_move(
        &mut self,
        game_id: GameId,
        mv: MoveStr,
    ) -> Result<(Option<GameOutcome>, [String; 8]), ContractError> {
        require!(self.is_running, "Contract is paused");
        let account_id = env::signer_account_id();

        let mv = Move::parse(mv).map_err(ContractError::MoveParse)?;
        let game = self
            .games
            .get_mut(&game_id)
            .ok_or(ContractError::GameNotExists)?;
        let account = self
            .accounts
            .get_mut(&account_id)
            .ok_or(ContractError::AccountNotRegistered(account_id.clone()))?;
        let points = account.apply_quest(Quest::DailyPlayMove);
        self.points_total_supply += points;

        if !game.is_turn(&account_id) {
            return Err(ContractError::NotYourTurn);
        }

        let move_result = game.play_move(mv)?;

        let mut notifications = HashMap::new();
        let player = match move_result.1 {
            Color::White => game.get_white(),
            Color::Black => game.get_black(),
        };

        if game.get_black().is_human() {
            if let Player::Human(account_id) = player.clone() {
                notifications.insert(
                    account_id,
                    vec![ChessNotification::YourTurn {
                        game_id: game_id.clone(),
                    }],
                );
            }
        }

        let (outcome, board) = if let Some((outcome, board_state)) = move_result.0 {
            self.internal_handle_outcome(game_id, &outcome, &mut notifications);
            (Some(outcome), board_state)
        } else {
            (None, self.games.get(&game_id).unwrap().get_board_state())
        };

        self.internal_send_notify(notifications);

        Ok((outcome, board))
    }

    /// Resigns a game.
    ///
    /// Can be called even if it is not your turn.
    /// You might need to call this if a game is stuck and the AI refuses to work.
    /// You can also only have 10 open games due to storage limitations.
    #[handle_result]
    pub fn resign(&mut self, game_id: GameId) -> Result<GameOutcome, ContractError> {
        require!(self.is_running, "Contract is paused");
        let account_id = env::signer_account_id();
        let game = self
            .games
            .get_mut(&game_id)
            .ok_or(ContractError::GameNotExists)?;

        if !game.is_player(&account_id) {
            return Err(ContractError::NotPlaying);
        }

        let (outcome, resigner) = if let Player::Human(black_id) = game.get_black() {
            if black_id == &account_id {
                (GameOutcome::Victory(Color::White), Color::Black)
            } else {
                (GameOutcome::Victory(Color::Black), Color::White)
            }
        } else {
            (GameOutcome::Victory(Color::Black), Color::White)
        };

        let mut notifications = HashMap::new();
        self.internal_handle_outcome(game_id.clone(), &outcome, &mut notifications);
        self.internal_send_notify(notifications);

        let event = ChessEvent::ResignGame {
            game_id,
            resigner,
            outcome: outcome.clone(),
        };
        event.emit();

        Ok(outcome)
    }

    /// Cancel a game, resulting in no player winning or loosing.
    ///
    /// Players can only cancel a game, if the opponent is human
    /// and hasn't been doing a move for the last approx. 3days (measured in block height)
    #[handle_result]
    pub fn cancel(&mut self, game_id: GameId) -> Result<PromiseOrValue<()>, ContractError> {
        require!(self.is_running, "Contract is paused");
        let account_id = env::signer_account_id();
        let game = self
            .games
            .get_mut(&game_id)
            .ok_or(ContractError::GameNotExists)?;

        if !game.is_player(&account_id) {
            return Err(ContractError::NotPlaying);
        }
        if game.is_turn(&account_id) {
            return Err(ContractError::CancelOnOpponentsTurn);
        }
        if env::block_height() - game.get_last_block_height() < MIN_BLOCK_DIFF_CANCEL {
            return Err(ContractError::GameNotCancellable(
                MIN_BLOCK_DIFF_CANCEL + game.get_last_block_height() - env::block_height(),
            ));
        }

        let game = self.games.remove(&game_id).unwrap();
        if let Some(account) = game.get_white().as_account_mut(self) {
            account.remove_game_id(&game_id);
        }
        if let Some(account) = game.get_black().as_account_mut(self) {
            account.remove_game_id(&game_id);
        }

        let event = ChessEvent::CancelGame {
            game_id,
            cancelled_by: account_id,
        };
        event.emit();

        Ok(if let Some((token_id, amount)) = game.get_wager().clone() {
            PromiseOrValue::Promise(
                ext_ft_core::ext(token_id.clone())
                    .with_attached_deposit(ONE_YOCTO)
                    .with_unused_gas_weight(1)
                    .ft_transfer(
                        game.get_white().get_account_id().unwrap(),
                        amount,
                        Some("wager refund".to_string()),
                    )
                    .then(
                        ext_ft_core::ext(token_id)
                            .with_attached_deposit(ONE_YOCTO)
                            .with_unused_gas_weight(1)
                            .ft_transfer(
                                game.get_black().get_account_id().unwrap(),
                                amount,
                                Some("wager refund".to_string()),
                            ),
                    ),
            )
        } else {
            PromiseOrValue::Value(())
        })
    }

    #[handle_result]
    #[payable]
    pub fn withdraw_token(
        &mut self,
        token_id: AccountId,
    ) -> Result<PromiseOrValue<()>, ContractError> {
        require!(self.is_running, "Contract is paused");
        assert_one_yocto();

        let signer_id = env::signer_account_id();
        let account = self.internal_get_account_mut(&signer_id)?;
        let amount = account.withdraw_token(&token_id);

        Ok(if amount == 0 {
            PromiseOrValue::Value(())
        } else {
            PromiseOrValue::Promise(
                ext_ft_core::ext(token_id)
                    .with_unused_gas_weight(1)
                    .with_attached_deposit(NearToken::from_yoctonear(1))
                    .ft_transfer(signer_id, amount.into(), Some("withdraw".to_string())),
            )
        })
    }
}

'''
'''--- crates/chess-lib/src/nada_bot.rs ---
use crate::{Chess, ChessExt, ContractError, GAS_FOR_IS_HUMAN_CALL};
use near_sdk::{env, ext_contract, near_bindgen, require, AccountId, Promise};

#[ext_contract(ext_registry)]
pub trait ExtRegistry {
    fn is_human(&self, account_id: AccountId) -> bool;
}

#[near_bindgen]
impl Chess {
    pub fn update_is_human(&mut self, account_id: AccountId) -> Promise {
        require!(self.is_running, "Contract is paused");
        ext_registry::ext(self.nada_bot_id.clone())
            .with_static_gas(GAS_FOR_IS_HUMAN_CALL)
            .is_human(account_id.clone())
            .then(
                Self::ext(env::current_account_id())
                    .with_unused_gas_weight(1)
                    .on_update_is_human(account_id),
            )
    }

    #[private]
    #[handle_result]
    pub fn on_update_is_human(
        &mut self,
        account_id: AccountId,
        #[callback_unwrap] is_human: bool,
    ) -> Result<(), ContractError> {
        let account = self
            .accounts
            .get_mut(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        account.set_is_human(is_human);

        Ok(())
    }
}

'''
'''--- crates/chess-lib/src/points.rs ---
use crate::{Chess, ChessExt};
use near_contract_standards::fungible_token::{
    metadata::{FungibleTokenMetadata, FungibleTokenMetadataProvider},
    FungibleTokenCore,
};
use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    json_types::U128,
    near_bindgen,
    serde::{Deserialize, Serialize},
    AccountId, NearSchema, PromiseOrValue,
};
use strum::{AsRefStr, EnumIter};

#[derive(
    Debug,
    PartialEq,
    Eq,
    BorshDeserialize,
    BorshSerialize,
    Deserialize,
    Serialize,
    EnumIter,
    AsRefStr,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub enum Quest {
    DailyPlayMove,
    WeeklyWinHuman,
}

#[cfg(not(feature = "integration-test"))]
const DAYLIGHT_DIFF: u64 = 1_000 * 60 * 60 * 8;
#[cfg(not(feature = "integration-test"))]
const DAILY_COOLDOWN: u64 = 1_000 * 60 * 60 * 24 - DAYLIGHT_DIFF;
#[cfg(not(feature = "integration-test"))]
const WEEKLY_COOLDOWN: u64 = 1_000 * 60 * 60 * 24 * 7 - DAYLIGHT_DIFF;

impl Quest {
    pub fn get_points(&self, on_cooldown: bool) -> u128 {
        match (self, on_cooldown) {
            (Quest::DailyPlayMove, true) => 1_000,
            (Quest::DailyPlayMove, false) => 100_000,
            (Quest::WeeklyWinHuman, true) => 200_000,
            (Quest::WeeklyWinHuman, false) => 2_000_000,
        }
    }

    pub fn get_cooldown(&self) -> u64 {
        #[cfg(not(feature = "integration-test"))]
        match self {
            Quest::DailyPlayMove => DAILY_COOLDOWN,
            Quest::WeeklyWinHuman => WEEKLY_COOLDOWN,
        }
        #[cfg(feature = "integration-test")]
        match self {
            Quest::DailyPlayMove => 1_000 * 18,
            Quest::WeeklyWinHuman => 1_000 * 18 * 7,
        }
    }
}

#[derive(Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct QuestInfo {
    name: String,
    points: U128,
    points_on_cd: U128,
    cooldown: u64,
}

impl From<Quest> for QuestInfo {
    fn from(quest: Quest) -> Self {
        Self {
            name: quest.as_ref().to_string(),
            points: quest.get_points(false).into(),
            points_on_cd: quest.get_points(true).into(),
            cooldown: quest.get_cooldown(),
        }
    }
}

#[derive(
    Debug,
    PartialEq,
    Eq,
    BorshDeserialize,
    BorshSerialize,
    Deserialize,
    Serialize,
    EnumIter,
    AsRefStr,
    NearSchema,
)]
#[serde(crate = "near_sdk::serde")]
#[borsh(crate = "near_sdk::borsh")]
pub enum Achievement {
    FirstWinHuman,
    FirstWinAiEasy,
    FirstWinAiMedium,
    FirstWinAiHard,
}

impl Achievement {
    pub fn get_points(&self) -> u128 {
        match self {
            Achievement::FirstWinHuman => 8_000_000,
            Achievement::FirstWinAiEasy => 1_000_000,
            Achievement::FirstWinAiMedium => 2_500_000,
            Achievement::FirstWinAiHard => 5_000_000,
        }
    }
}

#[derive(Deserialize, Serialize, NearSchema)]
#[serde(crate = "near_sdk::serde")]
pub struct AchievementInfo {
    name: String,
    points: U128,
}

impl From<Achievement> for AchievementInfo {
    fn from(achievement: Achievement) -> Self {
        Self {
            name: achievement.as_ref().to_string(),
            points: achievement.get_points().into(),
        }
    }
}

#[near_bindgen]
impl FungibleTokenMetadataProvider for Chess {
    fn ft_metadata(&self) -> FungibleTokenMetadata {
        FungibleTokenMetadata {
            spec: "ft-1.0.0".to_string(),
            name: "Protocol Pawns Points".to_string(),
            symbol: "PPP".to_string(),
            icon: Some(DATA_IMAGE_WEBP_ICON.to_string()),
            reference: None,
            reference_hash: None,
            decimals: 6,
        }
    }
}

#[near_bindgen]
impl FungibleTokenCore for Chess {
    #[allow(unused)]
    fn ft_transfer(&mut self, receiver_id: AccountId, amount: U128, memo: Option<String>) {
        panic!("Protocol Pawns Points are not transferable");
    }

    #[allow(unused)]
    fn ft_transfer_call(
        &mut self,
        receiver_id: AccountId,
        amount: U128,
        memo: Option<String>,
        msg: String,
    ) -> PromiseOrValue<U128> {
        panic!("Protocol Pawns Points are not transferable");
    }

    fn ft_total_supply(&self) -> U128 {
        self.points_total_supply.into()
    }

    fn ft_balance_of(&self, account_id: AccountId) -> U128 {
        let account = self.accounts.get(&account_id).unwrap();
        account.get_points().into()
    }
}

const DATA_IMAGE_WEBP_ICON: &str = "data:image/webp;base64,UklGRmIcAABXRUJQVlA4WAoAAAAQAAAA/wAA/wAAQUxQSMoFAAABkNvaVh1YSLcL6qARCqERKqERJ4hG7IyIwAGSAf+Aezwz70kRAQuS3bYNygAEAdCpAtX5K+ZAImo/gVRaG7ssSzwwVxhjXA60xmgl6fSjDo+z+UpVvt8x5gZjvofxGKWkQ+FK1PiW2Itv763Yq3TWNK5EzOeV+tw35lcwnrlq2aRl2kKq/Lp1w9h2KeLXQFTlbfr22q8nxqVKS8SqxSz1d3vPo+BiuDQ08ftQlvbjN+H8+Ssbi6XyGA6jVay5EzV/byf5hlHaH2MzElfKmX/tNijuZ+4MaaRq/7GxCV8qhRsPfUsb2X3RReFG2yttEmXnRCE61+ZTiDiwqhNtQkUdxuk1eaJNqshDmTqKbKvNq1iaN6gMEpttzcRKzrGMMW3UlTZ50IxsmigWFHPQnFubzAS2W6D5rJkRnM1ITU5WsE5J82xu9lrjRtn1HMam1sgMYVODzOG2F2ZJmcCLqHbjC4sX0XzbG5zDkqClMHe4HCmGzpEZRH+kGJRV5JH3vCtBY3LJzyUe6QdkXeWATXQMySya0YgOZphG05ETHTrLaAWNpTOtjsOM0yiMnEjozDrq7kRC5cw+9eedeVJdiYSMmX3cpKC++xl2/slTPyKxZAi4dAMS5o7OdgHaf0DEyUnIDARlH4pIwFMPaXODMHx6OUHx6eME3GfBA36UuTbzc/ABJps4Z2AeE/i3baBMb2YEbqI6IyoTvV9xIa6+aEcGG3WZb8CZf7xVckALeRyDDpygdyTwEI8P/PMhwAuPEPxTiV3QISGKZxK8OCRI8UQCFY9LToDF5/OSE+Ds4+aEE7uQGSrKF3e2At0F67FCuO8NNfEtb+TOMqOFTd6qOeE6v1RzYjwGQ20bbelBF0UH5OZFG3LzvA26edqG3DwDhxncWXPDDBvdKLoAzz1emHOAPAjvUYM/zwo7adMDvKPpAd7R9GDvkBtuWOXNPY5gj7+QMMjBFHDIwRVHjxxC64m88iqe2B2Fxg5aCIsdrBAOO7iLSNA7n8HDRiUX9lQqgwel0YM26MFY9GDhg3PwwaMHDx/Chh42+LDih/zfP+KvO3/8sOGfd+Pf74J/v5v96YPFf9wF/3E3/Mdd0R93XyWBh43gn3eD/7wr/Ofd4T/v8gucd4s91SoF/vPu0V938QWuu8F/3RX86+7wX3eJ/rrbL3DdNf7r7rF3BCHw33fjA9x3pSLaYFcd6O+79AXuu/UB7rvWEOak/lPcd5Fw33fzLBj0fVcvm9DvPC43zEUX8qa7vu+4BjznAH/f/S/w3IUv8NwN5M5OEP7n7mAXXtBXeO4W6sThuzx3TwSUksALU+RtBaII3+a5u8JD7H8owErExacThP+5+5/kvQtw7oFd6Z23DgFZcmEewbcMO0S18nkI0Bis888gPsJ797xlwm4D9TCGIL7Ve1eRMBArLqQTUPeEMe6DC2ca6KGUoA/w3n1dyAKqODAncAf3AggJUslAPd+7c0Vwgt0ZY06uzrlPckjZ3y/A0b94roHCPcsP7G/ebJnnMVTGeRxim0ci7Hx8CQDeu32EQSEwzgpUj7rwgDUnHmeaq3rKPWehgUcK8gXuuB+CxR0xji55sBEti3cSpLHXXeJY60w5tesuGVjVvCULdf7BybKXY3xQxtiUE0tuRkzAzVcmA4Ob26ETUDUsL8Z0e3szbPlRSAVetDDdCtwqI2/WCYZrjIlf62g7I1g4LLWaQ5t43XXTB12vu27KIDd5paWapRdOregwcamhjyge1t0YJtYant1IwkyoBMPJWnTpsJswm8bSykMnUVKVp9W4UZRLU5BTRWNr3bV2ePdgJXcrzxV6ZPfkqtzE37qLzaDuoV56Mpvrbg6DhadgOF56tBtmVrY6I/ldeXZt0LZ/2hSsruOJ8XWXh9S379zCs4FKl3Fvu6bgjJbNTj4c66431oX1cbq0BmeNkmAWn09X6+431rkQ1jWl5nud1jUE5+zFuvtn6RNWUDggchYAABB2AJ0BKgABAAE+USSPRiOiP6SkMnq78AoJZ256S8MBZgH4AZ4BOAOZ18ALd+6T5mw8T3+X8m96U9THmAc7H/0egbzxPRZ/wN8N9ADpXf8z0gH//15z8Se5d4p+cL4r+4ZjT8jfyOGf5uai/rffuwAfpn9689mb7kB8FBQH/oH+O9H7/w/1/oP+tf/b7hH87/u3/d7F3ou/uqT3QvAePBlYZWs3B0PpV4v93/b2zAGysLswCql5/1s6ZJck2QYsGmu0Cb68H+FPSDiS7Lcl6EWhZHjRf0GFnCspVvp/KjzDVlLw7HdkOif9UcpXQnfXORN+4s9Tp4qjikZzEqd47bZnNqt4dqlkfsxg4GosO3jyEDFMAHKJQ/2rASIuXzlCpsqO0m8jfwvim8700/g3181bF/VdvU8W/vJox9HM2wlOO1mBHkbcsBMxZo3jpv5vu8/SFtsf3aNFs+EIQNtXEaqJuxC0krsJG6Z5WuR5lBndIknBBj/Zu4ufkIZ2vYeKRB0KDpncCP3l+QsjC9k6UFJaiXAYbUG2pxItfQ/RJOJOg+/OkCBLKRaau1jfcTeBrong9ttbe3+VAG7Dzu/txuFbkmw1v5xakbcVM5XfhdLEKVk0MoKtPmopbX/yWAIp9zh8uWB6Ia2uM7nJ8D1qJv2fCjelQTZozl3k7S7d+4uzqEhd7KQN98uZt4iASMflxw1wFY1o0UIDHAiaItbcCpjCcVE0E/Vv+iTeyttsGY8A2HBnvccGU96/VZwbhnlM2JDBjJIR7DQq9E+c9a6KzMfACP0prJ7enWOIGfPKjj6M/GgVNhtCthwXVwqAO0O+YWEhtv4JMIbEbvX+UY4di+EUTNr5Wu+G5hdsdmpkq4Pz191/7QYK7tEd9QSZxUHbakv6NUqrzdXWrEM4ChZDyyK2acD5EnnnCLIM1C5Fboi/vYcvXPZRlDVHC94ZaAMinSyRyvkBp4SnOdmQFLrcGn/P6TLGud7k7fE9TfhKqYR6X9jBXNiLBM4gtdZ4aFRnRyUqggdKZsaJYQRTESHEVQCotX5/s89UE/Uq/ODuoaC9u3nhX5ldJn+OkDZT0FFLtRZ6S/Ff81QKH0EIZR6LywAVEcRi4Cza5hip1AYXom0FyDP3ENSzvez94OO/+tpN+v7pPS+2QjBk0aawAzXT1nODLvL0i5h0eANtxeFxoQC/TKJvHWqJKFwBcrtVWH/k3T9tyOFgQtljZm9Apo0sY6Zhd4LCMtsAKpY9lXlNvxptuTij7t0P+zJAAP7wUt/DtLXqW/Qruv5JiBM0qPF88qy4WVLrSRrkJioZ91TpF4xhfqKnYgiLcV4KGhqbV0uzGDh/z89gAvWQCV4+gJ21yXFqaM9LAJ1fENug+zprvuIJ3ibLUCgieuE3dx2vAx9fWCphnVMOo75umfW6RlX1jRAk5sfZNQtZHTgxvHGmJzv+6gvKVwGavRyjXw0ySPh/nIWej3P09FmqYbp5/VYLVZ64jWPrXnCMt/IErneRnWrapf8aEoIR4OJNdgSIbe3rTZB3IRu4Qj9Vhy3wxRhDJ6u0t+2fa05aOc53C1UHY5f7bVc+KCo5GD6rE5WJNdMkvXEIsQAfoI3Ru/SYdN93SBvqZDkrOlzsAiGUFrcrkWLv1+Mr/jVFulTSE+TiFosOzQ68vCSG+t6rISuS0erC4eo5meeZ+K7KZdTBQvcD9aW1ApofaijgPZ9J3v4aC/GRN7Aw4OymknGgoQzH98MRPlsrb3O4+FU9HTnKQmh3vMmGgi1y9bNm2kgb5PqR9+pUa+bsVZ4T9YxtWrIAxzxN4/nFhkWKFr3ApxtKKHgCl0dcwRuLQAqIbmE+64r/h/KYkwzSupw9yJ528v25qD1d8a1k1akxmM7CbyZn/809fxMuB4euzEzOKLFQixMMNi1mJ/f/muzo7sJng2xrBHtlRHCJzxa/6wSE659Zr0WvzD6bdzS792abgXbZxjCZhi/7RraupQ6f7Fxm/m0ixARzt54ZrWvLxZiSzCkmNe6Yf5EkJ28/WKXFkLZ+bvntWI4mYv2kNvJLI2a114+UgMJB35hhAqQIfzLGm5qGFTWMn7J17JeDdq85wx1HT+sno/DY46ATHqWfqwHUFk5ePrJSq6ZM28Ji9aCYew6HkSkrHHvzned2ins8X0v9FZX7WXrgy0K2gt0cCygL1qKta/7fYRfprFW4GFg+UTVwjhVvO5kRkCCctwn4bGJv0ULN/p9hTIuw4TMXHH3++Qt3vsT3GauiZecP3seVZsZ+yZwFftbZG0sWRZ/SJguD6T4w+M3kkZfmveEri5oRYyijwjze4iBnKjciDIvjc7SvCSgKCgmszwokdobmIThGqv5ZcMoHGBbtrJ1rRtzj8chjsHihn+0wOSkaWxnTJrrVxeUWelzzvhLn5pSbIpwTzEhl2j/jMhocNKdYTBLw2QmtSCUcUuDzgxN4GhHIK9968tBTVjz+yJbzIXbiypW8LUw8IKdg+qAcghBJE+Ol0vjzbkJLaeV1ocDkQIxe6Y4aIiHF8hc02cnvdur6PaBkFp+QDFEMwwfWda/OqOCn3XVrhwAMcNSz9k8sAptR4mIMSO44PJ5sYsdY2Di7yjLKxHK4f5GGOnEazI7q82iy4lcUbujkVxFDtbyTh8rjdvcRDlhsVhbN+ClhuuT8MaXrOWK4/F5wVq4AC1WIBLjMEJqx3GOhuEBg9e9yAj9tdmoCe+Y+zTe7cLN4T3TehVNSxGbnXJQYYu9qDnmidOVZa3ZVesam2VxjLb86ia5+Af094X3Prn/u1faU2kUcHEIBafePLhY08YUwlWMpOCqPUsWbYzNky4DWWK4JBkuhLpMNoHvd+fyt6aU0hYasgm0bubdNbtNaKsZ7YbAsEUr0qlfw9ugaxFjJhGcSC9C2bAsp+Tf0LCdBKDsYz7WAl6w+DD13KTICGK4A5k+Gff/5o9KxhYBEGOm6s/dNVvpGgSun90UBJZDR7xttlICnAFJVVjVCv1TuRBW+/aE2PjTNoM2nPaXm9X7d7Eb/pasFG7qDqp0AjXMynce0MZxgr/lkCFm1c4ouapM03xe5WJnIVTSN7JjbnGmLzrvRQxdEW7fZK3z9zOiT3DAdf+hyfRdo+nT6YvT7lodsGrJLtZDW/AXgwbz40WFeUBoMLUbe4+RMgqTyctEFKLSAOw+X5KP0hbH/Vpz5zbPLCIe4ricjfPoaOK+yR1Ksbi5dVBVLHQsD/UM4rjFT93lSmz0qrtcYQhId8LHglln/9o/3lO8X/XMTWD0+ehNnQb611S64SRmcDojwPBaK0KLYOC8/Gi4/9+c6ye+cbqMcg+PcAdfqSg7nlHqOID0RJSZpe9pgJZw37Ht01jn32x+EpUDTksokiU7gqXaUoj/FP2/ARjGxYI0kYMH5omTWzIT5ePkqg4yChZ/p7vXLes7Y7AVDpaAIVwuGYPulDsqpAWanTMEhq+3j/rDjq54h1Z8mp9bYZP/0Nzc/7S6IgCfp/Hd9QTYRxzwIKN8ArKc7JmYbg/fMVqtR5ziyl4QApv79ozhtsKGq51rZL1w34bV2UfAf+XY92dHvE6/mVxdy7eI0qmNrNdMkMeKYgM7GqCUgvuMuNx4nTjr/a/TB3TZHPabKy3zcFZ31Lj7ofhdILtIrz4Nng9eEnBA9m9Is1iMjxnJo5sfitzf/buv5P+8c5lVIPNZdfJQEtSab3zb5KSOwkhDhBgSuLHouGFsMnyxUQyo75M2eZsT3GR89jlL9Q4bNrZ3gSylvRwGYNS1rAjYN8lmHonMncuNVFRIxdnP6CJySpRQZekfTmhU1VXqdy9TripKHXm9zA26uMhEVOHE6nUpRzKsxsep4HFZRpfZ7/Bd/PKUbo/chjX7IW7yFTFBAuT/c++5cinUkuWztb+XSVKyPTU98NWA8J+O1VImu0TwLA5AYDqS9/0fy55csAMer+Jpjv8PQMqCy5daIe1fjiKnaPX3wFD5C9HObD4kMCOUnu/gjMUSmecT0ZZNgmJxfwnmKu0TvzgofrdLAf0m6opdgrHlk0L1+m4mS0t59K9BlfvuThPDWy5HLWc+Mn7sEagzNFP4qv0mf58nculrKKyAmvCdFrAQfhC4l8T8Uf27by9lSk2vWn2q3AK3dLP+aQhWb/lx2ocfyQBWfGMztFh5nmHvRTD2gHfgRPc2u0exsTwl+DvVN+XxIz442E1hNeDTAOEQn0IU5/2fyEtc5gXffo6hKNEJCQJw1T/0j2B7XPKxg5YOdOFBeJeXAVgUHzYyKb2M1TyMcAHP/KC8oHuH1U1g6jLiIicUh3xw767YFUB7AmQJYsPAGoCdc4+vZMiBBnILN+wM4mSS8dDHR7zld8JkQX5Xf8WxSwq2RO1WTb98iiAoEAPkQHOx1ffvy6nXL8THySnuwj/O85JxPI84fPvNbjk47/M3asL+WZh5t1YOrioQD4T8HYVTtBrYrW988mUuH6gsSMiot5IVP6LxVEbgbkPTTRaOVrZ5kOXa6tM9O3LKRFDkwSFRXVW6IeyG4Z6Y1KY93+/NkQzQna5AaHbBnCVo9T4+TcmLaUmxPXbbWGT2+W53sLFxqQJpF9B7oWAx4Az91lwDy58PnmGAAFzOOf/0r7nNLj8TiJmX3sJQCfImRXbQJT/1FhS+pdDgdIvLEThrRJOBGwAd9hFuenQvnIDDGntpSSKJPpllAF7e85BEffvOC73xmN/fSY07g6ZRik36eHEG3eywUFjLVIMcPHWUdMXKGroy68eqlc4hIGsSUflaDQ9VdKan9/dPTrrirUd+4cfzhO8xzKaaxRSjPQVt2SEFzFaBUjcRCvXD/hoyn80YTCkb3Xhku/fuZrnP2a1O+2Thv/m9sKtxY9L/Qkg0xRbXLX6p1aEhKJ/DHIO7SDGD+fKCaHn24GIR5r0H1IllGywzICSjSiEnw4nTLbeZ3O+X/EeMi7WNtpnNVa3cyDfGGxNKv61vkJKd4Tc2fgGRkLr5A9W/nE54pX85RlUZG1h0FQSQoLSrJ/ChR7DbrpJ1S5Elp39M5mjvZ6MzrFfYbu9LuQdjt+YDer5p6WCoAriszd4+PFYIcbhshA+y5kRv0AXKw2B48KKjTl8dspd7QFlh8hLl8TenpIFx/+so4yJu8PbV6j2hwlnpVEpnmmMPhu63luYQbtkWQUqUbxEw7C4b/3MrMtWSfJ1ZHw56FZK5fdVOrTUIgW/vFt39sT4niRjcG4dkGI04gNmNRQOKeYh+MfX9YcKHJS3xqKcLOWKWeChnVOODf+IilScixU/kTaVOVh+WYikR/iTl3zH7G4JRIY64JeHXRozpbuz0RwpGRgfheez114JuZERJ5VCuqwSQuhDS+tLUxtiYSyE0fYfaKi2jphQi9RoiRQtCIiVvTGPm81HN9U2INr54+E5eftIBXQ/QiixrINJtCqq9ilg40iWAGlK0BvvptvMl06t/CDWnaii4Hd8egA4AAfZONdDnQuvCaXPk5J++vwKx4SpdMmwKm2Gz8ODGABu/bkLKU+B0ZvX83OQSHY5y7E6huPkotcuAAYqgCyVwF7xB0qcxw3SNskY322CglnXcahDD51QPKGxiLWCEuP/jGrWm2JPypjS4RQk5L+a6FaRs12he7Y3xjKP08yRk4n3/Bl8BFlne+7JEc85P5vAKhtayZbHes+azZu08zzEu35T1K0Qs89JveKDHNGfjgqSg0jMq910Nz5/Fc+l67k3Ut3aMBaP8fXyW28Hqq/8FbgVwvBwvc9MpkgA6u1M6KDyLA0W4vR1bFUv/hmU3WQuuRQV3IV9plWHlrN3MhWbn6/iHvouDfi9A79AeLeKRhr4/UknRcDQX6p3tLD0QrtCsLLyApVuA7t8RmAExp6LNSUswBf8qg+St8WruJNwJK2DIYCOp5Yi+sKjdwvAOfwCCFE/ncTqAV3/2BHLwmFWuqI/Zc8aF9diSUbDd61yx/4nKiZER9zUz/gtM/3PwNqMd5qNm8xN78Qb8Owhjo8ASfoxDGZc9Pf/9M7NBunJfJfkY4BUKr8FnLAOhkrl0vkhKc3ZB1dvP54wTZIqzjV+JmcGF76WFufajgCmHt1Qxg6YhW6LBH08v31G6PBVERX/qrzneDUWkd7yEfOVryx0wnhmy7g8+knXGlCjN2b7H5PWpPvqoWCS3LIXlqhKbRZvDf9roWLAH8WkcCXTbJKctF55iKalvdLf5tOq2OVqOHWpwKw1JQEr8K0NsgEcKhiH/LQavMf0e7If5uPyqkKUFMmwZ+rjkuIx1KOD95reTsinEHrBfsribOZRO1UmlNAQZqSm3IOLWs40s/4MzLTC8KU4JnNJMviWbIF3KJ0reewpNEq8GkJy2JWv0L1s/Dlcg7nCijIhqmwimzY9Qwd3H/HwqnEnn/Uyhg19AyU5kDb29AqOJgxLhqYBUFtuOh+WB+mtXy7+6wzQnQlFiKPqkwPEqlEIXRha6ZG20PQlWG1i4dCzqKRluwMOxXAHDYfLBS0a17WqOaCeKszhQkUKGuwXCW5j3Hu4m9HCaY4WwsahM27R3z8bgrf6Omdd7aY7buF1eDRF4ruXZJfVLudbD99VY9tmPtmL82I9aMo+d1atEJS7mfDLtDP9+9RUmgow8/t4JyXuU++3gEryLD0UxfN/kt+r99pVexy5v3B1e4PDpdzwJKzErFPXg3ICpdnUICyoXQd4Igal+KdNAmOu1CyYkix5NtUClA12knpOr5dks6dPYudMdwtgg/CYEBzvjGF0q83v3JNGTB+MDwXPUEDpA5Bp5sr71DxLQiG+6PRhZ4HBk+/S/T6AzMTdYldnvazYgBcfSE15CpsjCtTs5nZWeKLqLQCC5yPVdeJCEfPbeAKHxmZQfZL+nONno2H+YkQ7RibZzTI7tidsZYnUKx9cybx4yfMgYJTajPXkaI/6OMISB7naU7kBp4shAusDog3nvvBy7tx5kxizDr+BUt1Yj/43RKhjHzpueqE/rrfwRZm7I6glZQ6ITWn1gw9qf0Vdgj8cLeOb9VJU+kqGkwAQyv8UrSd7qyFaTLXrJasiec6f86d5X/ud+7/jbl/+xH6puf4AztpmfN1TTnDH6IAV7Uv+K5WAKvH7R+M4avOZ99LAqXqG3cenRm3+SNZkhDKgPA17Fphxv0mkz6NpD59x+U2eNk59DLun5GUhTiaQsuPab86MO0PjCcUDFjrgMamQUCHS8r7/ftpmNXdOFHMkRksc2FHr29sGIPe/Jd8Tz5HkfXtXFlGUdu0vFUPcu+Wy8kmRyfvTYZmzYJc1oXsYGGUVYhOZnH0tNVu/ektxK/vP8fjzVN+hCHBAAEv08g05k2Qp2h80FloHh3nLEtTMK4kaV2a9o9QgFghnn0BkRpZaB16jIpngjvYLZm0Od7pk+1EosW4u25wriZvP6UIte5ZGheqifQPHGAxogwRUVfTtHvtxPZ1+xG1LlPAuBtLqicuCuFQ/UYXz39bpWdeFOjoKKYV1Tr8aUA579vrheH4IY5I+Rw7Jt9SzcYKwe79hlNTkZ/Z8AiOfXuyLAlClI8B03om+1TGnKLRFNMqHDyNdBm0g6jaNYI9ushJCM4BkXZZz5hrR1ndJ7avHELSVRUevpqKsC+0+bIjkaUqNOPvFF4swxj9+P9eAYpfeHKTUQAAAA=";

'''
'''--- crates/chess-lib/src/social.rs ---
use std::collections::HashMap;

use crate::{ChallengeId, Chess, GameId, GameOutcome, GAS_FOR_SOCIAL_NOTIFY_CALL};
use chess_engine::Color;
use near_sdk::{
    env, ext_contract,
    serde::{Deserialize, Serialize},
    AccountId,
};
use serde_json::{json, Value};
use urlencoding::encode;

#[ext_contract(social_db)]
pub trait SocialDb {
    fn set(&mut self, data: Value);
}

#[derive(Clone, Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
pub struct CustomNotification {
    #[serde(rename = "type")]
    pub _type: String,
    pub message: String,
    pub widget: String,
    pub params: Value,
}

#[derive(Clone, Debug, Deserialize, Serialize)]
#[serde(crate = "near_sdk::serde")]
#[serde(tag = "type", content = "data")]
#[serde(rename_all = "kebab-case")]
pub enum ChessNotification {
    Challenged {
        challenge_id: ChallengeId,
        challenger_id: AccountId,
    },
    AcceptedChallenge {
        game_id: GameId,
        challenged_id: AccountId,
    },
    RejectedChallenge {
        challenged_id: AccountId,
    },
    YourTurn {
        game_id: GameId,
    },
    Outcome {
        game_id: GameId,
        outcome: GameOutcome,
    },
}

impl Chess {
    pub(crate) fn internal_send_notify(
        &self,
        notifications: HashMap<AccountId, Vec<ChessNotification>>,
    ) {
        let notifications: Vec<_> = notifications
            .iter()
            .flat_map(|(account_id, notifications)| {
                let mut notifications: Vec<_> = notifications
                    .iter()
                    .map(|notification| chess_notification_to_value(account_id, notification))
                    .collect();
                notifications.push(json!({
                    "key": account_id,
                    "value": {
                        "type": "poke"
                    }
                }));
                notifications
            })
            .collect();
        if notifications.is_empty() {
            return;
        }
        social_db::ext(self.social_db.clone())
            .with_static_gas(GAS_FOR_SOCIAL_NOTIFY_CALL)
            .set(json!({
                env::current_account_id(): {
                    "index": {
                        "notify": json!(notifications).to_string()
                    }
                }
            }));
    }
}

pub fn chess_notification_to_value(
    notifier: &AccountId,
    notification: &ChessNotification,
) -> Value {
    json!({
        "key": notifier.to_string(),
        "value": match notification {
            ChessNotification::Challenged {
                challenge_id,
                challenger_id,
            } => CustomNotification {
                _type: "custom".to_string(),
                message: format!("{challenger_id} challenged you for a chess game"),
                widget: "chess-game.near/widget/ChessGameLobby".to_string(),
                params: json!({
                    "tab": "challenge",
                    "challenge_id": challenge_id
                }),
            },
            ChessNotification::AcceptedChallenge {
                game_id,
                challenged_id,
            } => CustomNotification {
                _type: "custom".to_string(),
                message: format!("{challenged_id} accepted your chess game challenge"),
                widget: "chess-game.near/widget/ChessGameLobby".to_string(),
                params: json!({
                    "tab": "game",
                    "game_id": encode(&json!(game_id).to_string())
                }),
            },
            ChessNotification::RejectedChallenge { challenged_id } => CustomNotification {
                _type: "custom".to_string(),
                message: format!("{challenged_id} rejected your chess game challenge"),
                widget: "chess-game.near/widget/ChessGameLobby".to_string(),
                params: json!({
                    "tab": "challenge"
                }),
            },
            ChessNotification::YourTurn { game_id } => {
                let against = if &game_id.1 == notifier {
                    game_id.2.clone().unwrap().to_string()
                } else {
                    game_id.1.to_string()
                };
                CustomNotification {
                _type: "custom".to_string(),
                message: format!("It is your chess game turn against {against}"),
                widget: "chess-game.near/widget/ChessGameLobby".to_string(),
                params: json!({
                    "tab": "game",
                    "game_id": encode(&json!(game_id).to_string())
                }),
            }},
            ChessNotification::Outcome { game_id, outcome } => {
                let against = if &game_id.1 == notifier {
                    game_id.2.clone().map(|id| id.to_string()).unwrap_or_else(|| "AI".to_string())
                } else {
                    game_id.1.to_string()
                };
                let message = match outcome {
                    GameOutcome::Victory(Color::White) => if &game_id.1 == notifier {
                        format!("You won your chess game against {against}")
                    } else {
                        format!("You lost your chess game against {against}")
                    },
                    GameOutcome::Victory(Color::Black) => if &game_id.1 == notifier {
                        format!("You lost your chess game against {against}")
                    } else {
                        format!("You won your chess game against {against}")
                    },
                    GameOutcome::Stalemate => format!("Your chess game against {against} ended with stalemate")
                };
                CustomNotification {
                _type: "custom".to_string(),
                message,
                widget: "chess-game.near/widget/ChessGameLobby".to_string(),
                params: json!({
                    "tab": "replay",
                    "game_id": encode(&json!(game_id).to_string())
                }),
            }},
        }
    })
}

'''
'''--- crates/chess-lib/src/storage.rs ---
use crate::{nada_bot, Chess, ChessExt, ContractError, GAS_FOR_IS_HUMAN_CALL, NO_DEPOSIT};
use near_contract_standards::storage_management::{
    StorageBalance, StorageBalanceBounds, StorageManagement,
};
use near_sdk::{assert_one_yocto, env, near_bindgen, require, AccountId, NearToken, Promise};

pub const STORAGE_ACCOUNT_COST: NearToken = NearToken::from_millinear(50);

#[near_bindgen]
impl StorageManagement for Chess {
    #[payable]
    fn storage_deposit(
        &mut self,
        account_id: Option<AccountId>,
        registration_only: Option<bool>,
    ) -> StorageBalance {
        require!(self.is_running, "Contract is paused");
        match self.internal_storage_deposit(account_id, registration_only) {
            Ok(res) => res,
            Err(err) => {
                panic!("{}", err);
            }
        }
    }

    #[payable]
    fn storage_withdraw(&mut self, amount: Option<NearToken>) -> StorageBalance {
        require!(self.is_running, "Contract is paused");
        assert_one_yocto();
        match self.internal_storage_withdraw(amount) {
            Ok(res) => res,
            Err(err) => {
                panic!("{}", err);
            }
        }
    }

    #[payable]
    fn storage_unregister(&mut self, force: Option<bool>) -> bool {
        require!(self.is_running, "Contract is paused");
        assert_one_yocto();
        match self.internal_storage_unregister(force) {
            Ok(res) => res,
            Err(err) => {
                panic!("{}", err);
            }
        }
    }

    fn storage_balance_bounds(&self) -> StorageBalanceBounds {
        StorageBalanceBounds {
            min: STORAGE_ACCOUNT_COST,
            max: None,
        }
    }

    fn storage_balance_of(&self, account_id: AccountId) -> Option<StorageBalance> {
        self.internal_get_account(&account_id)
            .ok()
            .map(|account| StorageBalance {
                total: account.get_near_amount(),
                available: NO_DEPOSIT,
            })
    }
}

impl Chess {
    fn internal_storage_deposit(
        &mut self,
        account_id: Option<AccountId>,
        _registration_only: Option<bool>,
    ) -> Result<StorageBalance, ContractError> {
        let amount = env::attached_deposit();
        let account_id = account_id.unwrap_or_else(env::predecessor_account_id);
        let min_balance = self.storage_balance_bounds().min;
        let already_registered = self.accounts.contains_key(&account_id);
        if amount < min_balance && !already_registered {
            return Err(ContractError::NotEnoughDeposit(
                min_balance.as_yoctonear(),
                amount.as_yoctonear(),
            ));
        }
        if already_registered {
            if amount.as_yoctonear() > 0 {
                Promise::new(env::predecessor_account_id()).transfer(amount);
            }
            Ok(self.storage_balance_of(account_id).unwrap())
        } else {
            nada_bot::ext_registry::ext(self.nada_bot_id.clone())
                .with_static_gas(GAS_FOR_IS_HUMAN_CALL)
                .is_human(account_id.clone())
                .then(
                    Self::ext(env::current_account_id())
                        .with_unused_gas_weight(1)
                        .on_register_account(account_id.clone(), min_balance),
                );
            let refund = amount.checked_sub(min_balance).unwrap();
            if refund.as_yoctonear() > 0 {
                Promise::new(env::predecessor_account_id()).transfer(refund);
            }
            Ok(StorageBalance {
                total: min_balance,
                available: NO_DEPOSIT,
            })
        }
    }

    fn internal_storage_withdraw(
        &mut self,
        _amount: Option<NearToken>,
    ) -> Result<StorageBalance, ContractError> {
        Err(ContractError::OperationNotSupported)
    }

    fn internal_storage_unregister(&mut self, force: Option<bool>) -> Result<bool, ContractError> {
        if force.is_some() {
            return Err(ContractError::OperationNotSupported);
        }
        let account_id = env::predecessor_account_id();
        if let Ok(account) = self.internal_get_account(&account_id) {
            if account.is_playing() {
                return Err(ContractError::AccountIsPlaying);
            }
            Promise::new(account_id.clone()).transfer(account.get_near_amount());
            self.accounts.remove(&account_id);
            Ok(true)
        } else {
            Ok(false)
        }
    }
}

#[near_bindgen]
impl Chess {
    #[private]
    pub fn on_register_account(
        &mut self,
        account_id: AccountId,
        min_balance: NearToken,
        #[callback_unwrap] is_human: bool,
    ) {
        self.internal_register_account(account_id, min_balance, is_human);
    }
}

'''
'''--- crates/chess-lib/src/view.rs ---
use crate::{
    AccountInfo, Achievement, AchievementInfo, BetId, BetInfo, Challenge, ChallengeId, Chess,
    ChessExt, ContractError, EloRating, Fees, GameId, GameInfo, Quest, QuestInfo,
};
use near_sdk::{json_types::U128, near_bindgen, AccountId};
use std::collections::VecDeque;
use strum::IntoEnumIterator;

#[near_bindgen]
impl Chess {
    /// Returns an array of strings representing the board
    #[handle_result]
    pub fn get_board(&self, game_id: GameId) -> Result<[String; 8], ContractError> {
        let game = self
            .games
            .get(&game_id)
            .ok_or(ContractError::GameNotExists)?;
        Ok(game.get_board_state())
    }

    /// Renders a game as a string.
    #[handle_result]
    pub fn render_board(&self, game_id: GameId) -> Result<String, ContractError> {
        let game = self
            .games
            .get(&game_id)
            .ok_or(ContractError::GameNotExists)?;
        Ok(game.render_board())
    }

    /// Returns information about a game including players and turn color.
    #[handle_result]
    pub fn game_info(&self, game_id: GameId) -> Result<GameInfo, ContractError> {
        let game = self
            .games
            .get(&game_id)
            .ok_or(ContractError::GameNotExists)?;

        Ok(GameInfo {
            white: game.get_white().clone(),
            black: game.get_black().clone(),
            turn_color: game.get_board().get_turn_color(),
            last_block_height: game.get_last_block_height(),
            has_bets: game.has_bets(),
        })
    }

    #[handle_result]
    pub fn bet_info(&self, players: (AccountId, AccountId)) -> Result<BetInfo, ContractError> {
        let bet_id = BetId::new(players)?;
        Ok(self
            .bets
            .get(&bet_id)
            .ok_or(ContractError::BetNotExists)?
            .into())
    }

    /// Returns all open game IDs for given wallet ID.
    #[handle_result]
    pub fn get_game_ids(&self, account_id: AccountId) -> Result<Vec<GameId>, ContractError> {
        let account = self
            .accounts
            .get(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        Ok(account.get_game_ids())
    }

    #[handle_result]
    pub fn get_account(&self, account_id: AccountId) -> Result<AccountInfo, ContractError> {
        let account = self
            .accounts
            .get(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        Ok(account.into())
    }

    pub fn get_quest_list(&self) -> Vec<QuestInfo> {
        Quest::iter().map(QuestInfo::from).collect()
    }

    #[handle_result]
    pub fn get_quest_cooldowns(
        &self,
        account_id: AccountId,
    ) -> Result<&VecDeque<(u64, Quest)>, ContractError> {
        let account = self
            .accounts
            .get(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        Ok(account.get_quest_cooldowns())
    }

    pub fn get_achievement_list(&self) -> Vec<AchievementInfo> {
        Achievement::iter().map(AchievementInfo::from).collect()
    }

    #[handle_result]
    pub fn get_achievements(
        &self,
        account_id: AccountId,
    ) -> Result<&Vec<(u64, Achievement)>, ContractError> {
        let account = self
            .accounts
            .get(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        Ok(account.get_achievements())
    }

    #[handle_result]
    pub fn get_tokens(
        &mut self,
        account_id: AccountId,
    ) -> Result<Vec<(AccountId, U128)>, ContractError> {
        let account = self.internal_get_account(&account_id)?;
        Ok(account
            .get_tokens()
            .into_iter()
            .map(|(token_id, balance)| (token_id, balance.into()))
            .collect())
    }

    #[handle_result]
    pub fn get_token_amount(
        &mut self,
        account_id: AccountId,
        token_id: AccountId,
    ) -> Result<U128, ContractError> {
        let account = self.internal_get_account(&account_id)?;
        Ok(account.get_token_amount(&token_id).into())
    }

    pub fn get_elo_ratings(
        &self,
        skip: Option<usize>,
        limit: Option<usize>,
    ) -> Vec<(AccountId, EloRating)> {
        self.accounts
            .iter()
            .skip(skip.unwrap_or_default())
            .take(limit.unwrap_or(100))
            .filter_map(|(account_id, account)| {
                account.get_elo().map(|elo| (account_id.clone(), elo))
            })
            .collect()
    }

    pub fn get_elo_ratings_by_ids(
        &self,
        account_ids: Vec<AccountId>,
    ) -> Vec<(AccountId, EloRating)> {
        account_ids
            .iter()
            .filter_map(|account_id| {
                self.accounts
                    .get(account_id)
                    .and_then(|account| account.get_elo().map(|elo| (account_id.clone(), elo)))
            })
            .collect()
    }

    pub fn get_accounts(&self, skip: Option<usize>, limit: Option<usize>) -> Vec<AccountId> {
        self.accounts
            .keys()
            .skip(skip.unwrap_or_default())
            .take(limit.unwrap_or(100))
            .cloned()
            .collect()
    }

    /// Returns info about open challenge.
    #[handle_result]
    pub fn get_challenge(&self, challenge_id: ChallengeId) -> Result<Challenge, ContractError> {
        let challenge = self
            .challenges
            .get(&challenge_id)
            .ok_or_else(|| ContractError::ChallengeNotExists(challenge_id.clone()))?;
        Ok(challenge.clone())
    }

    /// Returns all open challenges.
    #[handle_result]
    pub fn get_challenges(
        &self,
        account_id: AccountId,
        is_challenger: bool,
    ) -> Result<Vec<ChallengeId>, ContractError> {
        let account = self
            .accounts
            .get(&account_id)
            .ok_or_else(|| ContractError::AccountNotRegistered(account_id.clone()))?;
        Ok(account.get_challenges(is_challenger))
    }

    pub fn get_treasury_tokens(&self) -> Vec<(AccountId, U128)> {
        self.treasury
            .iter()
            .map(|(token_id, amount)| (token_id.clone(), (*amount).into()))
            .collect()
    }

    pub fn get_fees(&self) -> Fees {
        self.fees.get().clone()
    }

    pub fn get_token_whitelist(&self) -> Vec<AccountId> {
        self.token_whitelist.get().clone()
    }
}

'''
'''--- crates/chess-test/Cargo.toml ---
[package]
name = "chess-test"
version = "1.0.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[dev-dependencies]
chess-common = { path = "../chess-common" }
chess-engine = { path = "../chess-engine" }
chess-lib = { path = "../chess-lib" }
test-token = { path = "../test-token" }
anyhow.workspace = true
futures.workspace = true
maplit.workspace = true
near-contract-standards.workspace = true
near-sdk.workspace = true
near-workspaces.workspace = true
owo-colors.workspace = true
serde.workspace = true
serde_json.workspace = true
tokio.workspace = true
toml.workspace = true

'''
'''--- crates/chess-test/tests/bet/mod.rs ---
use crate::{bet, util::*};
use chess_engine::Color;
use chess_lib::{create_challenge_id, BetInfo, BetMsg, BetView, ChessEvent, GameId, GameOutcome};
use maplit::hashmap;
use near_sdk::json_types::U128;
use near_workspaces::{types::NearToken, Account, Contract};

#[tokio::test]
async fn test_bet_basic() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;
    let bet_amount = 10_000_000;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), bet_amount),
        call::mint_tokens(&test_token, better_b.id(), bet_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), bet_amount, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), bet_amount, player_b => player_a).await?;

    let bet_info = view::get_bet_info(&contract, (player_a.id(), player_b.id())).await?;
    let actual = serde_json::to_value(bet_info)?;
    let expected = serde_json::to_value(BetInfo {
        is_locked: false,
        bets: hashmap! {
            test_token.id().clone() => vec![(
                better_a.id().clone(),
                BetView { amount: U128(bet_amount), winner: player_a.id().clone() }
            ), (
                better_b.id().clone(),
                BetView { amount: U128(bet_amount), winner: player_b.id().clone() }
            )]
        },
    })?;
    assert_eq!(actual, expected);

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    let bet_info = view::get_bet_info(&contract, (player_a.id(), player_b.id())).await?;
    assert!(bet_info.is_locked);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;
    let expected_board = [
        "RNB K NR".to_string(),
        "PPPP PPP".to_string(),
        "        ".to_string(),
        "p B P   ".to_string(),
        "        ".to_string(),
        "        ".to_string(),
        " ppppQpp".to_string(),
        "rnbqkbnr".to_string(),
    ];
    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    assert_eq!(board, expected_board);
    assert_event_emits(
        events,
        vec![ChessEvent::PlayMove {
            game_id: game_id.clone(),
            color: Color::White,
            mv: "f3 to f7".to_string(),
            board: expected_board,
            outcome: Some(GameOutcome::Victory(Color::White)),
        }],
    )?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, bet_amount * 2);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_incomplete_bet() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;
    let bet_amount = 10_000_000;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), bet_amount),
        call::mint_tokens(&test_token, better_b.id(), bet_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), bet_amount, player_a => player_b).await?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    call::accept_challenge(&contract, &player_b, &challenge_id).await?;

    let bet_info = view::get_bet_info(&contract, (player_a.id(), player_b.id())).await?;
    assert!(bet_info.bets.is_empty());
    assert!(bet_info.is_locked);

    Ok(())
}

#[tokio::test]
async fn test_bet_increase() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;
    let bet_amount = 10_000_000;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), bet_amount),
        call::mint_tokens(&test_token, better_b.id(), 4 * bet_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), bet_amount, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), bet_amount, player_b => player_a).await?;
    bet!(&better_b, test_token.id(), contract.id(), bet_amount, player_b => player_a).await?;
    bet!(&better_b, test_token.id(), contract.id(), bet_amount, player_b => player_a).await?;
    bet!(&better_b, test_token.id(), contract.id(), bet_amount, player_b => player_a).await?;

    let bet_info = view::get_bet_info(&contract, (player_a.id(), player_b.id())).await?;
    let actual = serde_json::to_value(bet_info)?;
    let expected = serde_json::to_value(BetInfo {
        is_locked: false,
        bets: hashmap! {
            test_token.id().clone() => vec![(
                better_a.id().clone(),
                BetView { amount: U128(bet_amount), winner: player_a.id().clone() }
            ), (
                better_b.id().clone(),
                BetView { amount: U128(bet_amount * 4), winner: player_b.id().clone() }
            )]
        },
    })?;
    assert_eq!(actual, expected);

    play_game(&contract, &player_a, &player_b).await?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, bet_amount * 2);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, bet_amount * 3);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_bet_weighted_win_imbalanced() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;
    let better_c = worker.dev_create_account().await?;
    let better_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
        call::storage_deposit(&contract, &better_c, None, None),
        call::storage_deposit(&contract, &better_d, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_c,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_d,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), 1_000_000),
        call::mint_tokens(&test_token, better_b.id(), 1_000_000),
        call::mint_tokens(&test_token, better_c.id(), 1_000_000),
        call::mint_tokens(&test_token, better_d.id(), 1_000_000),
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), 500_000, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), 500_000, player_a => player_b).await?;
    bet!(&better_c, test_token.id(), contract.id(), 1_000_000, player_a => player_b).await?;
    bet!(&better_d, test_token.id(), contract.id(), 1_000_000, player_b => player_a).await?;

    play_game(&contract, &player_a, &player_b).await?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;
    call::withdraw_token(&contract, &better_c, test_token.id()).await?;
    call::withdraw_token(&contract, &better_d, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, 1_250_000);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, 1_250_000);
    let balance = view::ft_balance_of(&test_token, better_c.id()).await?;
    assert_eq!(balance.0, 1_500_000);
    let balance = view::ft_balance_of(&test_token, better_d.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_bet_weighted_win_imbalanced_reverse() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;
    let better_c = worker.dev_create_account().await?;
    let better_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
        call::storage_deposit(&contract, &better_c, None, None),
        call::storage_deposit(&contract, &better_d, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_c,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_d,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), 1_000_000),
        call::mint_tokens(&test_token, better_b.id(), 1_000_000),
        call::mint_tokens(&test_token, better_c.id(), 1_000_000),
        call::mint_tokens(&test_token, better_d.id(), 1_000_000),
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), 500_000, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), 500_000, player_a => player_b).await?;
    bet!(&better_c, test_token.id(), contract.id(), 1_000_000, player_a => player_b).await?;
    bet!(&better_d, test_token.id(), contract.id(), 1_000_000, player_b => player_a).await?;

    play_game(&contract, &player_b, &player_a).await?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;
    call::withdraw_token(&contract, &better_c, test_token.id()).await?;
    call::withdraw_token(&contract, &better_d, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, 750_000);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, 750_000);
    let balance = view::ft_balance_of(&test_token, better_c.id()).await?;
    assert_eq!(balance.0, 500_000);
    let balance = view::ft_balance_of(&test_token, better_d.id()).await?;
    assert_eq!(balance.0, 2_000_000);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_bet_weighted_win_with_refund() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;
    let better_c = worker.dev_create_account().await?;
    let better_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
        call::storage_deposit(&contract, &better_c, None, None),
        call::storage_deposit(&contract, &better_d, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_c,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_d,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), 1_000_000),
        call::mint_tokens(&test_token, better_b.id(), 1_000_000),
        call::mint_tokens(&test_token, better_c.id(), 1_000_000),
        call::mint_tokens(&test_token, better_d.id(), 1_000_000),
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), 100_000, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), 200_000, player_a => player_b).await?;
    bet!(&better_c, test_token.id(), contract.id(), 300_000, player_a => player_b).await?;
    bet!(&better_d, test_token.id(), contract.id(), 1_000_000, player_b => player_a).await?;

    play_game(&contract, &player_a, &player_b).await?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;
    call::withdraw_token(&contract, &better_c, test_token.id()).await?;
    call::withdraw_token(&contract, &better_d, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, 1_100_000);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, 1_200_000);
    let balance = view::ft_balance_of(&test_token, better_c.id()).await?;
    assert_eq!(balance.0, 1_300_000);
    let balance = view::ft_balance_of(&test_token, better_d.id()).await?;
    assert_eq!(balance.0, 400_000);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_bet_weighted_win_with_refund_reverse() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "SHITZU", "SHITZU", None, 24).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let better_a = worker.dev_create_account().await?;
    let better_b = worker.dev_create_account().await?;
    let better_c = worker.dev_create_account().await?;
    let better_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &better_a, None, None),
        call::storage_deposit(&contract, &better_b, None, None),
        call::storage_deposit(&contract, &better_c, None, None),
        call::storage_deposit(&contract, &better_d, None, None),
    )?;
    tokio::try_join!(
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_c,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &better_d,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, better_a.id(), 1_000_000),
        call::mint_tokens(&test_token, better_b.id(), 1_000_000),
        call::mint_tokens(&test_token, better_c.id(), 1_000_000),
        call::mint_tokens(&test_token, better_d.id(), 1_000_000),
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    bet!(&better_a, test_token.id(), contract.id(), 100_000, player_a => player_b).await?;
    bet!(&better_b, test_token.id(), contract.id(), 200_000, player_a => player_b).await?;
    bet!(&better_c, test_token.id(), contract.id(), 300_000, player_a => player_b).await?;
    bet!(&better_d, test_token.id(), contract.id(), 1_000_000, player_b => player_a).await?;

    play_game(&contract, &player_b, &player_a).await?;

    call::withdraw_token(&contract, &better_a, test_token.id()).await?;
    call::withdraw_token(&contract, &better_b, test_token.id()).await?;
    call::withdraw_token(&contract, &better_c, test_token.id()).await?;
    call::withdraw_token(&contract, &better_d, test_token.id()).await?;

    let balance = view::ft_balance_of(&test_token, better_a.id()).await?;
    assert_eq!(balance.0, 900_000);
    let balance = view::ft_balance_of(&test_token, better_b.id()).await?;
    assert_eq!(balance.0, 800_000);
    let balance = view::ft_balance_of(&test_token, better_c.id()).await?;
    assert_eq!(balance.0, 700_000);
    let balance = view::ft_balance_of(&test_token, better_d.id()).await?;
    assert_eq!(balance.0, 1_600_000);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

async fn play_game(contract: &Contract, winner: &Account, looser: &Account) -> anyhow::Result<()> {
    call::challenge(contract, winner, looser.id()).await?;
    let challenge_id = create_challenge_id(winner.id(), looser.id());

    let (game_id, _) = call::accept_challenge(contract, looser, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, winner.id().clone(), Some(looser.id().clone()));

    call::play_move(contract, winner, &game_id, "e2e4".to_string()).await?;
    call::play_move(contract, looser, &game_id, "a7a6".to_string()).await?;
    call::play_move(contract, winner, &game_id, "d1f3".to_string()).await?;
    call::play_move(contract, looser, &game_id, "a6a5".to_string()).await?;
    call::play_move(contract, winner, &game_id, "f1c4".to_string()).await?;
    call::play_move(contract, looser, &game_id, "a5a4".to_string()).await?;
    call::play_move(contract, winner, &game_id, "f3f7".to_string()).await?;

    Ok(())
}

'''
'''--- crates/chess-test/tests/chess.rs ---
mod bet;
mod points;
mod util;
mod wager;

use chess_engine::Color;
use chess_lib::{
    create_challenge_id, Challenge, ChessEvent, ChessNotification, Difficulty, GameId, GameInfo,
    GameOutcome, Player, MAX_OPEN_CHALLENGES, MAX_OPEN_GAMES,
};
use futures::future::try_join_all;
use maplit::hashmap;
use tokio::fs;
use util::*;

#[tokio::test]
async fn test_migrate() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) =
        initialize_contracts(Some("../../res/chess_old.wasm")).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let player_c = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &player_c, None, None)
    )?;

    let (_res, _events) = call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let (game_id, _events) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::create_ai_game(&contract, &player_c, Difficulty::Easy).await?;

    contract
        .as_account()
        .deploy(&fs::read("../../res/chess_testing.wasm").await?)
        .await?
        .into_result()?;
    call::migrate(&contract, contract.as_account()).await?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert_eq!(game_ids, vec![game_id.clone()]);
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert_eq!(game_ids, vec![game_id.clone()]);
    let ai_game_ids = view::get_game_ids(&contract, player_c.id()).await?;
    assert!(!ai_game_ids.is_empty());
    let game_info = view::get_game_info(&contract, &game_id).await?;
    let mut actual = serde_json::to_value(game_info)?;
    actual["last_block_height"].take();
    let mut expected = serde_json::to_value(GameInfo {
        white: Player::Human(player_a.id().clone()),
        black: Player::Human(player_b.id().clone()),
        turn_color: Color::White,
        last_block_height: block_height,
        has_bets: false,
    })?;
    expected["last_block_height"].take();
    assert_eq!(actual, expected);

    Ok(())
}

#[tokio::test]
async fn test_pausing() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    let res = call::pause(&contract, &player_a).await;
    assert!(res.is_err());

    call::pause(&contract, contract.as_account()).await?;

    let res = call::storage_deposit(&contract, &player_a, None, None).await;
    assert!(res.is_err());
    let res = call::challenge(&contract, &player_a, player_b.id()).await;
    assert!(res.is_err());
    let res = call::accept_challenge(&contract, &player_a, &"id".to_string()).await;
    assert!(res.is_err());
    let res = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await;
    assert!(res.is_err());
    let res = call::play_move(
        &contract,
        &player_a,
        &GameId(0, "a.near".parse()?, None),
        "a2a4".to_string(),
    )
    .await;
    assert!(res.is_err());

    call::resume(&contract, contract.as_account()).await?;
    let res = call::storage_deposit(&contract, &player_a, None, None).await;
    assert!(res.is_ok());

    Ok(())
}

#[tokio::test]
async fn test_ai_game() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;

    call::storage_deposit(&contract, &player_a, None, None).await?;
    let (game_id, events) = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, player_a.id().clone(), None);
    assert_event_emits(
        events,
        vec![ChessEvent::CreateGame {
            game_id: game_id.clone(),
            white: Player::Human(player_a.id().clone()),
            black: Player::Ai(Difficulty::Easy),
            board: [
                "RNBQKBNR".to_string(),
                "PPPPPPPP".to_string(),
                "        ".to_string(),
                "        ".to_string(),
                "        ".to_string(),
                "        ".to_string(),
                "pppppppp".to_string(),
                "rnbqkbnr".to_string(),
            ],
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert_eq!(game_ids, vec![game_id.clone()]);

    let ((outcome, _board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    assert!(outcome.is_none());
    assert_event_emits(
        events,
        vec![
            ChessEvent::PlayMove {
                game_id: game_id.clone(),
                color: Color::White,
                mv: "e2 to e4".to_string(),
                board: [
                    "RNBQKBNR".to_string(),
                    "PPPP PPP".to_string(),
                    "        ".to_string(),
                    "    P   ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "pppppppp".to_string(),
                    "rnbqkbnr".to_string(),
                ],
                outcome: None,
            },
            ChessEvent::PlayMove {
                game_id: game_id.clone(),
                color: Color::Black,
                mv: "g8 to f6".to_string(),
                board: [
                    "RNBQKBNR".to_string(),
                    "PPPP PPP".to_string(),
                    "        ".to_string(),
                    "    P   ".to_string(),
                    "        ".to_string(),
                    "     n  ".to_string(),
                    "pppppppp".to_string(),
                    "rnbqkb r".to_string(),
                ],
                outcome: None,
            },
        ],
    )?;

    let (res, events) = call::resign(&contract, &player_a, &game_id).await?;
    assert_eq!(res, GameOutcome::Victory(Color::Black));
    assert_event_emits(
        events,
        vec![ChessEvent::ResignGame {
            game_id: game_id.clone(),
            resigner: Color::White,
            outcome: GameOutcome::Victory(Color::Black),
        }],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());

    Ok(())
}

#[tokio::test]
async fn test_accept_challenge() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    let (_res, events) = call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let challenge_ids = view::get_challenges(&contract, player_a.id(), true).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge_ids = view::get_challenges(&contract, player_a.id(), false).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), true).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), false).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge = view::get_challenge(&contract, &challenge_id).await?;
    let expected_challenge = Challenge::new(player_a.id().clone(), player_b.id().clone(), None);
    assert_eq!(&challenge, &expected_challenge);
    assert_event_emits(events, vec![ChessEvent::Challenge(expected_challenge)])?;

    let (game_id, events) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );
    assert_event_emits(
        events,
        vec![
            ChessEvent::AcceptChallenge {
                challenge_id: create_challenge_id(player_a.id(), player_b.id()),
                game_id: game_id.clone(),
            },
            ChessEvent::CreateGame {
                game_id: game_id.clone(),
                white: Player::Human(player_a.id().clone()),
                black: Player::Human(player_b.id().clone()),
                board: [
                    "RNBQKBNR".to_string(),
                    "PPPPPPPP".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "pppppppp".to_string(),
                    "rnbqkbnr".to_string(),
                ],
            },
        ],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert_eq!(game_ids, vec![game_id.clone()]);
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert_eq!(game_ids, vec![game_id.clone()]);

    let ((outcome, _board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    assert!(outcome.is_none());
    assert_event_emits(
        events,
        vec![ChessEvent::PlayMove {
            game_id: game_id.clone(),
            color: Color::White,
            mv: "e2 to e4".to_string(),
            board: [
                "RNBQKBNR".to_string(),
                "PPPP PPP".to_string(),
                "        ".to_string(),
                "    P   ".to_string(),
                "        ".to_string(),
                "        ".to_string(),
                "pppppppp".to_string(),
                "rnbqkbnr".to_string(),
            ],
            outcome: None,
        }],
    )?;

    Ok(())
}
#[tokio::test]
async fn test_reject_challenge() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    call::storage_deposit(&contract, &player_a, None, None).await?;
    call::storage_deposit(&contract, &player_b, None, None).await?;

    let (_res, events) = call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let challenge_ids = view::get_challenges(&contract, player_a.id(), true).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge_ids = view::get_challenges(&contract, player_b.id(), false).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    assert_event_emits(
        events,
        vec![ChessEvent::Challenge(Challenge::new(
            player_a.id().clone(),
            player_b.id().clone(),
            None,
        ))],
    )?;

    let (_res, events) = call::reject_challenge(&contract, &player_b, &challenge_id, false).await?;
    assert_event_emits(
        events,
        vec![ChessEvent::RejectChallenge {
            challenge_id: create_challenge_id(player_a.id(), player_b.id()),
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_a.id(), true).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), false).await?;
    assert!(challenge_ids.is_empty());

    Ok(())
}

#[tokio::test]
async fn test_accept_reject_challenge_check_sender() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let player_c = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &player_c, None, None)
    )?;

    let (_res, events) = call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let challenge_ids = view::get_challenges(&contract, player_a.id(), true).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge_ids = view::get_challenges(&contract, player_a.id(), false).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), true).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), false).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge = view::get_challenge(&contract, &challenge_id).await?;
    let expected_challenge = Challenge::new(player_a.id().clone(), player_b.id().clone(), None);
    assert_eq!(&challenge, &expected_challenge);
    assert_event_emits(events, vec![ChessEvent::Challenge(expected_challenge)])?;

    let res = call::accept_challenge(&contract, &player_a, &challenge_id).await;
    assert!(res.is_err());
    let res = call::reject_challenge(&contract, &player_a, &challenge_id, false).await;
    assert!(res.is_err());
    let res = call::reject_challenge(&contract, &player_b, &challenge_id, true).await;
    assert!(res.is_err());
    let res = call::accept_challenge(&contract, &player_c, &challenge_id).await;
    assert!(res.is_err());
    let res = call::reject_challenge(&contract, &player_c, &challenge_id, false).await;
    assert!(res.is_err());
    let res = call::reject_challenge(&contract, &player_c, &challenge_id, true).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_challenge_check_duplicate() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;

    let res = call::challenge(&contract, &player_a, player_b.id()).await;
    assert!(res.is_err());
    let res = call::challenge(&contract, &player_b, player_a.id()).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_resign() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    let (res, events) = call::resign(&contract, &player_a, &game_id).await?;
    assert_eq!(res, GameOutcome::Victory(Color::Black));
    assert_event_emits(
        events,
        vec![ChessEvent::ResignGame {
            game_id: game_id.clone(),
            resigner: Color::White,
            outcome: GameOutcome::Victory(Color::Black),
        }],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let account = view::get_account(&contract, player_a.id()).await?;
    assert_eq!(account.elo.unwrap(), 984.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert_eq!(account.elo.unwrap(), 1016.);

    Ok(())
}

#[tokio::test]
async fn test_cleanup_success() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let player_c = worker.dev_create_account().await?;
    let player_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id()),
        call::add_human(&nada_bot_contract, &player_c, player_c.id()),
        call::add_human(&nada_bot_contract, &player_d, player_d.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &player_c, None, None),
        call::storage_deposit(&contract, &player_d, None, None)
    )?;

    let game_id_ab = call::create_pvp_game(&contract, &player_a, &player_b).await?;
    let game_id_ac = call::create_pvp_game(&contract, &player_a, &player_c).await?;
    let game_id_ad = call::create_pvp_game(&contract, &player_a, &player_d).await?;
    let game_id_bc = call::create_pvp_game(&contract, &player_b, &player_c).await?;
    let game_id_bd = call::create_pvp_game(&contract, &player_b, &player_d).await?;
    let game_id_cd = call::create_pvp_game(&contract, &player_c, &player_d).await?;

    worker.fast_forward(100).await?;

    let (_res, events) = call::cleanup(&contract).await?;
    assert_event_emits(
        events,
        vec![
            ChessEvent::CancelGame {
                game_id: game_id_ab.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_ac.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_ad.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_bc.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_bd.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_cd.clone(),
                cancelled_by: contract.id().clone(),
            },
        ],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_c.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_d.id()).await?;
    assert!(game_ids.is_empty());
    let account = view::get_account(&contract, player_a.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_c.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_d.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);

    Ok(())
}

#[tokio::test]
async fn test_cleanup_partial() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let player_c = worker.dev_create_account().await?;
    let player_d = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id()),
        call::add_human(&nada_bot_contract, &player_c, player_c.id()),
        call::add_human(&nada_bot_contract, &player_d, player_d.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(&contract, &player_c, None, None),
        call::storage_deposit(&contract, &player_d, None, None)
    )?;

    let game_id_ab = call::create_pvp_game(&contract, &player_a, &player_b).await?;
    let game_id_ac = call::create_pvp_game(&contract, &player_a, &player_c).await?;
    let game_id_ad = call::create_pvp_game(&contract, &player_a, &player_d).await?;

    worker.fast_forward(100).await?;

    let game_id_bc = call::create_pvp_game(&contract, &player_b, &player_c).await?;
    let game_id_bd = call::create_pvp_game(&contract, &player_b, &player_d).await?;
    let game_id_cd = call::create_pvp_game(&contract, &player_c, &player_d).await?;

    let (_res, events) = call::cleanup(&contract).await?;
    assert_event_emits(
        events,
        vec![
            ChessEvent::CancelGame {
                game_id: game_id_ab.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_ac.clone(),
                cancelled_by: contract.id().clone(),
            },
            ChessEvent::CancelGame {
                game_id: game_id_ad.clone(),
                cancelled_by: contract.id().clone(),
            },
        ],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert_eq!(game_ids, vec![game_id_bc.clone(), game_id_bd.clone()]);
    let game_ids = view::get_game_ids(&contract, player_c.id()).await?;
    assert_eq!(game_ids, vec![game_id_bc, game_id_cd.clone()]);
    let game_ids = view::get_game_ids(&contract, player_d.id()).await?;
    assert_eq!(game_ids, vec![game_id_bd, game_id_cd]);
    let account = view::get_account(&contract, player_a.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_c.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_d.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);

    Ok(())
}

#[tokio::test]
async fn test_cancel_success() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    worker.fast_forward(100).await?;

    let (_res, events) = call::cancel(&contract, &player_b, &game_id).await?;
    assert_event_emits(
        events,
        vec![ChessEvent::CancelGame {
            game_id: game_id.clone(),
            cancelled_by: player_b.id().clone(),
        }],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let account = view::get_account(&contract, player_a.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert_eq!(account.elo.unwrap(), 1000.);

    Ok(())
}

#[tokio::test]
async fn test_cancel_not_enough_blocks() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    let res = call::cancel(&contract, &player_a, &game_id).await;
    assert!(res.is_err());
    let res = call::cancel(&contract, &player_b, &game_id).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_cancel_update_last_block_height() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    worker.fast_forward(50).await?;
    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    worker.fast_forward(50).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;

    let res = call::cancel(&contract, &player_a, &game_id).await;
    assert!(res.is_err());
    let res = call::cancel(&contract, &player_b, &game_id).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_cancel_check_opponent() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    worker.fast_forward(100).await?;

    let res = call::cancel(&contract, &player_a, &game_id).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_no_self_challenge() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;

    call::storage_deposit(&contract, &player_a, None, None).await?;

    let res = call::challenge(&contract, &player_a, player_a.id()).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_max_open_games() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    for _ in 0..MAX_OPEN_GAMES {
        call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    }
    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let res = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await;
    assert!(res.is_err());

    let res = call::accept_challenge(&contract, &player_b, &challenge_id).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_max_open_challenges() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    call::storage_deposit(&contract, &player_a, None, None).await?;
    call::storage_deposit(&contract, &player_b, None, None).await?;
    let mut tasks = vec![];
    for _ in 0..MAX_OPEN_CHALLENGES {
        tasks.push(worker.dev_create_account());
    }
    let players = try_join_all(tasks).await?;

    let tasks: Vec<_> = players
        .iter()
        .map(|player| call::storage_deposit(&contract, player, None, None))
        .collect();
    try_join_all(tasks).await?;

    for player in players {
        call::challenge(&contract, &player_a, player.id()).await?;
    }

    let res = call::challenge(&contract, &player_a, player_b.id()).await;
    assert!(res.is_err());
    let res = call::challenge(&contract, &player_b, player_a.id()).await;
    assert!(res.is_err());

    Ok(())
}

#[tokio::test]
async fn test_finish_game() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;
    let expected_board = [
        "RNB K NR".to_string(),
        "PPPP PPP".to_string(),
        "        ".to_string(),
        "p B P   ".to_string(),
        "        ".to_string(),
        "        ".to_string(),
        " ppppQpp".to_string(),
        "rnbqkbnr".to_string(),
    ];
    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    assert_eq!(board, expected_board);
    assert_event_emits(
        events,
        vec![ChessEvent::PlayMove {
            game_id: game_id.clone(),
            color: Color::White,
            mv: "f3 to f7".to_string(),
            board: expected_board,
            outcome: Some(GameOutcome::Victory(Color::White)),
        }],
    )?;

    let games = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(games.is_empty());
    let games = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(games.is_empty());
    let account = view::get_account(&contract, player_a.id()).await?;
    assert_eq!(account.elo.unwrap(), 1016.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert_eq!(account.elo.unwrap(), 984.);

    Ok(())
}

#[tokio::test]
async fn test_notify() -> anyhow::Result<()> {
    let (worker, _, contract, social_contract, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_b.id().clone() => vec![ChessNotification::Challenged {
                challenge_id: create_challenge_id(player_a.id(), player_b.id()),
                challenger_id: player_a.id().clone(),
            }],
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    call::reject_challenge(&contract, &player_b, &challenge_id, false).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_a.id().clone() => vec![ChessNotification::RejectedChallenge {
                challenged_id: player_b.id().clone(),
            }],
        },
    )
    .await?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_a.id().clone() => vec![ChessNotification::AcceptedChallenge {
                game_id: game_id.clone(),
                challenged_id: player_b.id().clone(),
            }]
        },
    )
    .await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_b.id().clone() => vec![ChessNotification::YourTurn {
                game_id: game_id.clone(),
            }]
        },
    )
    .await?;

    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_a.id().clone() => vec![ChessNotification::YourTurn {
                game_id: game_id.clone(),
            }]
        },
    )
    .await?;

    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_a.id().clone() => vec![ChessNotification::Outcome {
                game_id: game_id.clone(),
                outcome: GameOutcome::Victory(Color::White),
            }],
            player_b.id().clone() => vec![ChessNotification::Outcome {
                game_id: game_id.clone(),
                outcome: GameOutcome::Victory(Color::White),
            }]
        },
    )
    .await?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    call::resign(&contract, &player_a, &game_id).await?;
    assert_notification(
        &contract,
        &social_contract,
        hashmap! {
            player_a.id().clone() => vec![ChessNotification::Outcome {
                game_id: game_id.clone(),
                outcome: GameOutcome::Victory(Color::Black),
            }],
            player_b.id().clone() => vec![ChessNotification::Outcome {
                game_id: game_id.clone(),
                outcome: GameOutcome::Victory(Color::Black),
            }]
        },
    )
    .await?;

    Ok(())
}

#[tokio::test]
async fn test_no_elo_if_not_human() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );
    call::resign(&contract, &player_a, &game_id).await?;

    let account = view::get_account(&contract, player_a.id()).await?;
    assert!(!account.is_human);
    assert!(account.elo.is_none());
    let account = view::get_account(&contract, player_b.id()).await?;
    assert!(!account.is_human);
    assert!(account.elo.is_none());

    call::add_human(&nada_bot_contract, &player_a, player_a.id()).await?;
    call::update_is_human(&contract, &player_a, player_a.id()).await?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );
    call::resign(&contract, &player_a, &game_id).await?;

    let account = view::get_account(&contract, player_a.id()).await?;
    assert!(account.is_human);
    assert_eq!(account.elo.unwrap(), 1_000.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert!(!account.is_human);
    assert!(account.elo.is_none());

    call::add_human(&nada_bot_contract, &player_b, player_b.id()).await?;
    call::update_is_human(&contract, &player_b, player_b.id()).await?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );
    call::resign(&contract, &player_a, &game_id).await?;

    let account = view::get_account(&contract, player_a.id()).await?;
    assert!(account.is_human);
    assert_eq!(account.elo.unwrap(), 984.);
    let account = view::get_account(&contract, player_b.id()).await?;
    assert!(account.is_human);
    assert_eq!(account.elo.unwrap(), 1_016.);

    Ok(())
}

'''
'''--- crates/chess-test/tests/points/mod.rs ---
use crate::util::*;
use chess_engine::Color;
use chess_lib::{create_challenge_id, Achievement, Difficulty, GameId, GameOutcome, Quest};
use near_contract_standards::fungible_token::events::FtMint;

#[tokio::test]
async fn test_daily_play_move() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    let (_, block_hash, events) =
        call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(points.0, Quest::DailyPlayMove.get_points(false));
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(supply.0, Quest::DailyPlayMove.get_points(false));
    let cooldowns = view::get_quest_cooldowns(&contract, player_a.id()).await?;
    let block = worker.view_block().block_hash(block_hash).await?;
    assert_eq!(
        cooldowns,
        vec![(block.timestamp() / 1_000_000, Quest::DailyPlayMove)]
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_a.id(),
            amount: Quest::DailyPlayMove.get_points(false).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    let (_, _, events) =
        call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_b.id()).await?;
    assert_eq!(points.0, Quest::DailyPlayMove.get_points(false));
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(supply.0, 2 * Quest::DailyPlayMove.get_points(false));
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_b.id(),
            amount: Quest::DailyPlayMove.get_points(false).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    let (_, _, events) =
        call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false) + Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        2 * Quest::DailyPlayMove.get_points(false) + Quest::DailyPlayMove.get_points(true)
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_a.id(),
            amount: Quest::DailyPlayMove.get_points(true).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    let (_, _, events) =
        call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_b.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false) + Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        2 * Quest::DailyPlayMove.get_points(false) + 2 * Quest::DailyPlayMove.get_points(true)
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_b.id(),
            amount: Quest::DailyPlayMove.get_points(true).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    worker.fast_forward(100).await?;

    let (_, _, events) =
        call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(
        points.0,
        2 * Quest::DailyPlayMove.get_points(false) + Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        3 * Quest::DailyPlayMove.get_points(false) + 2 * Quest::DailyPlayMove.get_points(true)
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_a.id(),
            amount: Quest::DailyPlayMove.get_points(false).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    let (_, _, events) =
        call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let points = view::ft_balance_of(&contract, player_b.id()).await?;
    assert_eq!(
        points.0,
        2 * Quest::DailyPlayMove.get_points(false) + Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        4 * Quest::DailyPlayMove.get_points(false) + 2 * Quest::DailyPlayMove.get_points(true)
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_b.id(),
            amount: Quest::DailyPlayMove.get_points(false).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    Ok(())
}

#[tokio::test]
async fn test_first_win_human() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, _), block_hash, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false)
            + 3 * Quest::DailyPlayMove.get_points(true)
            + Achievement::FirstWinHuman.get_points()
    );
    let points = view::ft_balance_of(&contract, player_b.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false) + 2 * Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        2 * Quest::DailyPlayMove.get_points(false)
            + 5 * Quest::DailyPlayMove.get_points(true)
            + Achievement::FirstWinHuman.get_points()
    );
    let achievements = view::get_achievements(&contract, player_a.id()).await?;
    let block = worker.view_block().block_hash(block_hash).await?;
    assert_eq!(
        achievements,
        vec![(block.timestamp() / 1_000_000, Achievement::FirstWinHuman)]
    );
    assert_ft_mint_events(
        events,
        vec![
            FtMint {
                owner_id: player_a.id(),
                amount: Quest::DailyPlayMove.get_points(true).into(),
                memo: Some("DailyPlayMove"),
            },
            FtMint {
                owner_id: player_a.id(),
                amount: Achievement::FirstWinHuman.get_points().into(),
                memo: Some("FirstWinHuman"),
            },
        ],
    )?;

    Ok(())
}

#[tokio::test]
async fn test_first_win_not_human() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, _), block_hash, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false) + 3 * Quest::DailyPlayMove.get_points(true)
    );
    let points = view::ft_balance_of(&contract, player_b.id()).await?;
    assert_eq!(
        points.0,
        Quest::DailyPlayMove.get_points(false) + 2 * Quest::DailyPlayMove.get_points(true)
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        2 * Quest::DailyPlayMove.get_points(false) + 5 * Quest::DailyPlayMove.get_points(true)
    );
    let achievements = view::get_achievements(&contract, player_a.id()).await?;
    worker.view_block().block_hash(block_hash).await?;
    assert!(achievements.is_empty(),);
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_a.id(),
            amount: Quest::DailyPlayMove.get_points(true).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    Ok(())
}

#[tokio::test]
async fn test_first_win_ai() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;

    tokio::try_join!(call::storage_deposit(&contract, &player_a, None, None),)?;

    let (game_id, _) = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, player_a.id().clone(), None);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    let ((outcome, _), block_hash, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    let expected = Quest::DailyPlayMove.get_points(false)
        + 3 * Quest::DailyPlayMove.get_points(true)
        + Achievement::FirstWinAiEasy.get_points();
    assert_eq!(points.0, expected);
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(supply.0, expected);
    let achievements = view::get_achievements(&contract, player_a.id()).await?;
    let block = worker.view_block().block_hash(block_hash).await?;
    assert_eq!(
        achievements,
        vec![(block.timestamp() / 1_000_000, Achievement::FirstWinAiEasy)]
    );
    assert_ft_mint_events(
        events,
        vec![
            FtMint {
                owner_id: player_a.id(),
                amount: Quest::DailyPlayMove.get_points(true).into(),
                memo: Some("DailyPlayMove"),
            },
            FtMint {
                owner_id: player_a.id(),
                amount: Achievement::FirstWinAiEasy.get_points().into(),
                memo: Some("FirstWinAiEasy"),
            },
        ],
    )?;

    Ok(())
}

#[tokio::test]
async fn test_achievement_only_once() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;

    tokio::try_join!(call::storage_deposit(&contract, &player_a, None, None),)?;

    let (game_id, _) = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, player_a.id().clone(), None);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    let ((outcome, _), block_hash, _) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let block = worker.view_block().block_hash(block_hash).await?;

    worker.fast_forward(100).await?;

    let (game_id, _) = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, player_a.id().clone(), None);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    let ((outcome, _), _, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    let expected = 2 * Quest::DailyPlayMove.get_points(false)
        + 6 * Quest::DailyPlayMove.get_points(true)
        + Achievement::FirstWinAiEasy.get_points();
    assert_eq!(points.0, expected);
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(supply.0, expected);
    let achievements = view::get_achievements(&contract, player_a.id()).await?;
    assert_eq!(
        achievements,
        vec![(block.timestamp() / 1_000_000, Achievement::FirstWinAiEasy)]
    );
    assert_ft_mint_events(
        events,
        vec![FtMint {
            owner_id: player_a.id(),
            amount: Quest::DailyPlayMove.get_points(true).into(),
            memo: Some("DailyPlayMove"),
        }],
    )?;

    Ok(())
}

#[tokio::test]
async fn test_multiple_achievements() -> anyhow::Result<()> {
    let (worker, _, contract, _, nada_bot_contract) = initialize_contracts(None).await?;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::add_human(&nada_bot_contract, &player_a, player_a.id()),
        call::add_human(&nada_bot_contract, &player_b, player_b.id())
    )?;
    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None)
    )?;

    call::challenge(&contract, &player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (game_id, _) = call::accept_challenge(&contract, &player_b, &challenge_id).await?;
    let block_height = game_id.0;
    let game_id = GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    );

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, _), block_hash, _) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let block = worker.view_block().block_hash(block_hash).await?;
    let human_achievement = (block.timestamp() / 1_000_000, Achievement::FirstWinHuman);

    worker.fast_forward(100).await?;

    let (game_id, _) = call::create_ai_game(&contract, &player_a, Difficulty::Easy).await?;
    let block_height = game_id.0;
    let game_id = GameId(block_height, player_a.id().clone(), None);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    let ((outcome, _), block_hash, _) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;

    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    let block = worker.view_block().block_hash(block_hash).await?;
    let ai_achievement = (block.timestamp() / 1_000_000, Achievement::FirstWinAiEasy);
    let points = view::ft_balance_of(&contract, player_a.id()).await?;
    assert_eq!(
        points.0,
        2 * Quest::DailyPlayMove.get_points(false)
            + 6 * Quest::DailyPlayMove.get_points(true)
            + Achievement::FirstWinHuman.get_points()
            + Achievement::FirstWinAiEasy.get_points()
    );
    let supply = view::ft_total_supply(&contract).await?;
    assert_eq!(
        supply.0,
        3 * Quest::DailyPlayMove.get_points(false)
            + 8 * Quest::DailyPlayMove.get_points(true)
            + Achievement::FirstWinHuman.get_points()
            + Achievement::FirstWinAiEasy.get_points()
    );
    let achievements = view::get_achievements(&contract, player_a.id()).await?;
    assert_eq!(achievements, vec![human_achievement, ai_achievement]);

    Ok(())
}

'''
'''--- crates/chess-test/tests/util/call.rs ---
use super::log_tx_result;
use chess_common::ContractEvent;
use chess_lib::{
    create_challenge_id, AcceptChallengeMsg, BetMsg, ChallengeId, ChallengeMsg, Difficulty, Fees,
    FtReceiverMsg, GameId, GameOutcome, MoveStr,
};
use near_sdk::json_types::U128;
use near_workspaces::{
    result::{ExecutionFinalResult, ExecutionResult, Value},
    types::NearToken,
    Account, AccountId, Contract, CryptoHash,
};
use serde::Serialize;
use serde_json::json;

pub async fn migrate(
    contract: &Contract,
    sender: &Account,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("migrate"),
        sender
            .call(contract.id(), "migrate")
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn add_human(
    contract: &Contract,
    sender: &Account,
    account_id: &AccountId,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        Some("add_human"),
        sender
            .call(contract.id(), "add_human")
            .args_json((account_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn update_is_human(
    contract: &Contract,
    sender: &Account,
    account_id: &AccountId,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        Some("update_is_human"),
        sender
            .call(contract.id(), "update_is_human")
            .args_json((account_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn pause(
    contract: &Contract,
    sender: &Account,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        Some("pause"),
        sender
            .call(contract.id(), "pause")
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn resume(
    contract: &Contract,
    sender: &Account,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        Some("resume"),
        sender
            .call(contract.id(), "resume")
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn set_fees(
    contract: &Contract,
    sender: &Account,
    fees: &Fees,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("set_fees"),
        sender
            .call(contract.id(), "set_fees")
            .args_json(fees)
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn set_wager_whitelist(
    contract: &Contract,
    sender: &Account,
    whitelist: &[AccountId],
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("set_wager_whitelist"),
        sender
            .call(contract.id(), "set_wager_whitelist")
            .args_json((whitelist,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn register_token(
    contract: &Contract,
    sender: &Account,
    token_id: &AccountId,
    amount: U128,
    deposit: NearToken,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("register_token"),
        sender
            .call(contract.id(), "register_token")
            .args_json((token_id, amount))
            .deposit(deposit)
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn storage_deposit(
    contract: &Contract,
    sender: &Account,
    account_id: Option<&AccountId>,
    deposit: Option<NearToken>,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        Some("storage_deposit"),
        sender
            .call(contract.id(), "storage_deposit")
            .args_json((account_id, None::<bool>))
            .deposit(deposit.unwrap_or(NearToken::from_millinear(50)))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn mint_tokens(
    token: &Contract,
    receiver: &AccountId,
    amount: u128,
) -> anyhow::Result<ExecutionResult<Value>> {
    let (res, _) = log_tx_result(
        None,
        token
            .call("mint")
            .args_json((receiver, U128::from(amount)))
            .transact()
            .await?,
    )?;
    Ok(res)
}

pub async fn create_ai_game(
    contract: &Contract,
    sender: &Account,
    difficulty: Difficulty,
) -> anyhow::Result<(GameId, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("create_ai_game"),
        sender
            .call(contract.id(), "create_ai_game")
            .args_json((difficulty,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res.json()?, events))
}

pub async fn challenge(
    contract: &Contract,
    sender: &Account,
    challenged_id: &AccountId,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("challenge"),
        sender
            .call(contract.id(), "challenge")
            .args_json((challenged_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn challenge_with_wager(
    sender: &Account,
    token_id: &AccountId,
    receiver_id: &AccountId,
    amount: U128,
    msg: ChallengeMsg,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("challenge_with_wager"),
        ft_transfer_call(
            sender,
            token_id,
            receiver_id,
            amount,
            FtReceiverMsg::Challenge(msg),
        )
        .await?,
    )?;
    Ok((res, events))
}

pub async fn accept_challenge(
    contract: &Contract,
    sender: &Account,
    challenge_id: &ChallengeId,
) -> anyhow::Result<(GameId, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("accept_challenge"),
        sender
            .call(contract.id(), "accept_challenge")
            .args_json((challenge_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res.json()?, events))
}

pub async fn accept_challenge_with_wager(
    sender: &Account,
    token_id: &AccountId,
    receiver_id: &AccountId,
    amount: U128,
    msg: AcceptChallengeMsg,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("accept_challenge_with_wager"),
        ft_transfer_call(
            sender,
            token_id,
            receiver_id,
            amount,
            FtReceiverMsg::AcceptChallenge(msg),
        )
        .await?,
    )?;
    Ok((res, events))
}

pub async fn reject_challenge(
    contract: &Contract,
    sender: &Account,
    challenge_id: &ChallengeId,
    is_challenger: bool,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("reject_challenge"),
        sender
            .call(contract.id(), "reject_challenge")
            .args_json((challenge_id, is_challenger))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn play_move(
    contract: &Contract,
    sender: &Account,
    game_id: &GameId,
    mv: MoveStr,
) -> anyhow::Result<(
    (Option<GameOutcome>, [String; 8]),
    CryptoHash,
    Vec<ContractEvent>,
)> {
    let (res, events) = log_tx_result(
        Some("play_move"),
        sender
            .call(contract.id(), "play_move")
            .args_json((game_id, mv))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res.json()?, res.receipt_outcomes()[0].block_hash, events))
}

pub async fn resign(
    contract: &Contract,
    sender: &Account,
    game_id: &GameId,
) -> anyhow::Result<(GameOutcome, Vec<ContractEvent>)> {
    let (res, events) = log_tx_result(
        Some("resign"),
        sender
            .call(contract.id(), "resign")
            .args_json((game_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res.json()?, events))
}

pub async fn cleanup(
    contract: &Contract,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events) = log_tx_result(
        Some("cleanup"),
        contract.call("cleanup").max_gas().transact().await?,
    )?;
    Ok((res, events))
}

pub async fn cancel(
    contract: &Contract,
    sender: &Account,
    game_id: &GameId,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events) = log_tx_result(
        Some("cancel"),
        sender
            .call(contract.id(), "cancel")
            .args_json((game_id,))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

pub async fn bet(
    sender: &Account,
    token_id: &AccountId,
    receiver_id: &AccountId,
    amount: U128,
    msg: BetMsg,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events): (ExecutionResult<Value>, Vec<ContractEvent>) = log_tx_result(
        Some("bet"),
        ft_transfer_call(
            sender,
            token_id,
            receiver_id,
            amount,
            FtReceiverMsg::Bet(msg),
        )
        .await?,
    )?;
    Ok((res, events))
}

pub async fn withdraw_token(
    contract: &Contract,
    sender: &Account,
    token_id: &AccountId,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    let (res, events) = log_tx_result(
        Some("withdraw_token"),
        sender
            .call(contract.id(), "withdraw_token")
            .args_json((token_id,))
            .deposit(NearToken::from_yoctonear(1))
            .max_gas()
            .transact()
            .await?,
    )?;
    Ok((res, events))
}

async fn ft_transfer_call<T: Serialize>(
    sender: &Account,
    token_id: &AccountId,
    receiver_id: &AccountId,
    amount: U128,
    msg: T,
) -> anyhow::Result<ExecutionFinalResult> {
    Ok(sender
        .call(token_id, "ft_transfer_call")
        .args_json((
            receiver_id,
            amount,
            Option::<String>::None,
            json!(msg).to_string(),
        ))
        .max_gas()
        .deposit(NearToken::from_yoctonear(1))
        .transact()
        .await?)
}

pub async fn create_pvp_game(
    contract: &Contract,
    player_a: &Account,
    player_b: &Account,
) -> anyhow::Result<GameId> {
    challenge(contract, player_a, player_b.id()).await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let (game_id, _) = accept_challenge(contract, player_b, &challenge_id).await?;
    let block_height = game_id.0;
    Ok(GameId(
        block_height,
        player_a.id().clone(),
        Some(player_b.id().clone()),
    ))
}

'''
'''--- crates/chess-test/tests/util/macros.rs ---
#[macro_export]
macro_rules! bet {
    ( $better:expr, $token_id:expr, $contract_id:expr, $amount:expr, $winner:expr => $looser:expr ) => {
        call::bet(
            $better,
            $token_id,
            $contract_id,
            $amount.into(),
            BetMsg {
                players: ($winner.id().clone(), $looser.id().clone()),
                winner: $winner.id().clone(),
            },
        )
    };
}

'''
'''--- crates/chess-test/tests/util/mod.rs ---
pub mod call;
pub mod macros;
pub mod view;

use chess_common::{ContractEvent, KNOWN_EVENT_KINDS};
use chess_lib::{chess_notification_to_value, ChessEvent, ChessNotification};
use near_contract_standards::fungible_token::events::FtMint;
use near_sdk::AccountId;
use near_workspaces::{
    network::Sandbox,
    result::{ExecutionFinalResult, ExecutionResult, Value, ViewResultDetails},
    types::{KeyType, NearToken, SecretKey},
    Account, Contract, Worker,
};
use owo_colors::OwoColorize;
use serde::Serialize;
use serde_json::json;
use std::{collections::HashMap, fmt};
use tokio::fs;

#[macro_export]
macro_rules! print_log {
    ( $x:expr, $($y:expr),+ ) => {
        let thread_name = std::thread::current().name().unwrap().to_string();
        if thread_name == "main" {
            println!($x, $($y),+);
        } else {
            let mut s = format!($x, $($y),+);
            s = s.split('\n').map(|s| {
                let mut pre = "    ".to_string();
                pre.push_str(s);
                pre.push('\n');
                pre
            }).collect::<String>();
            println!(
                "{}\n{}",
                thread_name.bold(),
                &s[..s.len() - 1],
            );
        }
    };
}

pub async fn initialize_contracts(
    path: Option<&'static str>,
) -> anyhow::Result<(Worker<Sandbox>, Account, Contract, Contract, Contract)> {
    let worker = near_workspaces::sandbox().await?;

    let owner = worker.dev_create_account().await?;

    let wasm = fs::read(path.unwrap_or("../../res/chess_testing.wasm")).await?;

    let key = SecretKey::from_random(KeyType::ED25519);
    let social_contract = worker
        .create_tla_and_deploy(
            "social.test.near".parse()?,
            key,
            &fs::read("../../res/social_db.wasm").await?,
        )
        .await?
        .into_result()?;
    social_contract
        .call("new")
        .max_gas()
        .transact()
        .await?
        .into_result()?;
    social_contract
        .call("set_status")
        .args_json(("Live",))
        .max_gas()
        .transact()
        .await?
        .into_result()?;

    let key = SecretKey::from_random(KeyType::ED25519);
    let nada_bot_contract = worker
        .create_tla_and_deploy(
            "nada-bot.test.near".parse()?,
            key,
            &fs::read("../../res/nada_bot_stub.wasm").await?,
        )
        .await?
        .into_result()?;
    nada_bot_contract
        .call("new")
        .max_gas()
        .transact()
        .await?
        .into_result()?;

    let key = SecretKey::from_random(KeyType::ED25519);
    let contract = worker
        .create_tla_and_deploy("chess.test.near".parse()?, key, &wasm)
        .await?
        .into_result()?;

    contract
        .call("new")
        .args_json((social_contract.id(), nada_bot_contract.id()))
        .max_gas()
        .transact()
        .await?
        .into_result()?;

    contract
        .as_account()
        .call(social_contract.id(), "set")
        .args_json(serde_json::json!({
            "data": {
                contract.id().as_str(): {}
            }
        }))
        .deposit(NearToken::from_near(2))
        .transact()
        .await?
        .into_result()?;

    Ok((worker, owner, contract, social_contract, nada_bot_contract))
}

pub async fn initialize_token(
    worker: &Worker<Sandbox>,
    name: &str,
    ticker: &str,
    icon: Option<&str>,
    decimals: u8,
) -> anyhow::Result<Contract> {
    let token_contract = worker
        .dev_deploy(&fs::read("../../res/test_token.wasm").await?)
        .await?;
    token_contract
        .call("new")
        .args_json((name, ticker, icon, decimals))
        .transact()
        .await?
        .into_result()?;

    Ok(token_contract)
}

pub fn log_tx_result(
    ident: Option<&str>,
    res: ExecutionFinalResult,
) -> anyhow::Result<(ExecutionResult<Value>, Vec<ContractEvent>)> {
    for failure in res.receipt_failures() {
        print_log!("{:#?}", failure.bright_red());
    }
    let mut events = vec![];
    for outcome in res.receipt_outcomes() {
        if !outcome.logs.is_empty() {
            for log in outcome.logs.iter() {
                if log.starts_with("EVENT_JSON:") {
                    if let Ok(event) =
                        serde_json::from_str::<ContractEvent>(&log.replace("EVENT_JSON:", ""))
                    {
                        events.push(event.clone());
                        print_log!(
                            "{}: {}\n{}",
                            "account".bright_cyan(),
                            outcome.executor_id,
                            event
                        );
                    }
                } else {
                    print_log!("{}", log.bright_yellow());
                }
            }
        }
    }
    if let Some(ident) = ident {
        print_log!(
            "{} gas burnt: {:.3} {}",
            ident.italic(),
            res.total_gas_burnt.as_tgas().bright_magenta().bold(),
            "TGas".bright_magenta().bold()
        );
    }
    Ok((res.into_result()?, events))
}

pub fn log_view_result(res: ViewResultDetails) -> anyhow::Result<ViewResultDetails> {
    if !res.logs.is_empty() {
        for log in res.logs.iter() {
            print_log!("{}", log.bright_yellow());
        }
    }
    Ok(res)
}

pub fn assert_event_emits<T>(actual: T, events: Vec<ChessEvent>) -> anyhow::Result<()>
where
    T: Serialize + fmt::Debug + Clone,
{
    let mut actual = serde_json::to_value(&actual)?;
    actual.as_array_mut().unwrap().retain(|ac| {
        let event_str = ac
            .as_object()
            .unwrap()
            .get("event")
            .unwrap()
            .as_str()
            .unwrap();
        KNOWN_EVENT_KINDS.contains(&event_str)
    });
    let mut expected = vec![];
    for event in events {
        let mut expected_event = serde_json::to_value(event)?;
        let ev = expected_event.as_object_mut().unwrap();
        let event_str = ev.get("event").unwrap().as_str().unwrap();
        if !KNOWN_EVENT_KINDS.contains(&event_str) {
            continue;
        }
        ev.insert("standard".into(), "chess-game".into());
        expected.push(expected_event);
    }
    assert_eq!(
        &actual,
        &serde_json::to_value(&expected)?,
        "actual and expected events did not match.\nActual: {:#?}\nExpected: {:#?}",
        &actual,
        &expected
    );
    Ok(())
}

pub fn assert_ft_mint_events<T>(actual: T, events: Vec<FtMint>) -> anyhow::Result<()>
where
    T: Serialize + fmt::Debug + Clone,
{
    let mut actual = serde_json::to_value(&actual)?;
    actual.as_array_mut().unwrap().retain(|ac| {
        let event_str = ac
            .as_object()
            .unwrap()
            .get("event")
            .unwrap()
            .as_str()
            .unwrap();
        event_str == "ft_mint"
    });
    let mut expected = vec![];
    for event in events {
        expected.push(json!({
            "event": "ft_mint",
            "standard": "nep141",
            "version": "1.0.0",
            "data": [event]
        }));
    }
    assert_eq!(
        &actual,
        &serde_json::to_value(&expected)?,
        "actual and expected events did not match.\nActual: {:#?}\nExpected: {:#?}",
        &actual,
        &expected
    );
    Ok(())
}

pub async fn assert_notification(
    contract: &Contract,
    social_contract: &Contract,
    notifications: HashMap<AccountId, Vec<ChessNotification>>,
) -> anyhow::Result<()> {
    let actual_notification = view::get_social(
        social_contract,
        vec![format!("{}/index/notify", contract.id()).to_string()],
    )
    .await?;
    let mut actual: serde_json::Value = serde_json::from_str(
        actual_notification
            .get(contract.id())
            .unwrap()
            .get("index")
            .unwrap()
            .get("notify")
            .unwrap()
            .as_str()
            .unwrap(),
    )?;
    let sorting = |a: &serde_json::Value, b: &serde_json::Value| {
        a.get("key")
            .unwrap()
            .as_str()
            .unwrap()
            .cmp(b.get("key").unwrap().as_str().unwrap())
    };
    actual.as_array_mut().unwrap().sort_by(sorting);
    let mut expected = json!(&notifications
        .iter()
        .flat_map(|(account_id, notifications)| {
            let mut notifications: Vec<_> = notifications
                .iter()
                .map(|notification| chess_notification_to_value(account_id, notification))
                .collect();
            notifications.push(json!({
                "key": account_id,
                "value": {
                    "type": "poke"
                }
            }));
            notifications
        })
        .collect::<Vec<_>>());
    expected.as_array_mut().unwrap().sort_by(sorting);
    assert_eq!(actual, expected);
    Ok(())
}

'''
'''--- crates/chess-test/tests/util/view.rs ---
use super::log_view_result;
use chess_lib::{
    AccountInfo, Achievement, BetInfo, Challenge, ChallengeId, Fees, GameId, GameInfo, Quest,
};
use near_sdk::json_types::U128;
use near_workspaces::{AccountId, Contract};
use serde_json::Value;
use std::collections::HashMap;

pub async fn get_game_ids(
    contract: &Contract,
    account_id: &AccountId,
) -> anyhow::Result<Vec<GameId>> {
    let res = log_view_result(
        contract
            .call("get_game_ids")
            .args_json((account_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_game_info(contract: &Contract, game_id: &GameId) -> anyhow::Result<GameInfo> {
    let res = log_view_result(
        contract
            .call("game_info")
            .args_json((game_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_bet_info(
    contract: &Contract,
    players: (&AccountId, &AccountId),
) -> anyhow::Result<BetInfo> {
    let res = log_view_result(
        contract
            .call("bet_info")
            .args_json((players,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_account(
    contract: &Contract,
    account_id: &AccountId,
) -> anyhow::Result<AccountInfo> {
    let res = log_view_result(
        contract
            .call("get_account")
            .args_json((account_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_quest_cooldowns(
    contract: &Contract,
    account_id: &AccountId,
) -> anyhow::Result<Vec<(u64, Quest)>> {
    let res = log_view_result(
        contract
            .call("get_quest_cooldowns")
            .args_json((account_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_achievements(
    contract: &Contract,
    account_id: &AccountId,
) -> anyhow::Result<Vec<(u64, Achievement)>> {
    let res = log_view_result(
        contract
            .call("get_achievements")
            .args_json((account_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_challenges(
    contract: &Contract,
    account_id: &AccountId,
    is_challenger: bool,
) -> anyhow::Result<Vec<ChallengeId>> {
    let res = log_view_result(
        contract
            .call("get_challenges")
            .args_json((account_id, is_challenger))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_challenge(
    contract: &Contract,
    challenge_id: &ChallengeId,
) -> anyhow::Result<Challenge> {
    let res = log_view_result(
        contract
            .call("get_challenge")
            .args_json((challenge_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_fees(contract: &Contract) -> anyhow::Result<Fees> {
    let res = log_view_result(contract.call("get_fees").max_gas().view().await?)?;
    Ok(res.json()?)
}

pub async fn get_token_whitelist(contract: &Contract) -> anyhow::Result<Vec<AccountId>> {
    let res = log_view_result(
        contract
            .call("get_token_whitelist")
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn get_social(
    contract: &Contract,
    keys: Vec<String>,
) -> anyhow::Result<HashMap<AccountId, Value>> {
    let res = log_view_result(
        contract
            .call("get")
            .args_json((keys, None::<String>))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn ft_balance_of(contract: &Contract, account_id: &AccountId) -> anyhow::Result<U128> {
    let res = log_view_result(
        contract
            .call("ft_balance_of")
            .args_json((account_id,))
            .max_gas()
            .view()
            .await?,
    )?;
    Ok(res.json()?)
}

pub async fn ft_total_supply(contract: &Contract) -> anyhow::Result<U128> {
    let res = log_view_result(contract.call("ft_total_supply").max_gas().view().await?)?;
    Ok(res.json()?)
}

'''
'''--- crates/chess-test/tests/wager/mod.rs ---
use crate::util::*;
use chess_common::{
    AcceptChallenge, ChessEvent as ChessEventCommon, ChessEventKind, ContractEvent,
};
use chess_engine::Color;
use chess_lib::{
    create_challenge_id, AcceptChallengeMsg, Challenge, ChallengeMsg, ChessEvent, Fees, GameId,
    GameOutcome, Player,
};
use near_workspaces::types::NearToken;

#[tokio::test]
async fn test_accept_challenge_success() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    let (_res, events) = call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());
    let challenge_ids = view::get_challenges(&contract, player_a.id(), true).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge_ids = view::get_challenges(&contract, player_a.id(), false).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), true).await?;
    assert!(challenge_ids.is_empty());
    let challenge_ids = view::get_challenges(&contract, player_b.id(), false).await?;
    assert_eq!(challenge_ids, vec![challenge_id.clone()]);
    let challenge = view::get_challenge(&contract, &challenge_id).await?;
    let expected_challenge = Challenge::new(
        player_a.id().clone(),
        player_b.id().clone(),
        Some((test_token.id().clone(), wager_amount.into())),
    );
    assert_eq!(&challenge, &expected_challenge);
    assert_event_emits(events, vec![ChessEvent::Challenge(expected_challenge)])?;

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);
    let block_height = game_id.0;
    assert_event_emits(
        events,
        vec![
            ChessEvent::AcceptChallenge {
                challenge_id: create_challenge_id(player_a.id(), player_b.id()),
                game_id: game_id.clone(),
            },
            ChessEvent::CreateGame {
                game_id: game_id.clone(),
                white: Player::Human(player_a.id().clone()),
                black: Player::Human(player_b.id().clone()),
                board: [
                    "RNBQKBNR".to_string(),
                    "PPPPPPPP".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "pppppppp".to_string(),
                    "rnbqkbnr".to_string(),
                ],
            },
        ],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert_eq!(
        game_ids,
        vec![GameId(
            block_height,
            player_a.id().clone(),
            Some(player_b.id().clone())
        )]
    );
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert_eq!(
        game_ids,
        vec![GameId(
            block_height,
            player_a.id().clone(),
            Some(player_b.id().clone())
        )]
    );

    Ok(())
}

#[tokio::test]
async fn test_accept_challenge_not_enough_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        (wager_amount - 1).into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());

    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, wager_amount);

    Ok(())
}

#[tokio::test]
async fn test_accept_challenge_refund_too_much_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount + 1)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        (wager_amount + 1).into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);
    let block_height = game_id.0;
    assert_event_emits(
        events,
        vec![
            ChessEvent::AcceptChallenge {
                challenge_id: create_challenge_id(player_a.id(), player_b.id()),
                game_id: game_id.clone(),
            },
            ChessEvent::CreateGame {
                game_id: game_id.clone(),
                white: Player::Human(player_a.id().clone()),
                black: Player::Human(player_b.id().clone()),
                board: [
                    "RNBQKBNR".to_string(),
                    "PPPPPPPP".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "        ".to_string(),
                    "pppppppp".to_string(),
                    "rnbqkbnr".to_string(),
                ],
            },
        ],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert_eq!(
        game_ids,
        vec![GameId(
            block_height,
            player_a.id().clone(),
            Some(player_b.id().clone())
        )]
    );
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert_eq!(
        game_ids,
        vec![GameId(
            block_height,
            player_a.id().clone(),
            Some(player_b.id().clone())
        )]
    );

    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, 1);

    Ok(())
}

#[tokio::test]
async fn test_reject_challenge_refund_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::reject_challenge(&contract, &player_b, &challenge_id, false).await?;
    assert_event_emits(
        events,
        vec![ChessEvent::RejectChallenge {
            challenge_id: create_challenge_id(player_a.id(), player_b.id()),
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());

    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, wager_amount);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, wager_amount);

    Ok(())
}

#[tokio::test]
async fn test_reject_wager_no_whitelist() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let (res, _) = call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    assert!(!res.receipt_failures().is_empty());

    Ok(())
}

#[tokio::test]
async fn test_reject_wager_wrong_token() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 6).await?;
    let wrong_test_token =
        initialize_token(&worker, "HarryPotterObamaSonicInu", "BITCOIN", None, 6).await?;
    let wager_amount = 10_000_000;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &wrong_test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &wrong_test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &wrong_test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&wrong_test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone(), wrong_test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (res, _) = call::accept_challenge_with_wager(
        &player_b,
        wrong_test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    assert!(!res.receipt_failures().is_empty());

    Ok(())
}

#[tokio::test]
async fn test_cancel_game_refund_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);

    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 2 * wager_amount);

    worker.fast_forward(100).await?;

    let (_res, events) = call::cancel(&contract, &player_b, &game_id).await?;
    assert_event_emits(
        events,
        vec![ChessEvent::CancelGame {
            game_id: game_id.clone(),
            cancelled_by: player_b.id().clone(),
        }],
    )?;
    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, wager_amount);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, wager_amount);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_finish_game_payout_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;
    let expected_board = [
        "RNB K NR".to_string(),
        "PPPP PPP".to_string(),
        "        ".to_string(),
        "p B P   ".to_string(),
        "        ".to_string(),
        "        ".to_string(),
        " ppppQpp".to_string(),
        "rnbqkbnr".to_string(),
    ];
    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    assert_eq!(board, expected_board);
    assert_event_emits(
        events,
        vec![ChessEvent::PlayMove {
            game_id: game_id.clone(),
            color: Color::White,
            mv: "f3 to f7".to_string(),
            board: expected_board,
            outcome: Some(GameOutcome::Victory(Color::White)),
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, 2 * wager_amount);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

#[tokio::test]
async fn test_finish_game_payout_fees() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 6).await?;
    let wager_amount = 10_000_000;

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;
    let royalty_account_a = worker.dev_create_account().await?;
    let royalty_account_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        ),
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let fees = Fees {
        treasury: 900,
        royalties: vec![
            (royalty_account_a.id().clone(), 70),
            (royalty_account_b.id().clone(), 30),
        ],
    };
    call::set_fees(&contract, contract.as_account(), &fees).await?;
    let actual_fees = view::get_fees(&contract).await?;
    assert_eq!(fees, actual_fees);

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    let amount = NearToken::from_millinear(50);
    call::register_token(
        &contract,
        contract.as_account(),
        test_token.id(),
        amount.as_yoctonear().into(),
        NearToken::from_yoctonear(amount.as_yoctonear() * 3),
    )
    .await?;

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);

    call::play_move(&contract, &player_a, &game_id, "e2e4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a7a6".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "d1f3".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a6a5".to_string()).await?;
    call::play_move(&contract, &player_a, &game_id, "f1c4".to_string()).await?;
    call::play_move(&contract, &player_b, &game_id, "a5a4".to_string()).await?;
    let ((outcome, board), _, events) =
        call::play_move(&contract, &player_a, &game_id, "f3f7".to_string()).await?;
    let expected_board = [
        "RNB K NR".to_string(),
        "PPPP PPP".to_string(),
        "        ".to_string(),
        "p B P   ".to_string(),
        "        ".to_string(),
        "        ".to_string(),
        " ppppQpp".to_string(),
        "rnbqkbnr".to_string(),
    ];
    assert_eq!(outcome.unwrap(), GameOutcome::Victory(Color::White));
    assert_eq!(board, expected_board);
    assert_event_emits(
        events,
        vec![ChessEvent::PlayMove {
            game_id: game_id.clone(),
            color: Color::White,
            mv: "f3 to f7".to_string(),
            board: expected_board,
            outcome: Some(GameOutcome::Victory(Color::White)),
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, 19_000_000);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 900_000);
    let balance = view::ft_balance_of(&test_token, royalty_account_a.id()).await?;
    assert_eq!(balance.0, 70_000);
    let balance = view::ft_balance_of(&test_token, royalty_account_b.id()).await?;
    assert_eq!(balance.0, 30_000);

    Ok(())
}

#[tokio::test]
async fn test_resign_payout_wager() -> anyhow::Result<()> {
    let (worker, _, contract, _, _) = initialize_contracts(None).await?;
    let test_token = initialize_token(&worker, "wrapped Near", "wNEAR", None, 24).await?;
    let wager_amount = 10_000_000_000_000_000_000_000_000; // 10 NEAR

    let player_a = worker.dev_create_account().await?;
    let player_b = worker.dev_create_account().await?;

    tokio::try_join!(
        call::storage_deposit(&contract, &player_a, None, None),
        call::storage_deposit(&contract, &player_b, None, None),
        call::storage_deposit(
            &test_token,
            contract.as_account(),
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_a,
            None,
            Some(NearToken::from_millinear(100)),
        ),
        call::storage_deposit(
            &test_token,
            &player_b,
            None,
            Some(NearToken::from_millinear(100)),
        )
    )?;
    tokio::try_join!(
        call::mint_tokens(&test_token, player_a.id(), wager_amount),
        call::mint_tokens(&test_token, player_b.id(), wager_amount)
    )?;

    let whitelist = vec![test_token.id().clone()];
    call::set_wager_whitelist(&contract, contract.as_account(), &whitelist).await?;
    let actual_whitelist = view::get_token_whitelist(&contract).await?;
    assert_eq!(whitelist, actual_whitelist);

    call::challenge_with_wager(
        &player_a,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        ChallengeMsg {
            challenged_id: player_b.id().clone(),
        },
    )
    .await?;
    let challenge_id = create_challenge_id(player_a.id(), player_b.id());

    let (_res, events) = call::accept_challenge_with_wager(
        &player_b,
        test_token.id(),
        contract.id(),
        wager_amount.into(),
        AcceptChallengeMsg { challenge_id },
    )
    .await?;
    let game_id = get_game_id(&events);

    let (res, events) = call::resign(&contract, &player_b, &game_id).await?;

    assert_eq!(res, GameOutcome::Victory(Color::White));
    assert_event_emits(
        events,
        vec![ChessEvent::ResignGame {
            game_id: game_id.clone(),
            resigner: Color::Black,
            outcome: GameOutcome::Victory(Color::White),
        }],
    )?;

    let game_ids = view::get_game_ids(&contract, player_a.id()).await?;
    assert!(game_ids.is_empty());
    let game_ids = view::get_game_ids(&contract, player_b.id()).await?;
    assert!(game_ids.is_empty());
    let balance = view::ft_balance_of(&test_token, player_a.id()).await?;
    assert_eq!(balance.0, 2 * wager_amount);
    let balance = view::ft_balance_of(&test_token, player_b.id()).await?;
    assert_eq!(balance.0, 0);
    let balance = view::ft_balance_of(&test_token, contract.id()).await?;
    assert_eq!(balance.0, 0);

    Ok(())
}

fn get_game_id(events: &[ContractEvent]) -> GameId {
    events
        .iter()
        .find_map(|event| {
            if let ContractEvent::ChessGame(ChessEventCommon {
                event_kind: ChessEventKind::AcceptChallenge(AcceptChallenge { game_id, .. }),
                ..
            }) = event
            {
                Some(game_id)
            } else {
                None
            }
        })
        .unwrap()
        .clone()
}

// TODO stalemate refund wager

'''
'''--- crates/chess/Cargo.toml ---
[package]
name = "chess"
version = "1.0.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[lib]
crate-type = ["cdylib"]

[dependencies]
chess-lib = { path = "../chess-lib" }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies.near-sdk]
version = "5.0.0"
default-features = false
features = ["abi", "unstable"]

[features]
integration-test = ["chess-lib/integration-test"]

'''
'''--- crates/chess/src/lib.rs ---
pub use chess_lib::*;

'''
'''--- crates/indexer/Cargo.toml ---
[package]
name = "indexer"
version = "0.0.1"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[dependencies]
chess-common = { path = "../chess-common" }
chess-lib = { path = "../chess-lib" }
anyhow.workspace = true
async-stream.workspace = true
dotenv.workspace = true
futures.workspace = true
futures-core.workspace = true
futures-util.workspace = true
near-lake-framework.workspace = true
once_cell.workspace = true
owo-colors.workspace = true
rayon.workspace = true
reqwest.workspace = true
serde.workspace = true
serde_json.workspace = true
tokio.workspace = true
tokio-stream.workspace = true

'''
'''--- crates/indexer/src/indexer.rs ---
use anyhow::Result;
use async_stream::stream;
use chess_common::{ChessEvent, ChessEventKind, ContractEvent};
use futures_core::Stream;
use near_lake_framework::{
    near_indexer_primitives::{
        types::{AccountId, BlockHeight},
        views::{
            ExecutionOutcomeView, ExecutionOutcomeWithIdView, ExecutionStatusView, ReceiptEnumView,
            ReceiptView,
        },
        IndexerExecutionOutcomeWithReceipt, StreamerMessage,
    },
    LakeConfigBuilder,
};
use once_cell::sync::Lazy;
use owo_colors::OwoColorize;
use reqwest::{
    header::{HeaderMap, AUTHORIZATION},
    Client, Url,
};
use serde::Deserialize;
use std::env;

static GAME_ACCOUNT_ID: Lazy<AccountId> =
    Lazy::new(|| env::var("GAME_ACCOUNT_ID").unwrap().parse().unwrap());

#[derive(Deserialize)]
#[serde(rename_all = "camelCase")]
struct Info {
    last_block_height: u64,
}

pub async fn start_indexing() -> Result<impl Stream<Item = (BlockHeight, u64, Vec<ChessEvent>)>> {
    let start_block_height = get_current_block_height().await?;

    let config = LakeConfigBuilder::default()
        .mainnet()
        .start_block_height(start_block_height)
        .build()
        .unwrap();

    let (_, mut stream) = near_lake_framework::streamer(config);

    Ok(stream! {
        while let Some(msg) = stream.recv().await {
            let block_height = msg.block.header.height;
            let timestamp = msg.block.header.timestamp_nanosec;
            let events = handle_message(msg);

            yield (block_height, timestamp, events);
        }
    })
}

fn handle_message(msg: StreamerMessage) -> Vec<ChessEvent> {
    let mut res = vec![];
    for shard in msg.shards {
        for IndexerExecutionOutcomeWithReceipt {
            execution_outcome: ExecutionOutcomeWithIdView { outcome, .. },
            receipt:
                ReceiptView {
                    receipt,
                    receiver_id,
                    ..
                },
        } in shard.receipt_execution_outcomes
        {
            if receiver_id != *GAME_ACCOUNT_ID {
                continue;
            }
            match outcome.status {
                ExecutionStatusView::Unknown | ExecutionStatusView::Failure(_) => continue,
                _ => {}
            }

            if let ReceiptEnumView::Action { .. } = receipt {
                let mut events = extract_events(msg.block.header.timestamp / 1_000_000, &outcome);
                res.append(&mut events);
            }
        }

        if let Some(chunk) = shard.chunk {
            for transaction in chunk.transactions {
                if transaction.transaction.receiver_id != *GAME_ACCOUNT_ID {
                    continue;
                }
                match transaction.outcome.execution_outcome.outcome.status {
                    ExecutionStatusView::Unknown | ExecutionStatusView::Failure(_) => continue,
                    _ => {}
                }
                let mut events = extract_events(
                    msg.block.header.timestamp_nanosec / 1_000_000,
                    &transaction.outcome.execution_outcome.outcome,
                );
                res.append(&mut events);
            }
        }
    }
    res
}

async fn get_current_block_height() -> anyhow::Result<u64> {
    let mut headers = HeaderMap::new();
    headers.insert(
        AUTHORIZATION,
        format!("Bearer {}", env::var("INDEXER_SECRET")?).parse()?,
    );
    let client = Client::builder().default_headers(headers).build()?;
    let base_url = Url::parse(&env::var("API_BASE_URL")?)?;
    let info: Info = client
        .get(base_url.join("info")?)
        .send()
        .await?
        .json()
        .await?;
    if info.last_block_height > 0 {
        Ok(info.last_block_height + 1)
    } else {
        Ok(env::var("START_BLOCK_HEIGHT").unwrap().parse()?)
    }
}

fn extract_events(timestamp_ms: u64, outcome: &ExecutionOutcomeView) -> Vec<ChessEvent> {
    let prefix = "EVENT_JSON:";
    outcome
        .logs
        .iter()
        .filter_map(|untrimmed_log| {
            let log = untrimmed_log.trim();
            if !log.starts_with(prefix) {
                return None;
            }

            if let Ok(ContractEvent::ChessGame(event)) =
                serde_json::from_str::<ContractEvent>(log[prefix.len()..].trim())
            {
                match &event.event_kind {
                    ChessEventKind::CreateGame(_)
                    | ChessEventKind::PlayMove(_)
                    | ChessEventKind::ResignGame(_)
                    | ChessEventKind::CancelGame(_) => {
                        println!(
                            "\n{}{}{}\n{}",
                            "=== new event (".bright_yellow(),
                            timestamp_ms.bright_yellow(),
                            ") ===".bright_yellow(),
                            &event
                        );
                        Some(event)
                    }
                    _ => None,
                }
            } else {
                None
            }
        })
        .collect()
}

'''
'''--- crates/indexer/src/main.rs ---
mod indexer;
mod send;

pub use indexer::*;
pub use send::*;

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    dotenv::dotenv()?;

    let stream = indexer::start_indexing().await?;
    send_data(stream).await?;

    Ok(())
}

'''
'''--- crates/indexer/src/send.rs ---
use anyhow::Result;
use chess_common::ChessEvent;
use futures_util::pin_mut;
use near_lake_framework::near_indexer_primitives::types::BlockHeight;
use reqwest::{
    header::{HeaderMap, AUTHORIZATION},
    Client, Url,
};
use serde::{Deserialize, Serialize};
use std::env;
use tokio_stream::{Stream, StreamExt};

#[derive(Serialize, Deserialize, Debug)]
struct BatchEvent {
    pub block_height: BlockHeight,
    pub timestamp: u64,
    pub events: Vec<ChessEvent>,
}

pub async fn send_data(
    stream: impl Stream<Item = (BlockHeight, u64, Vec<ChessEvent>)>,
) -> Result<()> {
    let mut headers = HeaderMap::new();
    headers.insert(
        AUTHORIZATION,
        format!("Bearer {}", env::var("INDEXER_SECRET")?).parse()?,
    );
    let client = Client::builder().default_headers(headers).build()?;
    let base_url = Url::parse(&env::var("API_BASE_URL")?)?;
    pin_mut!(stream);

    let mut last_block_height = 0;
    const MAX_BLOCK_HEIGHT_DIFF: BlockHeight = 100;
    while let Some((block_height, timestamp, events)) = stream.next().await {
        let batch_event = BatchEvent {
            block_height,
            timestamp,
            events,
        };

        if !batch_event.events.is_empty()
            || block_height - last_block_height >= MAX_BLOCK_HEIGHT_DIFF
        {
            println!("block_height: {}", block_height);
            last_block_height = block_height;
            match client
                .post(base_url.join("batch")?)
                .json(&batch_event)
                .send()
                .await?
                .error_for_status()
            {
                Ok(_) => {}
                Err(err) => {
                    panic!(
                        "{}\n\nSent data:\n{:#?}",
                        err,
                        serde_json::to_value(batch_event)
                    );
                }
            }
        }
    }

    Ok(())
}

'''
'''--- crates/nada-bot-stub/Cargo.toml ---
[package]
name = "nada-bot-stub"
version = "0.1.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
near-sdk.workspace = true

'''
'''--- crates/nada-bot-stub/src/lib.rs ---
#![allow(deprecated)]

use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    near_bindgen,
    store::UnorderedSet,
    AccountId, PanicOnDefault,
};

#[near_bindgen]
#[derive(BorshSerialize, BorshDeserialize, PanicOnDefault)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Contract {
    hoomans: UnorderedSet<AccountId>,
}

#[near_bindgen]
impl Contract {
    #[init]
    pub fn new() -> Self {
        Self {
            hoomans: UnorderedSet::new(b"h".to_vec()),
        }
    }

    pub fn add_human(&mut self, account: AccountId) {
        self.hoomans.insert(account);
    }

    pub fn is_human(&self, account_id: AccountId) -> bool {
        self.hoomans.contains(&account_id)
    }
}

'''
'''--- crates/test-token/Cargo.toml ---
[package]
name = "test-token"
version = "0.1.0"
authors = ["Mario Reder <mario.reder@pm.me>"]
edition = "2021"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
near-contract-standards.workspace = true

[dependencies.near-sdk]
workspace = true
features = ["unit-testing"]

'''
'''--- crates/test-token/src/lib.rs ---
#![allow(deprecated)]

use near_contract_standards::{
    fungible_token::{
        metadata::{FungibleTokenMetadata, FungibleTokenMetadataProvider},
        FungibleToken, FungibleTokenCore, FungibleTokenResolver,
    },
    storage_management::{StorageBalance, StorageBalanceBounds, StorageManagement},
};
use near_sdk::{
    borsh::{BorshDeserialize, BorshSerialize},
    json_types::U128,
    log, near_bindgen, AccountId, NearToken, PanicOnDefault, PromiseOrValue,
};

#[near_bindgen]
#[derive(BorshSerialize, BorshDeserialize, PanicOnDefault)]
#[borsh(crate = "near_sdk::borsh")]
pub struct Contract {
    name: String,
    symbol: String,
    icon: Option<String>,
    decimals: u8,
    token: FungibleToken,
}

#[near_bindgen]
impl Contract {
    #[init]
    pub fn new(name: String, symbol: String, icon: Option<String>, decimals: u8) -> Self {
        Self {
            name,
            symbol,
            icon,
            decimals,
            token: FungibleToken::new(b"t".to_vec()),
        }
    }

    pub fn mint(&mut self, account_id: AccountId, amount: U128) {
        self.token.internal_deposit(&account_id, amount.into());
    }

    pub fn burn(&mut self, account_id: AccountId, amount: U128) {
        self.token.internal_withdraw(&account_id, amount.into());
    }
}

#[near_bindgen]
impl FungibleTokenCore for Contract {
    #[payable]
    fn ft_transfer(&mut self, receiver_id: AccountId, amount: U128, memo: Option<String>) {
        self.token.ft_transfer(receiver_id, amount, memo)
    }

    #[payable]
    fn ft_transfer_call(
        &mut self,
        receiver_id: AccountId,
        amount: U128,
        memo: Option<String>,
        msg: String,
    ) -> PromiseOrValue<U128> {
        self.token.ft_transfer_call(receiver_id, amount, memo, msg)
    }

    fn ft_total_supply(&self) -> U128 {
        self.token.ft_total_supply()
    }

    fn ft_balance_of(&self, account_id: AccountId) -> U128 {
        self.token.ft_balance_of(account_id)
    }
}

#[near_bindgen]
impl FungibleTokenResolver for Contract {
    #[private]
    fn ft_resolve_transfer(
        &mut self,
        sender_id: AccountId,
        receiver_id: AccountId,
        amount: U128,
    ) -> U128 {
        let (used_amount, burned_amount) =
            self.token
                .internal_ft_resolve_transfer(&sender_id, receiver_id, amount);
        if burned_amount > 0 {
            log!("Account @{} burned {}", sender_id, burned_amount);
        }
        used_amount.into()
    }
}

#[near_bindgen]
impl StorageManagement for Contract {
    #[payable]
    fn storage_deposit(
        &mut self,
        account_id: Option<AccountId>,
        registration_only: Option<bool>,
    ) -> StorageBalance {
        self.token.storage_deposit(account_id, registration_only)
    }

    #[payable]
    fn storage_withdraw(&mut self, amount: Option<NearToken>) -> StorageBalance {
        self.token.storage_withdraw(amount)
    }

    #[payable]
    fn storage_unregister(&mut self, force: Option<bool>) -> bool {
        #[allow(unused_variables)]
        if let Some((account_id, balance)) = self.token.internal_storage_unregister(force) {
            log!("Closed @{} with {}", account_id, balance);
            true
        } else {
            false
        }
    }

    fn storage_balance_bounds(&self) -> StorageBalanceBounds {
        self.token.storage_balance_bounds()
    }

    fn storage_balance_of(&self, account_id: AccountId) -> Option<StorageBalance> {
        self.token.storage_balance_of(account_id)
    }
}

#[near_bindgen]
impl FungibleTokenMetadataProvider for Contract {
    fn ft_metadata(&self) -> FungibleTokenMetadata {
        FungibleTokenMetadata {
            spec: "ft-1.0.0".to_string(),
            name: self.name.clone(),
            symbol: self.symbol.clone(),
            icon: self.icon.clone(),
            reference: None,
            reference_hash: None,
            decimals: self.decimals,
        }
    }
}

#[cfg(test)]
mod tests {
    use near_sdk::test_utils::{accounts, VMContextBuilder};
    use near_sdk::{env, testing_env};

    use super::*;

    #[test]
    fn test_basics() {
        let mut context = VMContextBuilder::new();
        testing_env!(context.build());
        let mut contract = Contract::new("token".to_string(), "TKN".to_string(), None, 12);
        testing_env!(context
            .attached_deposit(env::storage_byte_cost().checked_mul(125).unwrap())
            .build());
        contract.storage_deposit(Some(accounts(0)), None);
        contract.mint(accounts(0), 1_000_000.into());
        assert_eq!(contract.ft_balance_of(accounts(0)), 1_000_000.into());

        testing_env!(context
            .attached_deposit(env::storage_byte_cost().checked_mul(125).unwrap())
            .build());
        contract.storage_deposit(Some(accounts(1)), None);
        testing_env!(context
            .attached_deposit(NearToken::from_yoctonear(1))
            .predecessor_account_id(accounts(0))
            .build());
        contract.ft_transfer(accounts(1), 1_000.into(), None);
        assert_eq!(contract.ft_balance_of(accounts(1)), 1_000.into());

        contract.burn(accounts(1), 500.into());
        assert_eq!(contract.ft_balance_of(accounts(1)), 500.into());
    }
}

'''
'''--- package.json ---
{
  "private": true,
  "workspaces": [
    "api",
    "app"
  ],
  "engines": {
    "node": ">= 18"
  },
  "author": "Mario Reder <mario.reder@pm.me>",
  "license": "MIT",
  "scripts": {
    "api": "yarn workspace api",
    "app": "yarn workspace app",
    "lint": "eslint --max-warnings=0 && prettier --check .",
    "format": "prettier --write ."
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^7.0.2",
    "@typescript-eslint/parser": "^7.0.2",
    "eslint": "^8.56.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-config-typescript": "^3",
    "eslint-import-resolver-typescript": "^3.6.1",
    "eslint-plugin-import": "^2.29.1",
    "eslint-plugin-prettier": "^5.1.3",
    "json-schema-to-typescript": "^13.1.2",
    "npm-run-all": "^4.1.5",
    "prettier": "^3.2.5",
    "tslib": "^2.6.2",
    "tsup": "^8.0.2",
    "typescript": "5.3.3",
    "wrangler": "^3.28.3"
  }
}

'''
'''--- res/chess_abi.json ---
{
  "schema_version": "0.4.0",
  "metadata": {
    "name": "chess",
    "version": "1.0.0",
    "authors": [
      "Mario Reder <mario.reder@pm.me>"
    ]
  },
  "body": {
    "functions": [
      {
        "name": "accept_challenge",
        "doc": " Accepts a challenge.\n\n Only works on non-money matches. Otherwise `ft_transfer_call` needs to be used for the\n respective token that is used as wager.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "challenge_id",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/GameId"
          }
        }
      },
      {
        "name": "bet_info",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "players",
              "type_schema": {
                "type": "array",
                "items": [
                  {
                    "$ref": "#/definitions/AccountId"
                  },
                  {
                    "$ref": "#/definitions/AccountId"
                  }
                ],
                "maxItems": 2,
                "minItems": 2
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/BetInfo"
          }
        }
      },
      {
        "name": "cancel",
        "doc": " Cancel a game, resulting in no player winning or loosing.\n\n Players can only cancel a game, if the opponent is human\n and hasn't been doing a move for the last approx. 3days (measured in block height)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/PromiseOrValueNull"
          }
        }
      },
      {
        "name": "challenge",
        "doc": " Challenges a player to a non-money match.\n\n Returns game ID.\n There can only ever be 10 open games due to storage limitations.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "challenged_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "null"
          }
        }
      },
      {
        "name": "cleanup",
        "kind": "call",
        "modifiers": [
          "private"
        ]
      },
      {
        "name": "contract_source_metadata",
        "kind": "view"
      },
      {
        "name": "create_ai_game",
        "doc": " Create a new game against an AI player.\n\n Returns game ID.\n There can only ever be 10 open games due to storage limitations.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "difficulty",
              "type_schema": {
                "$ref": "#/definitions/Difficulty"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/GameId"
          }
        }
      },
      {
        "name": "ft_balance_of",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "string"
          }
        }
      },
      {
        "name": "ft_metadata",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/FungibleTokenMetadata"
          }
        }
      },
      {
        "name": "ft_on_transfer",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "sender_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "amount",
              "type_schema": {
                "type": "string"
              }
            },
            {
              "name": "msg",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/PromiseOrValueString"
          }
        }
      },
      {
        "name": "ft_total_supply",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "string"
          }
        }
      },
      {
        "name": "ft_transfer",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "receiver_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "amount",
              "type_schema": {
                "type": "string"
              }
            },
            {
              "name": "memo",
              "type_schema": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          ]
        }
      },
      {
        "name": "ft_transfer_call",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "receiver_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "amount",
              "type_schema": {
                "type": "string"
              }
            },
            {
              "name": "memo",
              "type_schema": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            {
              "name": "msg",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/PromiseOrValueString"
          }
        }
      },
      {
        "name": "game_info",
        "doc": " Returns information about a game including players and turn color.",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/GameInfo"
          }
        }
      },
      {
        "name": "get_account",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/AccountInfo"
          }
        }
      },
      {
        "name": "get_accounts",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "skip",
              "type_schema": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "uint",
                "minimum": 0.0
              }
            },
            {
              "name": "limit",
              "type_schema": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "uint",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/AccountId"
            }
          }
        }
      },
      {
        "name": "get_achievement_list",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/AchievementInfo"
            }
          }
        }
      },
      {
        "name": "get_achievements",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "type": "integer",
                  "format": "uint64",
                  "minimum": 0.0
                },
                {
                  "$ref": "#/definitions/Achievement"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "get_board",
        "doc": " Returns an array of strings representing the board",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "maxItems": 8,
            "minItems": 8
          }
        }
      },
      {
        "name": "get_challenge",
        "doc": " Returns info about open challenge.",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "challenge_id",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/Challenge"
          }
        }
      },
      {
        "name": "get_challenges",
        "doc": " Returns all open challenges.",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "is_challenger",
              "type_schema": {
                "type": "boolean"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      {
        "name": "get_elo_ratings",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "skip",
              "type_schema": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "uint",
                "minimum": 0.0
              }
            },
            {
              "name": "limit",
              "type_schema": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "uint",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "number",
                  "format": "double"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "get_elo_ratings_by_ids",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_ids",
              "type_schema": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AccountId"
                }
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "number",
                  "format": "double"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "get_fees",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/Fees"
          }
        }
      },
      {
        "name": "get_game_ids",
        "doc": " Returns all open game IDs for given wallet ID.",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/GameId"
            }
          }
        }
      },
      {
        "name": "get_quest_cooldowns",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "type": "integer",
                  "format": "uint64",
                  "minimum": 0.0
                },
                {
                  "$ref": "#/definitions/Quest"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "get_quest_list",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/QuestInfo"
            }
          }
        }
      },
      {
        "name": "get_token_amount",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "token_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "string"
          }
        }
      },
      {
        "name": "get_token_whitelist",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/AccountId"
            }
          }
        }
      },
      {
        "name": "get_tokens",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "string"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "get_treasury_tokens",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "string"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        }
      },
      {
        "name": "migrate",
        "kind": "call",
        "modifiers": [
          "init"
        ]
      },
      {
        "name": "new",
        "kind": "call",
        "modifiers": [
          "init"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "social_db",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "nada_bot_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        }
      },
      {
        "name": "on_register_account",
        "kind": "call",
        "modifiers": [
          "private"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "min_balance",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "callbacks": [
          {
            "serialization_type": "json",
            "type_schema": {
              "type": "boolean"
            }
          }
        ]
      },
      {
        "name": "on_update_is_human",
        "kind": "call",
        "modifiers": [
          "private"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "callbacks": [
          {
            "serialization_type": "json",
            "type_schema": {
              "type": "boolean"
            }
          }
        ],
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "null"
          }
        }
      },
      {
        "name": "pause",
        "kind": "call",
        "modifiers": [
          "private"
        ]
      },
      {
        "name": "play_move",
        "doc": " Plays a move.\n\n Only works, if it is your turn. Panics otherwise.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            },
            {
              "name": "mv",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": [
              {
                "anyOf": [
                  {
                    "$ref": "#/definitions/GameOutcome"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "maxItems": 8,
                "minItems": 8
              }
            ],
            "maxItems": 2,
            "minItems": 2
          }
        }
      },
      {
        "name": "register_token",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "token_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            },
            {
              "name": "amount",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "null"
          }
        }
      },
      {
        "name": "reject_challenge",
        "doc": " Rejects a challenge.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "challenge_id",
              "type_schema": {
                "type": "string"
              }
            },
            {
              "name": "is_challenger",
              "type_schema": {
                "type": "boolean"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/PromiseOrValueNull"
          }
        }
      },
      {
        "name": "render_board",
        "doc": " Renders a game as a string.",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "string"
          }
        }
      },
      {
        "name": "resign",
        "doc": " Resigns a game.\n\n Can be called even if it is not your turn.\n You might need to call this if a game is stuck and the AI refuses to work.\n You can also only have 10 open games due to storage limitations.",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "game_id",
              "type_schema": {
                "$ref": "#/definitions/GameId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/GameOutcome"
          }
        }
      },
      {
        "name": "resume",
        "kind": "call",
        "modifiers": [
          "private"
        ]
      },
      {
        "name": "set_fees",
        "kind": "call",
        "modifiers": [
          "private"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "treasury",
              "type_schema": {
                "type": "integer",
                "format": "uint16",
                "minimum": 0.0
              }
            },
            {
              "name": "royalties",
              "type_schema": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": [
                    {
                      "$ref": "#/definitions/AccountId"
                    },
                    {
                      "type": "integer",
                      "format": "uint16",
                      "minimum": 0.0
                    }
                  ],
                  "maxItems": 2,
                  "minItems": 2
                }
              }
            }
          ]
        }
      },
      {
        "name": "set_wager_whitelist",
        "kind": "call",
        "modifiers": [
          "private"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "whitelist",
              "type_schema": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/AccountId"
                }
              }
            }
          ]
        }
      },
      {
        "name": "storage_balance_bounds",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBalanceBounds"
          }
        }
      },
      {
        "name": "storage_balance_of",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "anyOf": [
              {
                "$ref": "#/definitions/StorageBalance"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      {
        "name": "storage_deposit",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/AccountId"
                  },
                  {
                    "type": "null"
                  }
                ]
              }
            },
            {
              "name": "registration_only",
              "type_schema": {
                "type": [
                  "boolean",
                  "null"
                ]
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBalance"
          }
        }
      },
      {
        "name": "storage_unregister",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "force",
              "type_schema": {
                "type": [
                  "boolean",
                  "null"
                ]
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "storage_withdraw",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "amount",
              "type_schema": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBalance"
          }
        }
      },
      {
        "name": "update_is_human",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/Promise"
          }
        }
      },
      {
        "name": "withdraw_token",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "token_id",
              "type_schema": {
                "$ref": "#/definitions/AccountId"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/PromiseOrValueNull"
          }
        }
      }
    ],
    "root_schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "String",
      "type": "string",
      "definitions": {
        "AccountId": {
          "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
          "type": "string"
        },
        "AccountInfo": {
          "type": "object",
          "required": [
            "is_human",
            "near_amount",
            "points"
          ],
          "properties": {
            "elo": {
              "type": [
                "number",
                "null"
              ],
              "format": "double"
            },
            "is_human": {
              "type": "boolean"
            },
            "near_amount": {
              "type": "string"
            },
            "points": {
              "type": "string"
            }
          }
        },
        "Achievement": {
          "type": "string",
          "enum": [
            "FirstWinHuman",
            "FirstWinAiEasy",
            "FirstWinAiMedium",
            "FirstWinAiHard"
          ]
        },
        "AchievementInfo": {
          "type": "object",
          "required": [
            "name",
            "points"
          ],
          "properties": {
            "name": {
              "type": "string"
            },
            "points": {
              "type": "string"
            }
          }
        },
        "BetInfo": {
          "type": "object",
          "required": [
            "bets",
            "is_locked"
          ],
          "properties": {
            "bets": {
              "type": "object",
              "additionalProperties": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": [
                    {
                      "$ref": "#/definitions/AccountId"
                    },
                    {
                      "$ref": "#/definitions/BetView"
                    }
                  ],
                  "maxItems": 2,
                  "minItems": 2
                }
              }
            },
            "is_locked": {
              "type": "boolean"
            }
          }
        },
        "BetView": {
          "type": "object",
          "required": [
            "amount",
            "winner"
          ],
          "properties": {
            "amount": {
              "type": "string"
            },
            "winner": {
              "$ref": "#/definitions/AccountId"
            }
          }
        },
        "Challenge": {
          "type": "object",
          "required": [
            "challenged",
            "challenger",
            "id"
          ],
          "properties": {
            "challenged": {
              "$ref": "#/definitions/AccountId"
            },
            "challenger": {
              "$ref": "#/definitions/AccountId"
            },
            "id": {
              "type": "string"
            },
            "wager": {
              "type": [
                "array",
                "null"
              ],
              "items": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "string"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          }
        },
        "Color": {
          "type": "string",
          "enum": [
            "White",
            "Black"
          ]
        },
        "Difficulty": {
          "type": "string",
          "enum": [
            "Easy",
            "Medium",
            "Hard"
          ]
        },
        "Fees": {
          "type": "object",
          "required": [
            "royalties",
            "treasury"
          ],
          "properties": {
            "royalties": {
              "type": "array",
              "items": {
                "type": "array",
                "items": [
                  {
                    "$ref": "#/definitions/AccountId"
                  },
                  {
                    "type": "integer",
                    "format": "uint16",
                    "minimum": 0.0
                  }
                ],
                "maxItems": 2,
                "minItems": 2
              }
            },
            "treasury": {
              "type": "integer",
              "format": "uint16",
              "minimum": 0.0
            }
          }
        },
        "FungibleTokenMetadata": {
          "type": "object",
          "required": [
            "decimals",
            "name",
            "spec",
            "symbol"
          ],
          "properties": {
            "decimals": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "icon": {
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "type": "string"
            },
            "reference": {
              "type": [
                "string",
                "null"
              ]
            },
            "reference_hash": {
              "type": [
                "string",
                "null"
              ]
            },
            "spec": {
              "type": "string"
            },
            "symbol": {
              "type": "string"
            }
          }
        },
        "GameId": {
          "type": "array",
          "items": [
            {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            {
              "$ref": "#/definitions/AccountId"
            },
            {
              "anyOf": [
                {
                  "$ref": "#/definitions/AccountId"
                },
                {
                  "type": "null"
                }
              ]
            }
          ],
          "maxItems": 3,
          "minItems": 3
        },
        "GameInfo": {
          "type": "object",
          "required": [
            "black",
            "has_bets",
            "last_block_height",
            "turn_color",
            "white"
          ],
          "properties": {
            "black": {
              "$ref": "#/definitions/Player"
            },
            "has_bets": {
              "type": "boolean"
            },
            "last_block_height": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "turn_color": {
              "$ref": "#/definitions/Color"
            },
            "white": {
              "$ref": "#/definitions/Player"
            }
          }
        },
        "GameOutcome": {
          "oneOf": [
            {
              "type": "object",
              "required": [
                "color",
                "result"
              ],
              "properties": {
                "color": {
                  "$ref": "#/definitions/Color"
                },
                "result": {
                  "type": "string",
                  "enum": [
                    "Victory"
                  ]
                }
              }
            },
            {
              "type": "object",
              "required": [
                "result"
              ],
              "properties": {
                "result": {
                  "type": "string",
                  "enum": [
                    "Stalemate"
                  ]
                }
              }
            }
          ]
        },
        "Player": {
          "oneOf": [
            {
              "type": "object",
              "required": [
                "type",
                "value"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "Human"
                  ]
                },
                "value": {
                  "$ref": "#/definitions/AccountId"
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "value"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "Ai"
                  ]
                },
                "value": {
                  "$ref": "#/definitions/Difficulty"
                }
              }
            }
          ]
        },
        "Promise": true,
        "PromiseOrValueNull": {
          "type": "null"
        },
        "PromiseOrValueString": {
          "type": "string"
        },
        "Quest": {
          "type": "string",
          "enum": [
            "DailyPlayMove",
            "WeeklyWinHuman"
          ]
        },
        "QuestInfo": {
          "type": "object",
          "required": [
            "cooldown",
            "name",
            "points",
            "points_on_cd"
          ],
          "properties": {
            "cooldown": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "name": {
              "type": "string"
            },
            "points": {
              "type": "string"
            },
            "points_on_cd": {
              "type": "string"
            }
          }
        },
        "StorageBalance": {
          "type": "object",
          "required": [
            "available",
            "total"
          ],
          "properties": {
            "available": {
              "type": "string"
            },
            "total": {
              "type": "string"
            }
          }
        },
        "StorageBalanceBounds": {
          "type": "object",
          "required": [
            "min"
          ],
          "properties": {
            "max": {
              "type": [
                "string",
                "null"
              ]
            },
            "min": {
              "type": "string"
            }
          }
        }
      }
    }
  }
}
'''
'''--- rust-toolchain.toml ---
[toolchain]
channel = "nightly-2024-02-16"
components = ["clippy", "rustfmt"]
targets = ["wasm32-unknown-unknown"]

'''
'''--- tsconfig.json ---
{
  "compilerOptions": {
    "target": "esnext",
    "module": "esnext",
    "moduleResolution": "node",
    "esModuleInterop": true,
    "sourceMap": true,
    "strict": true,
    "skipLibCheck": true,
    "lib": ["esnext", "webworker"],
    "allowSyntheticDefaultImports": true,
    "resolveJsonModule": true,
    "types": ["@cloudflare/workers-types"],
    "baseUrl": "."
  },
  "exclude": ["node_modules", "api/dist/**/*"]
}

'''