*GitHub Repository "jackdishman/near-vue"*

'''--- README.md ---
<br />
<br />

<p>
<img src="https://near.org/wp-content/themes/near-19/assets/img/neue/logo.svg?t=1600963474" width="200">
</p>

<br />
<br />

# Near Vue Tailwind

A quick start setup for a dApp in NEAR, Vue 3, Tailwind CSS 2

This starter template also includes:

- [Vue-Near](https://www.npmjs.com/package/vue-near) Easy NEAR Blockchain methods using `$near`
- [Vue Router 4.x](https://github.com/vuejs/vue-router-next)
- [Inter var font](https://github.com/rsms/inter) (self hosted, woff2, version 3.15)
- First-party plugins needed for Tailwind UI. Uncomment them in `tailwind.config.js` to enable.
  * [@tailwindcss/forms](https://github.com/tailwindlabs/tailwindcss-forms)
  * [@tailwindcss/typography](https://github.com/tailwindlabs/tailwindcss-typography)
  * [@tailwindcss/aspect-ratio](https://github.com/tailwindlabs/tailwindcss-aspect-ratio)

### Getting Started üöÄ

npm:
```sh
npm install
npm run dev
npm run build
npm run contract:build
npm run contract:dev:deploy
npm run contract:deploy
npm run contract:test
```
yarn:
```sh
yarn
yarn dev
yarn build
yarn contract:build
yarn contract:dev:deploy
yarn contract:deploy
yarn contract:test
```

### Bonus
- [vue-tailwindcss-cdn](https://github.com/web2033/vue-tailwindcss-cdn) (a single HTML file with CDN links)
- [CodePen Template](https://codepen.io/web2033/pen/QWNbwxY) with a similar stack (Vue 3.x + Tailwind 2.x + Inter var font)

## Showcase

Did you use this template? If so, send a PR so it can be showcased here! üéâ

## Tests

I would love help writing tests. ‚ù§Ô∏è

## License

[MIT](LICENSE.txt) License

----

### Refill My ‚òïÔ∏è?

If you feel this helped you in some way, you can tip `tjtc.near`
'''
'''--- contract/Cargo.toml ---
[package]
name = "dummy_contract"
version = "0.0.1"
authors = ["Zack Kollar (me@seedyrom.io)"]
edition = "2018"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
serde = { version = "*", features = ["derive"] }
serde_json = "*"
borsh = "*"
near-sdk = "2.0.0"
wee_alloc = { version = "0.4.5", default-features = false, features = [] }
bs58 = "0.3"

[profile.release]
codegen-units = 1
# Tell `rustc` to optimize for small code size.
opt-level = "z"
lto = true
debug = false
panic = "abort"
# Opt into extra safety checks on arithmetic operations https://stackoverflow.com/a/64136471/249801
overflow-checks = true

[workspace]
members = []

'''
'''--- contract/README.md ---
# Dummy Contract

A dummy contract for `near-vue-tailwind` used as a placeholder for your code!

## Testing
To test run:
```bash
cargo test --package dummy_contract -- --nocapture
```

'''
'''--- contract/build.js ---
const shell = require('shelljs');

shell.fatal = true; // same as "set -e"

shell.cd('contract');
// Note: see flags in ./cargo/config
shell.exec('cargo build --target wasm32-unknown-unknown --release');
shell.cp('./target/wasm32-unknown-unknown/release/dummy_contract.wasm', './res');
'''
'''--- contract/src/lib.rs ---
use near_sdk::borsh::{self, BorshDeserialize, BorshSerialize};
use near_sdk::{near_bindgen};

#[global_allocator]
static ALLOC: wee_alloc::WeeAlloc = wee_alloc::WeeAlloc::INIT;

#[near_bindgen]
#[derive(Default, BorshDeserialize, BorshSerialize)]
pub struct DummyContract {
    
}

#[near_bindgen]
impl DummyContract {

}

#[cfg(not(target_arch = "wasm32"))]
#[cfg(test)]
mod tests {
    // use super::*;
    use near_sdk::MockedBlockchain;
    use near_sdk::{testing_env, VMContext};

    fn get_context(input: Vec<u8>, is_view: bool) -> VMContext {
        VMContext {
            current_account_id: "alice_near".to_string(),
            signer_account_id: "bob_near".to_string(),
            signer_account_pk: vec![0, 1, 2],
            predecessor_account_id: "carol_near".to_string(),
            input,
            block_index: 0,
            epoch_height: 0,
            block_timestamp: 0,
            account_balance: 0,
            account_locked_balance: 0,
            storage_usage: 0,
            attached_deposit: 0,
            prepaid_gas: 10u64.pow(18),
            random_seed: vec![0, 1, 2],
            is_view,
            output_data_receivers: vec![],
        }
    }

    #[test]
    fn nonexisting_poll() {
        let context = get_context(vec![], false);
        testing_env!(context);
        assert_eq!(true, false);
    }
}

'''
'''--- index.html ---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NEAR + VUE + TAILWIND</title>
    <link rel="stylesheet" href="/font/inter.css" />
    <style>html { background: #eef8f9; } html.dark { background: #0A1F1C; }</style>
    <script type="text/javascript">
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.querySelector('html').classList.add('dark')
      } else {
        document.querySelector('html').classList.remove('dark')
      }
    </script>
  </head>
  <body>
    <div id="app"></div>
    <!-- Build with Vite is messing import up somehow using local dep instead! -->
    <script src="/node_modules/near-api-js/dist/near-api-js.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/nearprotocol/near-api-js/dist/near-api-js.js"></script> -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>

'''
'''--- jsconfig.json ---
{
  "exclude": ["node_modules", "dist"]
}
'''
'''--- package.json ---
{
  "name": "near-vue-tailwind",
  "version": "0.1.1",
  "description": "NEAR Protocol starter kit including Vue 3 & tailwind 2, enabling easy setup for a blockchain dApp",
  "author": "trevorjtclarke",
  "scripts": {
    "dev": "vite --open",
    "build": "cross-env NODE_ENV=production vite build",
    "prestart": "npm run contract:build && npm run contract:dev:deploy",
    "contract:build": "node ./contract/build",
    "contract:dev:deploy": "near dev-deploy --wasmFile ./contract/res/dummy_contract.wasm",
    "contract:deploy": "near deploy --wasmFile ./contract/res/dummy_contract.wasm",
    "contract:test": "cd contract && cargo test --package status-message -- --nocapture"
  },
  "keywords": [
    "NEAR",
    "NEAR Protocol",
    "NEAR",
    "Blockchain",
    "NEAR Blockchain",
    "Vue",
    "Vuejs",
    "Vue 3",
    "Tailwind"
  ],
  "dependencies": {
    "vue": "^3.0.4",
    "vue-axios": "^3.2.1",
    "vue-near": "^0.1.1",
    "vue-router": "^4.0.1",
    "vuex": "^4.0.0-rc.2"
  },
  "devDependencies": {
    "@tailwindcss/aspect-ratio": "^0.2.0",
    "@tailwindcss/forms": "^0.2.1",
    "@tailwindcss/typography": "^0.3.1",
    "@vitejs/plugin-vue": "^1.0.4",
    "@vue/compiler-sfc": "^3.0.5",
    "autoprefixer": "^9.8.6",
    "cross-env": "^7.0.3",
    "near-api-js": "^0.36.2",
    "postcss": "^7.0.35",
    "shelljs": "^0.8.4",
    "tailwindcss": "npm:@tailwindcss/postcss7-compat@^2.0.2",
    "vite": "^2.0.0-beta.8"
  }
}

'''
'''--- postcss.config.js ---
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

'''
'''--- public/font/inter.css ---
@font-face {
  font-family: 'Inter var';
  font-weight: 100 900;
  font-display: swap;
  font-style: normal;
  font-named-instance: 'Regular';
  src: url('Inter-roman.var.woff2') format('woff2');
}
@font-face {
  font-family: 'Inter var';
  font-weight: 100 900;
  font-display: swap;
  font-style: italic;
  font-named-instance: 'Italic';
  src: url('Inter-italic.var.woff2') format('woff2');
}

'''
'''--- public/near-logo.svg ---
<svg class="near-logo current-stroke stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 414 162"><path d="M207.21 54.75v52.5a.76.76 0 0 1-.75.75H201a7.49 7.49 0 0 1-6.3-3.43l-24.78-38.3.85 19.13v21.85a.76.76 0 0 1-.75.75h-7.22a.76.76 0 0 1-.75-.75v-52.5a.76.76 0 0 1 .75-.75h5.43a7.52 7.52 0 0 1 6.3 3.42l24.78 38.24-.77-19.06V54.75a.75.75 0 0 1 .75-.75h7.22a.76.76 0 0 1 .7.75zM281 108h-7.64a.75.75 0 0 1-.7-1l20.24-52.28A1.14 1.14 0 0 1 294 54h9.57a1.14 1.14 0 0 1 1.05.72L324.8 107a.75.75 0 0 1-.7 1h-7.64a.76.76 0 0 1-.71-.48l-16.31-43a.75.75 0 0 0-1.41 0l-16.31 43a.76.76 0 0 1-.72.48zM377.84 106.79L362.66 87.4c8.57-1.62 13.58-7.4 13.58-16.27 0-10.19-6.63-17.13-18.36-17.13h-21.17a1.12 1.12 0 0 0-1.12 1.12 7.2 7.2 0 0 0 7.2 7.2H357c7.09 0 10.49 3.63 10.49 8.87s-3.32 9-10.49 9h-20.29a1.13 1.13 0 0 0-1.12 1.13v26a.75.75 0 0 0 .75.75h7.22a.76.76 0 0 0 .75-.75V87.87h8.33l13.17 17.19a7.51 7.51 0 0 0 6 2.94h5.48a.75.75 0 0 0 .55-1.21zM258.17 54h-33.5a1 1 0 0 0-1 1 7.33 7.33 0 0 0 7.33 7.33h27.17a.74.74 0 0 0 .75-.75v-6.83a.75.75 0 0 0-.75-.75zm0 45.67h-25a.76.76 0 0 1-.75-.75V85.38a.75.75 0 0 1 .75-.75h23.11a.75.75 0 0 0 .75-.75V77a.75.75 0 0 0-.75-.75h-31.49a1.13 1.13 0 0 0-1.12 1.13v29.46a1.12 1.12 0 0 0 1.12 1.12h33.38a.75.75 0 0 0 .75-.75v-6.83a.74.74 0 0 0-.75-.71zM108.24 40.57L89.42 68.5a2 2 0 0 0 3 2.63l18.52-16a.74.74 0 0 1 1.24.56v50.29a.75.75 0 0 1-1.32.48l-56-67A9.59 9.59 0 0 0 47.54 36h-1.95A9.59 9.59 0 0 0 36 45.59v70.82a9.59 9.59 0 0 0 9.59 9.59 9.59 9.59 0 0 0 8.17-4.57L72.58 93.5a2 2 0 0 0-3-2.63l-18.52 16a.74.74 0 0 1-1.24-.56V56.07a.75.75 0 0 1 1.32-.48l56 67a9.59 9.59 0 0 0 7.33 3.4h2a9.59 9.59 0 0 0 9.59-9.59V45.59a9.59 9.59 0 0 0-9.65-9.59 9.59 9.59 0 0 0-8.17 4.57z"></path></svg>
'''
'''--- public/near_token_icon.svg ---
<svg fill="none" height="38" viewBox="0 0 38 38" width="38" xmlns="http://www.w3.org/2000/svg"><path d="m11.0833 11.0833 1.1196-1.11956c-.4528-.45282-1.1338-.58829-1.7255-.34322-.59164.24507-.9774.82238-.9774 1.46278zm0 15.8334h-1.5833c0 .6404.38576 1.2177.9774 1.4628.5917.2451 1.2727.1096 1.7255-.3433zm15.8334-15.8334h1.5833c0-.6404-.3857-1.21771-.9774-1.46278s-1.2727-.1096-1.7255.34322zm0 15.8334-1.1196 1.1195c.4528.4529 1.1338.5884 1.7255.3433s.9774-.8224.9774-1.4628zm-5.0779-12.9946c-.6183.6183-.6183 1.6208 0 2.2391s1.6208.6183 2.2391 0zm-5.6776 10.1558c.6183-.6183.6183-1.6209 0-2.2391-.6183-.6183-1.6208-.6183-2.2391 0zm-6.6612-12.9946v15.8334h3.1667v-15.8334zm15.8333 0v15.8334h3.1667v-15.8334zm2.7029 14.7138-15.8333-15.83336-2.23916 2.23916 15.83336 15.8333zm-3.9583-9.6359 3.9583-3.9583-2.2391-2.23916-3.9583 3.95836zm-11.875 11.875 3.9583-3.9583-2.2391-2.2391-3.95836 3.9583z" fill="#8dd4bd"/><path d="m19 36.4167c9.619 0 17.4167-7.7977 17.4167-17.4167 0-9.61896-7.7977-17.41666-17.4167-17.41666-9.61896 0-17.41666 7.7977-17.41666 17.41666 0 9.619 7.7977 17.4167 17.41666 17.4167z" stroke="#8dd4bd" stroke-width="2"/></svg>
'''
'''--- src/main.js ---
import { createApp } from 'vue'
import { createStore } from 'vuex'
import { createRouter, createWebHistory } from 'vue-router'
import './tailwind.css'
import App from './App.vue'
import { routes } from './routes.js'
import storage from './store'
import VueNear from 'vue-near'

const app = createApp(App)
const store = createStore(storage)
const router = createRouter({
  history: createWebHistory(),
  routes: import.meta.hot ? [] : routes,
  scrollBehavior(to, from, savedPosition) {
    if (to.hash) return { el: to.hash, behavior: 'smooth' }
    return { top: 0 }
  },
})

if (import.meta.hot) {
  let removeRoutes = []

  for (let route of routes) {
    removeRoutes.push(router.addRoute(route))
  }

  import.meta.hot.accept('./routes.js', ({ routes }) => {
    for (let removeRoute of removeRoutes) removeRoute()
    removeRoutes = []
    for (let route of routes) {
      removeRoutes.push(router.addRoute(route))
    }
    router.replace('')
  })
}

app.use(router)
app.use(store)
app.use(VueNear, { env: process.env.NODE_ENV || 'development' })

app.mount('#app')

'''
'''--- src/routes.js ---
import Home from './views/Home.vue'
import NotFound from './views/NotFound.vue'

export let routes = [
  { path: '/', component: Home, meta: { title: 'Home' } },
  { path: '/:path(.*)', component: NotFound }
]

'''
'''--- src/store/actions.js ---
export default {
  // Generic Update
  update({ commit }, { key, value }) {
    commit('UPDATE', { key, value })
  },

  pushItem({ commit }, { key, value }) {
    commit('PUSH', { key, value })
  },

  deleteItem({ commit }, { key, idx }) {
    commit('DELETE', { key, idx })
  },

  addSubItem({ commit }, { key, subKey, value }) {
    commit('ADDSUBITEM', { key, subKey, value })
  },

  removeSubItem({ commit }, { key, subKey }) {
    commit('REMOVESUBITEM', { key, subKey })
  },

  logout({ commit }) {
    commit('UPDATEALL', {
      account_id: null,
      account: null,
      connection: null,
    })
  },
}

'''
'''--- src/store/getters.js ---
export default {
  account_id: state => state.account_id,
  account: state => state.account,
  connection: state => state.connection,
}

'''
'''--- src/store/index.js ---
// Global Store
import actions from './actions'
import getters from './getters'
import mutations from './mutations'
import state from './state'

export default {
  // strict: false,
  actions,
  getters,
  mutations,
  state,
}

'''
'''--- src/store/mutations.js ---
export default {
  // Generic update
  UPDATE(state, { key, value }) {
    state[key] = value
  },

  UPDATEALL(state, obj) {
    Object.keys(obj).forEach(k => {
      state[k] = obj[k]
    })
  },

  PUSH(state, { key, value }) {
    if (!state[key] || !Array.isArray(state[key])) return
    state[key].push(value)
  },

  DELETE(state, { key, idx }) {
    if (!state[key] || !Array.isArray(state[key])) return
    state[key].splice(idx, 1)
  },

  ADDSUBITEM(state, { key, subKey, value }) {
    if (!state[key]) return
    // flush cache
    delete state[key][subKey]
    // next tick
    setTimeout(() => {
      state[key][subKey] = value
    }, 100)
  },

  REMOVESUBITEM(state, { key, subKey }) {
    if (!state[key]) return
    delete state[key][subKey]
  },
}

'''
'''--- src/store/state.js ---
export default {
  account_id: null,
  account: null,
  connection: null,
}

'''
'''--- src/tailwind.css ---
@import 'tailwindcss/base';

@import 'tailwindcss/components';

@import 'tailwindcss/utilities';

'''
'''--- tailwind.config.js ---
const defaultTheme = require('tailwindcss/defaultTheme')

module.exports = {
  purge: ['./index.html', './src/**/*.{vue,js,ts,jsx,tsx}'],
  darkMode: 'class', // or 'media' or 'class' or false
  theme: {
    extend: {
      fontFamily: {
        sans: ['"Inter var"', ...defaultTheme.fontFamily.sans],
      },
      colors: {
        // GO TO https://tailwind.ink/, FOR CUSTOMIZING
      },
    },
  },
  plugins: [
    require('@tailwindcss/forms'),
    // require('@tailwindcss/typography'),
    // require('@tailwindcss/aspect-ratio'),
  ],
}
'''
'''--- vite.config.js ---
import vue from '@vitejs/plugin-vue'

export default {
  plugins: [vue()],
  optimizeDeps: {
    exclude: [
      'graphql',
    ],
  },
}
'''